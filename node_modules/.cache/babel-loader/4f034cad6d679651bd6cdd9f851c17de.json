{"ast":null,"code":";\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.alanBtn = factory();\n  }\n})(this, function () {\n  (function (ns) {\n    \"use strict\";\n\n    var audioElement = document.createElement(\"audio\");\n    audioElement.setAttribute(\"autoplay\", \"true\");\n    audioElement.addEventListener(\"ended\", function () {\n      playState = PLAY_IDLE;\n\n      _handleQueue();\n    });\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      document.body.appendChild(audioElement);\n    });\n    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.mediaDevices && navigator.mediaDevices.getUserMedia;\n\n    if (!navigator.getUserMedia) {\n      console.error(\"getUserMedia is not supported\");\n    }\n\n    var PLAY_IDLE = 'idle';\n    var PLAY_ACTIVE = 'active';\n    var handlers = {};\n    var micStream = null;\n    var audioRecorder = null;\n    var audioSource = null;\n    var frameSize = 4096;\n    var audioCtx = null;\n    var totalSamples = 0;\n    var sampleRate = 0;\n    var firstSampleTs = 0;\n    var frameCount = 0;\n    var playState = PLAY_IDLE;\n    var audioQueue = [];\n\n    if (window.AudioContext) {\n      audioCtx = new window.AudioContext();\n    }\n\n    if (window.webkitAudioContext) {\n      audioCtx = new window.webkitAudioContext();\n    }\n\n    function _handleQueue() {\n      if (!audioQueue.length || playState !== PLAY_IDLE) {\n        return;\n      }\n\n      while (playState === PLAY_IDLE && audioQueue.length) {\n        var o = audioQueue.shift();\n\n        if (o.event) {\n          fireEvent('command', o.event);\n        } else if (o.text) {\n          fireEvent('text', o.text);\n        } else if (o.audio) {\n          playState = PLAY_ACTIVE;\n          fireEvent('playStart');\n          audioElement.setAttribute(\"src\", o.audio);\n        } else {\n          console.error('invalid queue item');\n        }\n      }\n    }\n\n    function fireEvent(event, o1, o2) {\n      var h = handlers[event];\n\n      if (h) {\n        for (var i = 0; i < h.length; i++) {\n          h[i](o1, o2);\n        }\n      }\n    }\n\n    function onGetUserMedia(mic) {\n      console.log('got microphone');\n      fireEvent('micStart', mic);\n      micStream = mic;\n\n      if (audioCtx.state === 'suspended') {\n        audioCtx.resume();\n      }\n\n      audioSource = audioCtx.createMediaStreamSource(micStream);\n      audioRecorder = audioCtx.createScriptProcessor(frameSize, 1, 1);\n      audioSource.connect(audioRecorder);\n\n      audioRecorder.onaudioprocess = function (e) {\n        if (micStream === mic) {\n          recordFrame(audioCtx.sampleRate, e.inputBuffer.getChannelData(0));\n        }\n      };\n\n      audioRecorder.connect(audioCtx.destination);\n    }\n\n    function onGetUserMediaError(err) {\n      console.error('failed to get microphone', err);\n      fireEvent('micFail', err);\n    }\n\n    function recordFrame(sr, float32array) {\n      if (playState === PLAY_ACTIVE) {\n        return;\n      }\n\n      if (sampleRate !== sr) {\n        sampleRate = sr;\n        firstSampleTs = Date.now();\n        totalSamples = 0;\n        frameCount = 0;\n      }\n\n      totalSamples += float32array.length;\n\n      if (++frameCount >= 300) {\n        frameCount = 0;\n        var audioTime = 1000 * totalSamples / sampleRate;\n        var clockTime = Date.now() - firstSampleTs;\n        console.log(\"audioTime: \" + audioTime + \", clockTime: \" + clockTime + \", ratio a/c: \" + audioTime / clockTime);\n      }\n\n      fireEvent('frame', sampleRate, float32array);\n    }\n\n    ns.isPlaying = function () {\n      return playState === PLAY_ACTIVE;\n    };\n\n    ns.playText = function (text) {\n      audioQueue.push({\n        text: text\n      });\n\n      _handleQueue();\n    };\n\n    ns.playEvent = function (event) {\n      audioQueue.push({\n        event: event\n      });\n\n      _handleQueue();\n    };\n\n    ns.playAudio = function (audio) {\n      audioQueue.push({\n        audio: audio\n      });\n\n      _handleQueue();\n    };\n\n    ns.on = function (event, handler) {\n      var h = handlers[event];\n\n      if (h == null) {\n        handlers[event] = [handler];\n      } else {\n        h.push(handler);\n      }\n    };\n\n    ns.off = function (event, handler) {\n      var h = handlers[event];\n\n      if (h) {\n        var index = h.indexOf(handler);\n\n        if (index >= 0) {\n          h.splice(index, 1);\n        }\n      }\n    };\n\n    ns.sampleRate = function () {\n      return sampleRate;\n    };\n\n    ns.start = function (onStarted) {\n      if (!micStream) {\n        if (navigator.mediaDevices) {\n          navigator.mediaDevices.getUserMedia({\n            audio: true\n          }).then(onGetUserMedia, onGetUserMediaError);\n        } else {\n          navigator.getUserMedia({\n            audio: true\n          }, onGetUserMedia, onGetUserMediaError);\n        }\n      }\n\n      if (onStarted) {\n        onStarted();\n        onStarted = null;\n      }\n    };\n\n    ns.stop = function () {\n      sampleRate = -1;\n\n      if (micStream) {\n        for (var i = 0; i < micStream.getTracks().length; i++) {\n          var track = micStream.getAudioTracks()[0];\n\n          if (track) {\n            track.stop();\n          }\n        }\n\n        micStream = null;\n        fireEvent('micStop');\n      }\n\n      if (audioSource) {\n        audioSource.disconnect();\n        audioSource = null;\n      }\n\n      if (audioRecorder) {\n        audioRecorder.disconnect();\n        audioRecorder = null;\n      }\n\n      if (audioElement) {\n        audioElement.pause();\n        audioElement.currentTime = 0;\n        audioElement.src = \"\";\n      }\n\n      audioQueue = [];\n      playState = PLAY_IDLE;\n    };\n  })(typeof window !== 'undefined' ? function () {\n    window.alanAudio = {};\n    return window.alanAudio;\n  }() : exports);\n\n  (function (ns) {\n    \"use strict\";\n\n    var host = 'studio.alan.app';\n    var config = {\n      // baseURL: (window.location.protocol === \"https:\" ? \"wss://\" : \"ws://\") +\n      baseURL: \"wss://\" + (host.indexOf('$') === 0 || host === '' ? window.location.host : host),\n      codec: 'opus',\n      version: '1.2.0',\n      platform: 'web'\n    };\n\n    function ConnectionWrapper() {\n      var _this = this;\n\n      this._worker = new Worker(window.URL.createObjectURL(new Blob([\"'use strict';importScripts(    'https://studio.alan.app/js/alan_frame.js',    'https://studio.alan.app/js/alan_codec.js',    'https://studio.alan.app/js/libopus.js');var ALAN_OFF       = 'off';var ALAN_SPEAKING  = 'speaking';var ALAN_LISTENING = 'listening';function ConnectionImpl(config, auth, mode) {    var _this = this;    this._config = config;    this._auth = auth;    this._mode = mode;    this._projectId = config.projectId;    this._url = config.url;    this._connected = false;    this._authorized = false;    this._dialogId = null;    this._callId = 1;    this._callSent = {};    this._callWait = [];    this._failed = false;    this._closed = false;    this._reconnectTimeout = 100;    this._cleanups = [];    this._sampleRate = -1;    this._format = null;    this._formatSent = false;    this._frameQueue = [];    this._remoteSentTs = 0;    this._remoteRecvTs = 0;    this._rtt = 25;    this._rttAlpha = 1./16;    this._alanState = ALAN_OFF;    this._sendTimer = setInterval(_this._flushQueue.bind(_this), 100);    this._visualState = {};    this._addCleanup(function() {clearInterval(_this._sendTimer);});    this._connect();    console.log('Alan: connection created: ' + this._url);}ConnectionImpl.prototype._addCleanup = function(f) {    this._cleanups.push(f);};ConnectionImpl.prototype._onConnectStatus = function(s) {    console.log('Alan: connection status: ' + s);    this._fire('connectStatus', s);};ConnectionImpl.prototype._fire = function(event, object) {    if (event === 'options') {        if (object.versions) {            object.versions['alanbase:web'] = this._config.version;        }    }    postMessage(['fireEvent', event, object]);};ConnectionImpl.prototype._connect = function() {    var _this = this;    if (this._socket) {        console.error('socket is already connected');        return;    }    console.log('Alan: connecting to ' + this._url);    this._socket = new WebSocket(this._url);    this._socket.binaryType = 'arraybuffer';    this._decoder = alanCodec.decoder('pcm', 16000);    this._socket.onopen = function(e) {        console.info('Alan: connected', e.target === _this._socket);        _this._connected = true;        _this._reconnectTimeout = 100;        _this._fire('connection', {status: 'connected'});        if (_this._auth) {            _this._fire('connection', {status: 'authorizing'});            _this._callAuth();        } else {            _this._callWait.forEach(function(c) {  _this._sendCall(c); });            _this._callWait = [];        }    };    this._socket.onmessage = function(msg) {        if (msg.data instanceof ArrayBuffer) {            var f = alanFrame.parse(msg.data);            if (f.sentTs > 0) {                _this._remoteSentTs = f.sentTs;                _this._remoteRecvTs = Date.now();            } else {                _this._remoteSentTs = null;                _this._remoteRecvTs = null;            }            var rtt = 0;            if (f.remoteTs) {                rtt = Date.now() - f.remoteTs;            }            _this._rtt = _this._rttAlpha * rtt  + (1 - _this._rttAlpha) * _this._rtt;            var uint8 = new Uint8Array(f.audioData);            var frame = '';            var batch = 62000;            for (var offset = 0; offset < uint8.byteLength; offset += batch) {                var b  = uint8.subarray(offset, Math.min(uint8.byteLength, offset + batch));                frame += String.fromCharCode.apply(null, b);            }            postMessage(['alanAudio', 'playFrame', frame]);        } else if (typeof(msg.data) === 'string') {            msg = JSON.parse(msg.data);            if (msg.i) {                var c = _this._callSent[msg.i];                delete _this._callSent[msg.i];                if (c && c.callback) {                    c.callback(msg.e, msg.r);                }            } else if (msg.e) {                if (msg.e === 'text') {                    postMessage(['alanAudio', 'playText', msg.p])                } else if (msg.e === 'command') {                    postMessage(['alanAudio', 'playCommand', msg.p]);                } else if (msg.e === 'inactivity') {                    postMessage(['alanAudio', 'stop']);                } else {                    _this._fire(msg.e, msg.p);                }            }        } else {            console.error('invalid message type');        }    };    this._socket.onerror = function(evt) {        console.error('Alan: connection closed due to error: ', evt);    };    this._socket.onclose = function(evt) {        console.info('Alan: connection closed');        _this._connected = false;        _this._authorized = false;        _this._socket = null;        _this._onConnectStatus('disconnected');        if (!_this._failed && _this._reconnectTimeout && !_this._closed) {            console.log('Alan: reconnecting in %s ms.', _this._reconnectTimeout);            _this._reConnect = setTimeout(_this._connect.bind(_this), _this._reconnectTimeout);            if (_this._reconnectTimeout < 3000) {                _this._reconnectTimeout *= 2;            } else {                _this._reconnectTimeout += 500;            }            _this._reconnectTimeout = Math.min(7000, _this._reconnectTimeout);        }    };    this._addCleanup(function() {        if (this._socket) {            this._socket.close();            this._socket = null;        }    });};ConnectionImpl.prototype._callAuth = function() {    var _this = this;    var callback = function(err, r) {        if (!err && r.status === 'authorized') {            _this._authorized = true;            _this._formatSent = false;            if (r.dialogId) {                postMessage(['setDialogId', r.dialogId]);                _this._dialogId = r.dialogId;            }            _this._onAuthorized();            _this._onConnectStatus('authorized');        } else if (err === 'auth-failed') {            _this._onConnectStatus('auth-failed');            if (_this._socket) {                _this._socket.close();                _this._socket = null;                _this._failed = true;            }        } else {            _this._onConnectStatus('invalid-auth-response');            console.log('Alan: invalid auth response', err, r);        }    };    var authParam = this._auth;    authParam.timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;    if (this._dialogId) {        authParam.dialogId = this._dialogId;    }    authParam.mode = this._mode;    this._sendCall({cid: this._callId++, method: '_auth_', callback: callback, param: authParam});    return this;};ConnectionImpl.prototype._sendCall = function(call) {    this._socket.send(JSON.stringify({i: call.cid, m: call.method, p: call.param}));    if (call.callback) {        this._callSent[call.cid] = call;    }};ConnectionImpl.prototype._onAuthorized = function() {    console.log('Alan: authorized');    var _this = this;    this._callWait.forEach(function(c) {        _this._sendCall(c);    });    this._callWait = [];};ConnectionImpl.prototype.close = function() {    for (var i = 0; i < this._cleanups.length; i++ ) {        this._cleanups[i]();    }    this._cleanups = [];    this._closed = true;        if (this._socket && (this._socket.readyState === WebSocket.OPEN || this._socket.readyState === WebSocket.CONNECTING)) {        this._socket.close();        this._socket = null;    }    console.log('Alan: closed connection to: ' + this._url);    close();};ConnectionImpl.prototype.call = function(cid, method, param) {    var call = {cid: cid, method: method, param: param, callback: function(err, obj) {        if (cid) {            postMessage(['callback', cid, err, obj]);        }    }};    if (this._authorized || this._connected && !this._auth) {        this._sendCall(call);    } else {        this._callWait.push(call);    }};ConnectionImpl.prototype.setVisual = function(state) {    this._visualState = state;    this.call(null, '_visual_', state);};ConnectionImpl.prototype._sendFrame = function(frame) {    if (!this._socket) {        console.error('sendFrame to closed socket');        return;    }    frame.sentTs = Date.now();    if (this._remoteSentTs > 0 && this._remoteRecvTs > 0) {        frame.remoteTs = this._remoteSentTs + Date.now() - this._remoteRecvTs;    }    this._socket.send(frame.write());};ConnectionImpl.prototype._listen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'listen'});    this._frameQueue.push(f);    this._alanState = ALAN_LISTENING;};ConnectionImpl.prototype._stopListen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'stopListen'});    this._frameQueue.push(f);    this._alanState = ALAN_OFF;};ConnectionImpl.prototype._onMicFrame = function(sampleRate, frame) {    if (this._alanState === ALAN_SPEAKING) {        return;    }    if (this._alanState === ALAN_OFF) {        this._listen();    }    if (this._alanState !== ALAN_LISTENING) {        console.error('invalid alan state: ' + this._alanState);        return;    }    if (this._sampleRate !== sampleRate) {        this._sampleRate = sampleRate;        this._encoder = alanCodec.encoder(this._config.codec, 48000);        this._formatSent = false;        this._format = {            send: {codec: this._config.codec, sampleRate: sampleRate},            recv: {codec: 'mp3;base64', sampleRate: 16000},            timeout: this._timeout,        };    }    var p = this._encoder(frame);    for (var i = 0; i < p.length; i++ ) {        var f = alanFrame.create();        f.audioData = p[i];        this._frameQueue.push(f);    }};ConnectionImpl.prototype._flushQueue = function() {    if (!this._socket || !this._connected) {        var d = 0;        while (this._frameQueue.length > 100 && !this._frameQueue[0].jsonData) {            this._frameQueue.shift();            d++;        }        if (d > 0) {            console.error('dropped: %s, frames', d);        }        return;    }    while (this._frameQueue.length > 0 && this._socket && this._socket.bufferedAmount < 64 * 1024) {        if (!this._formatSent && this._format) {            var frame = alanFrame.create();            frame.jsonData = JSON.stringify({format: this._format});            this._sendFrame(frame);            this._formatSent = true;        }        this._sendFrame(this._frameQueue.shift());    }};function connectProject(config, auth, mode) {    var c = new ConnectionImpl(config, auth, mode);    c.onAudioEvent = function(event, arg1, arg2) {        if (event === 'frame') {            c._onMicFrame(arg1, arg2);        } else if (event === 'micStop' || event === 'playStart') {            c._stopListen();        } else {            console.error('unknown audio event: ' + event, arg1, arg2);        }    };    return c;}var factories = {    connectProject: connectProject,};var currentConnect = null;onmessage = function(e) {    var name = e.data[0];    try {        if (!currentConnect) {            currentConnect = factories[name].apply(null, e.data.slice(1, e.data.length));        } else {            currentConnect[name].apply(currentConnect, e.data.slice(1, e.data.length));        }    } catch(e) {        console.error('error calling: ' + name, e);    }};\"]), {\n        type: 'text/javascript'\n      }));\n\n      this._worker.onmessage = function (e) {\n        if (e.data[0] === 'fireEvent') {\n          _this._fire(e.data[1], e.data[2]);\n\n          return;\n        }\n\n        if (e.data[0] === 'alanAudio') {\n          if (e.data[1] === 'playText') {\n            alanAudio.playText(e.data[2]);\n            return;\n          }\n\n          if (e.data[1] === 'playAudio' || e.data[1] === 'playFrame') {\n            alanAudio.playAudio(e.data[2]);\n            return;\n          }\n\n          if (e.data[1] === 'playEvent' || e.data[1] === 'playCommand') {\n            alanAudio.playEvent(e.data[2]);\n            return;\n          }\n\n          if (e.data[1] === 'stop') {\n            alanAudio.stop();\n            return;\n          }\n        }\n\n        if (e.data[0] === \"callback\") {\n          _this._callback[e.data[1]](e.data[2], e.data[3]);\n\n          delete _this._callback[e.data[1]];\n          return;\n        }\n\n        if (e.data[0] === \"setDialogId\") {\n          _this._dialogId = e.data[1];\n          return;\n        }\n\n        console.error(\"invalid event\", e.data);\n      };\n\n      this._worker.onerror = function (e) {\n        console.error(\"error in worker: \" + e.filename + \":\" + e.lineno + \" - \" + e.message);\n      };\n\n      this._handlers = {};\n      this._cleanups = [];\n      this._callback = {};\n      this._callIds = 1;\n      this._config = {};\n    }\n\n    ConnectionWrapper.prototype.on = function (event, handler) {\n      var h = this._handlers[event];\n\n      if (!h) {\n        h = [];\n        this._handlers[event] = h;\n      }\n\n      h.push(handler);\n    };\n\n    ConnectionWrapper.prototype.off = function (event, handler) {\n      var h = this._handlers[event];\n\n      if (h) {\n        var index = h.indexOf(handler);\n\n        if (index >= 0) {\n          h.splice(index, 1);\n        }\n      }\n    };\n\n    ConnectionWrapper.prototype.getSettings = function () {\n      return {\n        server: config.baseURL,\n        projectId: this._config.projectId,\n        dialogId: this._dialogId\n      };\n    };\n\n    ConnectionWrapper.prototype.setVisual = function (state) {\n      this._worker.postMessage(['setVisual', state]);\n    };\n\n    ConnectionWrapper.prototype.call = function (method, param, callback) {\n      var cid = null;\n\n      if (callback) {\n        cid = this._callIds++;\n        this._callback[cid] = callback;\n      }\n\n      this._worker.postMessage(['call', cid, method, param]);\n    };\n\n    ConnectionWrapper.prototype.close = function () {\n      console.log('closing connection to: ' + this._url);\n\n      this._cleanups.forEach(h => {\n        h();\n      });\n\n      this._worker.postMessage(['close']);\n    };\n\n    ConnectionWrapper.prototype._fire = function (event, object) {\n      var h = this._handlers[event];\n\n      if (h) {\n        for (var i = 0; i < h.length; i++) {\n          h[i](object);\n        }\n      }\n    };\n\n    ConnectionWrapper.prototype._addCleanup = function (f) {\n      this._cleanups.push(f);\n    };\n\n    function fillAuth(values, ext) {\n      var auth = {};\n\n      for (var k in values) {\n        auth[k] = values[k];\n      }\n\n      if (!ext || ext && ext.platform == null) {\n        auth.platform = config.platform;\n      } else {\n        auth.platform = config.platform + \":\" + ext.platform;\n      }\n\n      if (!ext || ext && ext.platformVersion == null) {\n        auth.platformVersion = config.version;\n      } else {\n        auth.platformVersion = config.version + \":\" + ext.platformVersion;\n      }\n\n      if (ext && ext.appName) {\n        auth.appName = ext.appName;\n      }\n\n      return auth;\n    }\n\n    function connectProject(projectId, auth, host, mode, ext) {\n      var connect = new ConnectionWrapper();\n\n      if (host) {\n        connect._config.baseURL = \"wss://\" + host;\n      }\n\n      connect._config.projectId = projectId;\n      connect._config.codec = config.codec;\n      connect._config.version = config.version;\n      connect._config.url = config.baseURL + \"/ws_project/\" + projectId;\n\n      connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n\n      function signupEvent(name, handler) {\n        alanAudio.on(name, handler);\n\n        connect._addCleanup(function () {\n          alanAudio.off(name, handler);\n        });\n      }\n\n      function passEventToWorker(name) {\n        function handler(a1, a2) {\n          if (name === 'frame' && alanAudio.isPlaying()) {\n            return;\n          }\n\n          connect._worker.postMessage(['onAudioEvent', name, a1, a2]);\n        }\n\n        signupEvent(name, handler);\n      }\n\n      function passEventToClient(name) {\n        function handler(e1) {\n          connect._fire(name, e1);\n        }\n\n        signupEvent(name, handler);\n      }\n\n      passEventToWorker('frame');\n      passEventToWorker('micStop');\n      passEventToWorker('playStart');\n      passEventToClient('text');\n      passEventToClient('command');\n      return connect;\n    }\n\n    function connectProjectTest(projectId, auth, host, mode, ext) {\n      var connect = new ConnectionWrapper();\n\n      if (host) {\n        connect._config.baseURL = \"wss://\" + host;\n      }\n\n      connect._config.projectId = projectId;\n      connect._config.codec = config.codec;\n      connect._config.version = config.version;\n      connect._config.url = config.baseURL + \"/ws_project/\" + projectId;\n\n      connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n\n      return connect;\n    }\n\n    function connectTutor(auth, host) {\n      var connect = new ConnectionWrapper();\n\n      if (host) {\n        connect._config.baseURL = \"wss://\" + host;\n      }\n\n      connect._config.version = config.version;\n      connect._config.url = config.baseURL + \"/ws_tutor\";\n\n      connect._worker.postMessage([\"connectProject\", connect._config, auth]);\n\n      return connect;\n    }\n\n    ns.alan = {\n      projectTest: connectProjectTest,\n      project: connectProject,\n      tutor: connectTutor\n    };\n  })(window);\n\n  (function (ns) {\n    \"use strict\";\n\n    function alanBtn(options) {\n      options = options || {};\n      var btnDisabled = false;\n      var hideS2TPanel = false;\n      var pinned = false;\n      var btnInstance = {\n        // Common public API\n        setVisualState: function (visualState) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.setVisual(visualState);\n          }\n        },\n        callProjectApi: function (funcName, data, callback) {\n          var funcNamePrefix = 'script::';\n\n          if (btnDisabled) {\n            return;\n          }\n\n          if (!funcName) {\n            throw new Error('Function name for callProjectApi must be provided');\n          }\n\n          if (window.tutorProject) {\n            if (funcName.indexOf(funcNamePrefix) === 0) {\n              window.tutorProject.call(funcName, data, callback);\n            } else {\n              window.tutorProject.call(funcNamePrefix + funcName, data, callback);\n            }\n          }\n        },\n        playText: function (text) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.call('play', {\n              text: text\n            });\n          }\n        },\n        playCommand: function (command) {\n          if (btnDisabled) {\n            return;\n          }\n\n          alanAudio.playCommand({\n            data: command\n          });\n        },\n        activate: function () {\n          return activateAlanButton();\n        },\n        deactivate: function () {\n          if (btnDisabled) {\n            return;\n          }\n\n          alanAudio.stop();\n        },\n        isActive: function () {\n          return isAlanActive;\n        },\n        //deprecated\n        callClientApi: function (method, data, callback) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.call(method, data, callback);\n          }\n        },\n        // deprecated\n        setAuthData: function (data) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.close();\n            window.tutorProject = alan.project(options.key, getAuthData(data), options.host);\n            window.tutorProject.on('connectStatus', onConnectStatusChange);\n            window.tutorProject.on('options', onOptionsReceived);\n          }\n        },\n        // Other methods\n        setOptions: function (options) {\n          onOptionsReceived(options);\n        },\n        setPreviewState: function (state) {\n          switchState(state);\n        },\n        remove: function () {\n          alanAudio.stop();\n          window.tutorProject.close();\n          rootEl.remove();\n        },\n        stop: function () {\n          alanAudio.stop();\n        },\n        updateButtonState: function (state) {\n          onConnectStatusChange(state);\n        }\n      }; //Host\n\n      var host = 'studio.alan.app';\n      var baseUrl = 'https://' + (host.indexOf('$') === 0 || host === '' ? window.location.host : host);\n\n      if (options.host) {\n        baseUrl = 'https://' + options.host;\n      } // Btn modes\n\n\n      var mode;\n\n      if (options.mode === 'tutor') {\n        mode = 'tutor';\n        pinned = true;\n      } else if (options.mode === 'tutor-preview') {\n        mode = 'tutor-preview';\n        pinned = true;\n      } else if (options.mode === 'demo') {\n        mode = 'demo';\n      } else {\n        mode = 'component';\n      }\n\n      if (options.position === 'absolute' || options.pinned) {\n        pinned = true;\n      } // Btn states\n\n\n      var DEFAULT = 'default';\n      var LISTENING = 'listening';\n      var SPEAKING = 'speaking';\n      var INTERMEDIATE = 'intermediate';\n      var UNDERSTOOD = 'understood';\n      var DISCONNECTED = 'disconnected';\n      var OFFLINE = 'offline';\n      var LOW_VOLUME = 'lowVolume';\n      var PERMISSION_DENIED = 'permissionDenied';\n      var NO_VOICE_SUPPORT = 'noVoiceSupport';\n      var NOT_SECURE_ORIGIN = 'notSecureOrigin'; // Error messages\n\n      var MIC_BLOCKED_MSG = 'Access to the microphone was blocked. Please allow it to use Alan';\n      var NO_VOICE_SUPPORT_IN_BROWSER_MSG = 'Your browser doesnâ€™t support voice input. To use voice, try it in the Chrome, Safari, or Firefox desktop browser window. If you think your browser supports voice input, please send the Debug info below to support@alan.app. ' + getDebugInfo();\n      var NOT_SECURE_ORIGIN_MSG = 'Audio is allowed only on the secure connection: make sure that your connection protocol is under https, file or http with localhost. Now you are running with \"' + window.location.protocol + '\" protocol and \"' + window.location.hostname + '\" hostname';\n      var LOW_VOLUME_MSG = 'Low volume level';\n      var OFFLINE_MSG = 'You\\'re offline';\n      var currentErrMsg = null;\n      var NO_VOICE_SUPPORT_IN_BROWSER_CODE = 'browser-does-not-support-voice-input';\n      var MIC_BLOCKED_CODE = 'microphone-access-blocked';\n      var PREVIEW_MODE_CODE = 'preview-mode';\n      var BTN_IS_DISABLED_CODE = 'btn-is-disabled';\n      var NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE = 'no-alan-audio-instance-was-provided'; // Set default state for btn\n\n      var state = DISCONNECTED;\n      var previousState = null;\n      var isAlanSpeaking = false;\n      var isAlanActive = false;\n      var customBtnLogoUrl; // Set btn position flags\n\n      var isLeftAligned = false;\n      var isRightAligned = true;\n      var isTopAligned = false;\n      var isBottomAligned = false;\n      var recognisedTextVisible = false;\n      var turnOffTimeout = 30000;\n      var turnOffVoiceFn;\n\n      function setTurnOffVoiceTimeout() {\n        turnOffVoiceFn = debounce(function () {\n          if (isAlanSpeaking) {\n            // console.info('BTN: CONTINUE alanAudio', new Date());\n            turnOffVoiceFn();\n          } else {\n            // console.info('BTN: STOP alanAudio', new Date());\n            alanAudio.stop();\n          }\n        }, turnOffTimeout);\n      }\n\n      setTurnOffVoiceTimeout();\n      var switchToLowVolumeStateTimer = null; // Css animations\n\n      var pulsatingAnimation = '';\n      var pulsatingMicAnimation = '';\n      var pulsatingTriangleMicAnimation = '';\n\n      if (!isPreviewMode()) {\n        pulsatingAnimation = 'alan-pulsating 2s ease-in-out infinite';\n        pulsatingMicAnimation = 'alan-mic-pulsating 1.4s ease-in-out infinite';\n        pulsatingTriangleMicAnimation = 'alan-triangle-mic-pulsating 1.2s ease-in-out infinite';\n      }\n\n      var gradientAnimation = 'alan-gradient 3s ease-in-out infinite';\n      var disconnectedLoaderAnimation = 'disconnected-loader-animation 2s linear infinite'; // Set alanAudio\n\n      var alanAudio = window.alanAudio; // Define base blocks and layers\n\n      var rootEl = options.rootEl || document.createElement('div');\n      var body = document.getElementsByTagName('body')[0];\n      var btn = document.createElement('div');\n      var defaultStateBtnIconImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH9SURBVHgB7dvvUcIwGMfxByfADdjAEdQN3EA2YATcAJ2AEXADdALcgG4AGzwm13DQkNKWQBvK93OXF4W0Z36mf5IUEQAAAAAAAAAAgPOo6ocpS91bmfIuOM2ENHJhlVnbOoIwF1CVleCYCWas9U0kEQ+SjibXuDdJxEASYbtVg+rbwWDwKAm41QDFBJjE357SKXyTCDASAUYiwEgEGIkAIxFgJAKMRICRWgvQTRZs3IzLxef2rn38zmlxqmoT+L6Rpse/ltbGk36j/bFsKJRTqvZva6zc2TXQtHfofbSV+rYVx2pNmwFm3vbI2/6R+r4rjvUnLWkzQL9Rz972l9T3WXGsTPrGTsN794FloM5Uq00D+/kLUb28Cw8DYbwE6k1LgrOPKJNA/dBaykj6SItrvdZaAzcAzZc3bTBzVyYl9YZ6vJK3kL6yPS7QW+ZyJhvW3fS+HdPAWaDRiyYNdz1vecl/xs0oOe12p3Plxd+d2mX7t/482MnKlutt9i48CnydSf5M+Cv7xxFb78mUsSnDkn1ezeAjk3uh+Y0i1JOaWuu9vi/jTueZns/u29kwLhma98Z5g+CWpjwLirT4/Oezn01S63HJvNrhs4kdbqfyKoePKf1IBBiJACMRYCQCjESAkVIO8HDhKBM0o/tZFzsTzY9sAAAAAAAAAABAjH+9EqX09fBHaQAAAABJRU5ErkJggg==';\n      var micTriangleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjMuNzQ5Mzk5NDZlLTMxJSIgeDI9IjIuODYwODIwMDklIiB5Mj0iOTcuMTM5MTc5OSUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjEyIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4wNCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJBbGFuLUJ1dHRvbi0vLUFuaW1hdGlvbi0vLWJ1dHRvbi1pbm5lci1zaGFwZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTQwLjEwMDU0MjIsOSBMNDAuMTAwNTQyMiw5IEM1MC4wNzA0NzUxLDkgNTkuMTUxNjIzNSwxNC43MzM3OTM4IDYzLjQzODA5OCwyMy43MzUyMjE0IEw3MC40MjIwMjY3LDM4LjQwMTE5NyBDNzUuMTcxMDE0NSw0OC4zNzM4ODQ0IDcwLjkzNjM2OTMsNjAuMzA4MTYwMSA2MC45NjM2ODE5LDY1LjA1NzE0NzggQzU4LjI3NzU5NDksNjYuMzM2MjYwOCA1NS4zMzk5NzQ0LDY3IDUyLjM2NDg3ODksNjcgTDI3LjgzNjIwNTQsNjcgQzE2Ljc5MDUxMDQsNjcgNy44MzYyMDU0Myw1OC4wNDU2OTUgNy44MzYyMDU0Myw0NyBDNy44MzYyMDU0Myw0NC4wMjQ5MDQ1IDguNDk5OTQ0NTksNDEuMDg3Mjg0IDkuNzc5MDU3NiwzOC40MDExOTcgTDE2Ljc2Mjk4NjQsMjMuNzM1MjIxNCBDMjEuMDQ5NDYwOCwxNC43MzM3OTM4IDMwLjEzMDYwOTIsOSA0MC4xMDA1NDIyLDkgWiIgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==\\n';\n      var micCircleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZS1zcGVha2luZyBiYWNrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSIxMDAlIiB5MT0iMy43NDkzOTk0NmUtMzElIiB4Mj0iMi44NjA4MjAwOSUiIHkyPSI5Ny4xMzkxNzk5JSIgaWQ9ImxpbmVhckdyYWRpZW50LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAuMTIiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjA0IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWlubmVyLXNoYXBlLXNwZWFraW5nLWJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIiBjeD0iNDAiIGN5PSI0MCIgcj0iMzIiPjwvY2lyY2xlPgogICAgPC9nPgo8L3N2Zz4=\\n';\n      var micIcon = document.createElement('div');\n      var defaultStateBtnIcon = document.createElement('img');\n      var logoState1 = document.createElement('img');\n      var logoState2 = document.createElement('img');\n      var logoState3 = document.createElement('img');\n      var logoState4 = document.createElement('img');\n      var logoState5 = document.createElement('img');\n      var logoState6 = document.createElement('img');\n      var logoState7 = document.createElement('img');\n      var logoState8 = document.createElement('img');\n      var logoState9 = document.createElement('img');\n      var logoState10 = document.createElement('img');\n      var micTriangleIcon = document.createElement('div');\n      var micCircleIcon = document.createElement('div');\n      var disconnectedMicLoaderIcon = document.createElement('img');\n      var lowVolumeMicIcon = document.createElement('img');\n      var noVoiceSupportMicIcon = document.createElement('img');\n      var offlineIcon = document.createElement('img');\n      var textHolder = document.createElement('div');\n      var textHolderTextWrapper = document.createElement('div');\n      var alanBtnDisabledMessage = document.createElement('div');\n      var soundOnAudioDoesNotExist = false;\n      var soundOffAudioDoesNotExist = false;\n      var soundOnAudio = new Audio(baseUrl + '/resources/sounds/soundOn.m4a');\n\n      soundOnAudio.onerror = function () {\n        soundOnAudioDoesNotExist = true;\n      };\n\n      var soundOffAudio = new Audio(baseUrl + '/resources/sounds/soundOff.m4a');\n\n      soundOffAudio.onerror = function () {\n        soundOffAudioDoesNotExist = true;\n      }; // Specify layers for different statets to make smooth animation\n\n\n      var btnBgDefault = document.createElement('div');\n      var btnBgListening = document.createElement('div');\n      var btnBgSpeaking = document.createElement('div');\n      var btnBgIntermediate = document.createElement('div');\n      var btnBgUnderstood = document.createElement('div'); // Specify layers with ovals\n\n      var btnOval1 = document.createElement('div');\n      var btnOval2 = document.createElement('div'); // Some variables for setting up right properties for Alan Btn\n\n      var btnSize;\n      var sideBtnPos;\n      var bottomBtnPos;\n      var topBtnPos;\n      var btnZIndex;\n      var btnIconsZIndex;\n      var btnTextPanelsZIndex;\n      var btnBgLayerZIndex; // Define base properties for disable/enable button functionality\n\n      var isLocalStorageAvailable = false;\n\n      try {\n        localStorage.getItem('test');\n        isLocalStorageAvailable = true;\n      } catch (e) {\n        isLocalStorageAvailable = false;\n      } //#region Listen online/offline events to manage connected/disconnected states\n\n\n      window.addEventListener('online', updateOnlineStatus);\n      window.addEventListener('offline', updateOnlineStatus);\n\n      function updateOnlineStatus() {\n        if (navigator.onLine) {\n          switchState(getDefaultBtnState());\n        } else {\n          switchState(OFFLINE);\n        }\n      }\n\n      function getDefaultBtnState(state) {\n        if (!isOriginSecure()) {\n          return NOT_SECURE_ORIGIN;\n        }\n\n        if (isAudioSupported()) {\n          return state || DEFAULT;\n        }\n\n        return NO_VOICE_SUPPORT;\n      } //#endregion\n      //#region Define settings based on the btn mode\n      // For now we have two modes: small - for tutor, and big for demo\n\n\n      var btnModes = {\n        \"tutor\": {\n          btnSize: 44,\n          rightPos: 0,\n          leftPos: 0,\n          bottomPos: 0,\n          topPos: 0\n        },\n        \"tutor-preview\": {\n          btnSize: 64,\n          rightPos: 0,\n          leftPos: 0,\n          bottomPos: 0,\n          topPos: 0\n        },\n        \"demo\": {\n          btnSize: 80,\n          rightPos: 36,\n          leftPos: 36,\n          bottomPos: 36,\n          topPos: 0\n        },\n        \"component\": {\n          btnSize: options.size || 64,\n          rightPos: 40,\n          leftPos: 40,\n          bottomPos: 40,\n          topPos: 0\n        }\n      };\n\n      function isTutorMode() {\n        return mode.indexOf('tutor') > -1;\n      }\n\n      function isPreviewMode() {\n        return mode.indexOf('preview') > -1;\n      } //#endregion\n      //#region Set styles for base layers\n\n\n      btnSize = btnModes[mode].btnSize;\n\n      if (options.left !== undefined) {\n        isLeftAligned = true;\n        isRightAligned = false;\n      }\n\n      if (options.top !== undefined) {\n        isTopAligned = true;\n        isBottomAligned = false;\n      }\n\n      if (isLeftAligned) {\n        sideBtnPos = setDefautlPositionProps(options.left !== undefined ? options.left : btnModes[mode].leftPos);\n      } else {\n        sideBtnPos = setDefautlPositionProps(options.right !== undefined ? options.right : btnModes[mode].rightPos);\n      }\n\n      if (isTopAligned) {\n        topBtnPos = setDefautlPositionProps(options.top !== undefined ? options.top : btnModes[mode].topPos);\n      } else {\n        bottomBtnPos = setDefautlPositionProps(options.bottom !== undefined ? options.bottom : btnModes[mode].bottomPos);\n      }\n\n      function setDefautlPositionProps(value) {\n        if (/^\\d+$/.test(value)) {\n          return value + 'px';\n        }\n\n        return value;\n      }\n\n      btnZIndex = options.zIndex || 4;\n      btnIconsZIndex = btnZIndex - 2;\n      btnTextPanelsZIndex = btnZIndex - 1;\n      btnBgLayerZIndex = btnZIndex - 3; // Define styles for root element\n\n      rootEl.style[isLeftAligned ? 'left' : 'right'] = sideBtnPos;\n\n      if (isTopAligned) {\n        rootEl.style.top = topBtnPos;\n      } else {\n        rootEl.style.bottom = bottomBtnPos;\n      }\n\n      if (options.zIndex !== undefined) {\n        rootEl.style.zIndex = options.zIndex;\n      }\n\n      rootEl.style.position = options.position ? options.position : 'fixed'; // Define styles for block with recognised text\n\n      var textHolderDefaultBorderColor = '#d5eded';\n      var textHolderDefaultBoxShadow = '0px 12px 50px -14px rgba(0,0,0,0.2), 0px 12px 50px -14px rgba(0,169,255,0.3)';\n      textHolderTextWrapper.classList.add('alanBtn-text-holder-text-wrapper');\n      textHolder.classList.add('alanBtn-text-holder');\n      setInnerPositionBasedOnOptions(textHolder, options);\n\n      if (isLeftAligned) {\n        textHolderTextWrapper.style.textAlign = 'left';\n        textHolder.style.left = '0px';\n      } else {\n        textHolder.style.right = '0px';\n        textHolder.style.float = 'right';\n      }\n\n      textHolder.style.height = btnSize + 'px';\n      textHolder.style.minHeight = btnSize + 'px';\n      textHolder.style.maxHeight = btnSize + 'px';\n      textHolder.style.borderRadius = btnSize + 'px';\n      textHolder.style.borderRadius = btnSize + 'px';\n      textHolder.style.zIndex = btnTextPanelsZIndex;\n      textHolder.style.borderColor = textHolderDefaultBorderColor;\n      textHolder.style.boxShadow = textHolderDefaultBoxShadow; // Define styles for message that informs that Alan Btn was disabled\n\n      setInnerPositionBasedOnOptions(alanBtnDisabledMessage, options);\n      alanBtnDisabledMessage.style.zIndex = btnTextPanelsZIndex;\n      alanBtnDisabledMessage.style.borderRadius = '7px';\n      alanBtnDisabledMessage.style.backgroundColor = '#ffffff';\n      alanBtnDisabledMessage.style.boxShadow = '0 2px 50px 0 rgba(86, 98, 112, 0.1)';\n      alanBtnDisabledMessage.style.position = 'absolute';\n      alanBtnDisabledMessage.style.color = 'red';\n      alanBtnDisabledMessage.style.width = '200px';\n      alanBtnDisabledMessage.style.fontSize = '14px';\n      alanBtnDisabledMessage.style.padding = '16px';\n      alanBtnDisabledMessage.innerText = \"This project's voice button has been disabled.\";\n      alanBtnDisabledMessage.classList.add(\"alan-btn-disabled-msg\");\n\n      function setInnerPositionBasedOnOptions(el, options) {\n        if (isTopAligned) {\n          el.style.top = 0;\n        } else {\n          el.style.bottom = 0;\n        }\n\n        if (isLeftAligned) {\n          el.style.left = 0;\n        } else {\n          el.style.right = 0;\n        }\n      }\n\n      function setStylesBasedOnSide() {\n        if (isLeftAligned) {\n          btn.style.left = 0;\n          btn.style.right = '';\n          textHolder.classList.remove('left-side');\n          textHolder.classList.add('right-side');\n        } else {\n          btn.style.right = 0;\n          btn.style.left = '';\n          textHolder.classList.remove('right-side');\n          textHolder.classList.add('left-side');\n        }\n      } // Define base styles for btn\n\n\n      btn.style.width = btnSize + 'px';\n      btn.style.minWidth = btnSize + 'px';\n      btn.style.maxWidth = btnSize + 'px';\n      btn.style.minHeight = btnSize + 'px';\n      btn.style.height = btnSize + 'px';\n      btn.style.maxHeight = btnSize + 'px';\n      btn.style.color = '#fff';\n      btn.style.position = 'absolute';\n\n      if (isTopAligned) {\n        btn.style.top = 0;\n      } else {\n        btn.style.bottom = 0;\n      }\n\n      setStylesBasedOnSide();\n      btn.style.borderRadius = '50%';\n      btn.style.boxShadow = '0 8px 10px 0 rgba(0, 75, 144, 0.35)';\n      btn.style.textAlign = 'center';\n      btn.style.transition = 'all 0.4s ease-in-out';\n      btn.style.zIndex = btnZIndex; // Specify tabIndex if it exists in options\n\n      if (options && options.tabIndex) {\n        btn.tabIndex = options.tabIndex;\n      } // Specify cursor for btn\n\n\n      if (isPreviewMode()) {\n        btn.style.cursor = 'default';\n      } else {\n        btn.style.cursor = 'pointer';\n      } // Define base styles for microphone btn\n\n\n      micIcon.style.minHeight = '100%';\n      micIcon.style.height = '100%';\n      micIcon.style.maxHeight = '100%';\n      micIcon.style.top = '0%';\n      micIcon.style.left = '0%';\n      micIcon.style.zIndex = btnIconsZIndex;\n      micIcon.style.position = 'relative';\n      micIcon.style.transition = 'all 0.4s ease-in-out';\n\n      function setUpStylesForLogoParts(logos) {\n        for (var i = 0; i < logos.length; i++) {\n          var obj = logos[i];\n          logos[i].style.minHeight = '100%';\n          logos[i].style.height = '100%';\n          logos[i].style.maxHeight = '100%';\n          logos[i].style.minWidth = '100%';\n          logos[i].style.width = '100%';\n          logos[i].style.maxWidth = '100%';\n          logos[i].style.top = '0%';\n          logos[i].style.left = '0%';\n          logos[i].style.position = 'absolute';\n          logos[i].style.pointerEvents = 'none';\n          logos[i].style.animationIterationCount = 'infinite';\n          logos[i].style.animationDuration = '9s';\n          logos[i].style.animationTimingFunction = 'ease-in-out';\n          logos[i].style.opacity = 0;\n          micIcon.appendChild(logos[i]);\n        }\n      }\n\n      logoState1.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAxPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFogTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlLTIiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState2.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LDEuODU4NDEzMzFlLTE1IDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgTDMwLjk0NDQ0NDQsMCBMMzAuODIyNzM0NywxLjgzNTczNjRlLTE1IEMzMC43OTI0NzYzLDEuODk0OTg1MzllLTE1IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgQzMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LDIuMDMyMDE2NDNlLTE1IDE3LjE3NzI2NTMsMCBMMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState3.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n      logoState4.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA0PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n      logoState5.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA1PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBMMzAuOTQ0NDQ0NCwtMS40MjEwODU0N2UtMTQgTDMwLjgyMjczNDcsLTEuMjM3NTExODNlLTE0IEMzMC43OTI0NzYzLC0xLjIzMTU4NjkzZS0xNCAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LjI3MTE5MjQsMjEgTDIzLjk1NjQ1ODIsMjEgQzI0LjczMDk1NjIsMjAuOTk5ODkzOSAyNS40NDE1ODY3LDIxLjI5NTM4NDggMjUuODAxNDg0NiwyMS45ODIzNzY3IEwyOS45ODE5MDE1LDI5Ljk2MjE3NjkgQzMwLjMzODM0NCwzMC42NDI1NzMyIDMwLjA3NjY4NTIsMzEuNDgzNTk5NyAyOS4zOTc0NzAxLDMxLjg0MDY2MjEgQzI5LjE5ODM4MzgsMzEuOTQ1MzIxNSAyOC45NzY5MDkzLDMyIDI4Ljc1MjA3MzgsMzIgTDExLjIwOTMzNzgsMzIgTDEuNzA3ODY0OTUsMzIgQzAuOTQwODAyNzk2LDMyIDAuMzE4OTc2MDU5LDMxLjM3NzA5MTggMC4zMTg5NzYwNTksMzAuNjA4Njk1NyBDMC4zMTg5NzYwNTksMzAuMzg0NTk0OCAwLjM3MzAxNTYxOCwzMC4xNjM4MSAwLjQ3NjQ5NzEwNiwyOS45NjUxMjU2IEw0LjYzMDYyNzg1LDIxLjk4OTE5NDUgQzQuOTg5NjE3NzYsMjEuMjk5OTMzOSA1LjcwMTMxMTAxLDIxLjAwMDEwNjMgNi40NzczOTQ2NiwyMSBMMTguMjcxMTkyNCwyMSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState6.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA2PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBMMzAuOTQ0NDQ0NCwwIEwzMC44MjI3MzQ3LDEuODM1NzM2NGUtMTUgQzMwLjc5MjQ3NjMsMS44OTQ5ODUzOWUtMTUgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState7.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA3PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEwzMC45NDQ0NDQ0LDAgTDMwLjgyMjczNDcsMS44MzU3MzY0ZS0xNSBDMzAuNzkyNDc2MywxLjg5NDk4NTM5ZS0xNSAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEMzMC42Nzk5OTUsMS44NTg0MTMzMWUtMTUgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState8.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n      logoState9.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA5PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDkiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n      logoState10.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTEwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMTAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBMMS43MDc4NjQ5NSwzMiBDMC45NDA4MDI3OTYsMzIgMC4zMTg5NzYwNTksMzEuMzc3MDkxOCAwLjMxODk3NjA1OSwzMC42MDg2OTU3IEMwLjMxODk3NjA1OSwzMC4zODQ1OTQ4IDAuMzczMDE1NjE4LDMwLjE2MzgxIDAuNDc2NDk3MTA2LDI5Ljk2NTEyNTYgTDQuNjMwNjI3ODUsMjEuOTg5MTk0NSBDNC45ODk2MTc3NiwyMS4yOTk5MzM5IDUuNzAxMzExMDEsMjEuMDAwMTA2MyA2LjQ3NzM5NDY2LDIxIEwxOC4yMDEzODg5LDIxIEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUtMiIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBDMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LC0xLjIxNzg4MzgzZS0xNCAxNy4xNzcyNjUzLC0xLjQyMTA4NTQ3ZS0xNCBMMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      setUpStylesForLogoParts([logoState1, logoState2, logoState3, logoState4, logoState5, logoState6, logoState7, logoState8, logoState9, logoState10]); // Define base styles for triangle bellow the microphone btn\n\n      defaultStateBtnIcon.src = defaultStateBtnIconImg;\n      defaultStateBtnIcon.style.minHeight = '100%';\n      defaultStateBtnIcon.style.height = '100%';\n      defaultStateBtnIcon.style.maxHeight = '100%';\n      defaultStateBtnIcon.style.minWidth = '100%';\n      defaultStateBtnIcon.style.width = '100%';\n      defaultStateBtnIcon.style.maxWidth = '100%';\n      defaultStateBtnIcon.style.top = '0%';\n      defaultStateBtnIcon.style.left = '0%';\n      defaultStateBtnIcon.style.position = 'absolute';\n      defaultStateBtnIcon.style.pointerEvents = 'none';\n      defaultStateBtnIcon.style.borderRadius = '50%';\n      micIcon.appendChild(defaultStateBtnIcon);\n      micTriangleIcon.style.minHeight = '100%';\n      micTriangleIcon.style.height = '100%';\n      micTriangleIcon.style.maxHeight = '100%';\n      micTriangleIcon.style.minWidth = '100%';\n      micTriangleIcon.style.width = '100%';\n      micTriangleIcon.style.maxWidth = '100%';\n      micTriangleIcon.style.top = '0%';\n      micTriangleIcon.style.left = '0%';\n      micTriangleIcon.style.zIndex = btnIconsZIndex;\n      micTriangleIcon.style.position = 'absolute';\n      micTriangleIcon.style.opacity = 0;\n      micTriangleIcon.style.transition = 'all 0.4s ease-in-out';\n      micTriangleIcon.style.overflow = 'hidden';\n      micTriangleIcon.style.borderRadius = '50%';\n      micTriangleIcon.style.backgroundSize = '100% 100%';\n      micTriangleIcon.style.backgroundPosition = 'center center';\n      micTriangleIcon.style.backgroundRepeat = 'no-repeat';\n      micTriangleIcon.classList.add('triangleMicIconBg');\n      micTriangleIcon.classList.add('triangleMicIconBg-default');\n      micCircleIcon.style.minHeight = '100%';\n      micCircleIcon.style.height = '100%';\n      micCircleIcon.style.maxHeight = '100%';\n      micCircleIcon.style.minWidth = '100%';\n      micCircleIcon.style.width = '100%';\n      micCircleIcon.style.maxWidth = '100%';\n      micCircleIcon.style.top = '0%';\n      micCircleIcon.style.left = '0%';\n      micCircleIcon.style.zIndex = btnIconsZIndex;\n      micCircleIcon.style.position = 'absolute';\n      micCircleIcon.style.opacity = 0;\n      micCircleIcon.style.transition = 'all 0.4s ease-in-out';\n      micCircleIcon.style.overflow = 'hidden';\n      micCircleIcon.style.borderRadius = '50%';\n      micCircleIcon.style.backgroundSize = '0% 0%';\n      micCircleIcon.style.backgroundPosition = 'center center';\n      micCircleIcon.style.backgroundRepeat = 'no-repeat';\n      micCircleIcon.classList.add('circleMicIconBg'); // Define base styles for loader mic icon in disconnected state\n\n      disconnectedMicLoaderIcon.style.minHeight = '70%';\n      disconnectedMicLoaderIcon.style.height = '70%';\n      disconnectedMicLoaderIcon.style.maxHeight = '70%';\n      disconnectedMicLoaderIcon.style.top = '15%';\n      disconnectedMicLoaderIcon.style.left = '15%';\n      disconnectedMicLoaderIcon.style.zIndex = btnIconsZIndex;\n      disconnectedMicLoaderIcon.style.position = 'absolute';\n      disconnectedMicLoaderIcon.style.transition = 'all 0.4s ease-in-out';\n      disconnectedMicLoaderIcon.style.opacity = '0';\n      disconnectedMicLoaderIcon.src = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiB2aWV3Qm94PSIwIDAgMTkyIDE5MiI+CiAgICA8ZyBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTk2IDBjNTMuMDIgMCA5NiA0Mi45OCA5NiA5NnMtNDIuOTggOTYtOTYgOTZTMCAxNDkuMDIgMCA5NiA0Mi45OCAwIDk2IDB6IiBvcGFjaXR5PSIuMDIiLz4KICAgICAgICA8cGF0aCBkPSJNMTMxLjk2NiAxOS4wOTJjLTMwLTE0LTY1LjI4NC05Ljg0OS05MS4xNDIgMTIuNTc1QzE0Ljk2NiA1NC4wOTIgNi44NSA4My44MSAxMi45MDggMTEzLjk1YzYuMDU4IDMwLjE0MiAzMC4zMDIgNTYuMTkgNjAuMDU4IDY0LjE0MiAzNS4xODMgOS40MDYgNzMtNCA5My0zNC0xNy45MjQgMjMuOTE2LTUyLjM2NiAzOC4yOTMtODMgMzMtMzAuMTY4LTUuMjEtNTcuMTA0LTMxLjExLTY0LTYxLTcuMzQ3LTMxLjgzNS43NzktNTYgMjctODBzODAtMjYgMTA5IDljNS41MzYgNi42ODEgMTMgMTkgMTUgMzQgMSA2IDEgNyAyIDEyIDAgMiAyIDQgNCA0IDMgMCA1LjM3NC0yLjI1NiA1LTYtMy0zMC0yMS41NTYtNTcuMTkzLTQ5LTcweiIgb3BhY2l0eT0iLjQiLz4KICAgIDwvZz4KPC9zdmc+Cg==\";\n      disconnectedMicLoaderIcon.style.animation = disconnectedLoaderAnimation; // Define base styles for mic icon in low valume state\n\n      lowVolumeMicIcon.style.minHeight = '100%';\n      lowVolumeMicIcon.style.height = '100%';\n      lowVolumeMicIcon.style.maxHeight = '100%';\n      lowVolumeMicIcon.style.top = '0%';\n      lowVolumeMicIcon.style.left = '0%';\n      lowVolumeMicIcon.style.zIndex = btnIconsZIndex;\n      lowVolumeMicIcon.style.position = 'absolute';\n      lowVolumeMicIcon.style.transition = 'all 0.4s ease-in-out';\n      lowVolumeMicIcon.style.opacity = '0';\n      lowVolumeMicIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1taWM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iQWxhbi1CdXR0b24tLy1BbmltYXRpb24tLy1idXR0b24tbm8tbWljIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8cGF0aCBkPSJNMzIsMTguNDczNjg0MiBDMzIsMjUuNzE5NDczNyAyNi43OCwzMS42OTI2MzE2IDIwLDMyLjY5ODQyMTEgTDIwLDQwIEMyMCw0MS4xMDQ1Njk1IDE5LjEwNDU2OTUsNDIgMTgsNDIgQzE2Ljg5NTQzMDUsNDIgMTYsNDEuMTA0NTY5NSAxNiw0MCBMMTYsMzIuNjk4NDIxMSBDOS4yMiwzMS42OTI2MzE2IDQsMjUuNzE5NDczNyA0LDE4LjQ3MzY4NDIgTDQsMTggQzQsMTYuODk1NDMwNSA0Ljg5NTQzMDUsMTYgNiwxNiBDNy4xMDQ1Njk1LDE2IDgsMTYuODk1NDMwNSA4LDE4IEw4LDE4LjQ3MzY4NDIgQzgsMjQuMTQxODY5OCAxMi40NzcxNTI1LDI4LjczNjg0MjEgMTgsMjguNzM2ODQyMSBDMjMuNTIyODQ3NSwyOC43MzY4NDIxIDI4LDI0LjE0MTg2OTggMjgsMTguNDczNjg0MiBMMjgsMTggQzI4LDE2Ljg5NTQzMDUgMjguODk1NDMwNSwxNiAzMCwxNiBDMzEuMTA0NTY5NSwxNiAzMiwxNi44OTU0MzA1IDMyLDE4IEwzMiwxOC40NzM2ODQyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjgiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LC00LjUyNzM3MjYzZS0xNCBDMjEuMzEzNzA4NSwtNC42MTg1Mjc3OGUtMTQgMjQsMi43NTY5ODMzOCAyNCw2LjE1Nzg5NDc0IEwyNCwxOC40NzM2ODQyIEMyNCwyMS44NzQ1OTU2IDIxLjMxMzcwODUsMjQuNjMxNTc4OSAxOCwyNC42MzE1Nzg5IEMxNC42ODYyOTE1LDI0LjYzMTU3ODkgMTIsMjEuODc0NTk1NiAxMiwxOC40NzM2ODQyIEwxMiw2LjE1Nzg5NDc0IEMxMiwyLjc1Njk4MzM4IDE0LjY4NjI5MTUsLTQuNTI3MzcyNjNlLTE0IDE4LC00LjYxODUyNzc4ZS0xNCBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC42Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLjgxLDMuMjcgTDM0LjczLDM0LjE5IEMzNS40MzE0MDE2LDM0Ljg5MTQwMTYgMzUuNDMxNDAxNiwzNi4wMjg1OTg0IDM0LjczLDM2LjczIEMzNC4wMjg1OTg0LDM3LjQzMTQwMTYgMzIuODkxNDAxNiwzNy40MzE0MDE2IDMyLjE5LDM2LjczIEwxLjI3LDUuODEgQzAuNTY4NTk4MzY4LDUuMTA4NTk4MzcgMC41Njg1OTgzNjgsMy45NzE0MDE2MyAxLjI3LDMuMjcgQzEuOTcxNDAxNjMsMi41Njg1OTgzNyAzLjEwODU5ODM3LDIuNTY4NTk4MzcgMy44MSwzLjI3IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\"; // Define base styles for noVoiceSupport icon in low valume state\n\n      noVoiceSupportMicIcon.style.minHeight = '100%';\n      noVoiceSupportMicIcon.style.height = '100%';\n      noVoiceSupportMicIcon.style.maxHeight = '100%';\n      noVoiceSupportMicIcon.style.top = '0%';\n      noVoiceSupportMicIcon.style.left = '0%';\n      noVoiceSupportMicIcon.style.zIndex = btnIconsZIndex;\n      noVoiceSupportMicIcon.style.position = 'absolute';\n      noVoiceSupportMicIcon.style.transition = 'all 0.4s ease-in-out';\n      noVoiceSupportMicIcon.style.opacity = '0';\n      noVoiceSupportMicIcon.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIuSURBVHgB7dvxUYMwFAbwpxMwAhvoBtVJygZ1A92gI1Qn6AjoBO0GsEG7wfPlgCtNA7xASzX5fnf5oyThLp+BQDiJAAAAAAAAAAAAAAAAxmHmDyk5n+ykLAn6SUhpHVaXwrQhcBsIr5FTLGSwb1IOmpkj9RnrxXE5+1x+fH7Pwyw0+PKSLLpCrGeq1oFiwNWiUGhCZE8UC22I7IliogmRPVFshkJkTxSjvhDZE8WqJ0QEqNURIgL0MTVEgmkhElTGhkix4WqzoNlYWFp1k1fhvvMHgc9n2cFRPzXAou/8t/JAM7EH/SD66ocM9bfrb+WR7kTGm1iHjqR3HDjXbOYMsLR+p9bvPentr3iuSeYM0B7Uwvr9RXqfA+cqKTRyma2sdSB3tMlZJ7X62Ru3Qa7CiSOIF6uN9pmw4NMuTjYUcDAcM8wEkTjaZdasytm9AfHsOL6lUJkZx5c2yr7a2ZlSyGSAa8egt5qBK0JU/TH+Na7uha4QzLHBm7+0ee8Iz/Sf/XlwtjeRtnq2mVU4dVSXUr6l/NDpccS0e5KSSekKybR9lReQkmLAV9hU7ZiFKcWCq8t5zeOtWfndOWhczcYN6+VSFq2+RfQhGnUYWUeY5ph5m0k6+iHENjs9RXuE2OYbYN3HFeKOYjQmwLrfRYgUo7EB1n2bEM03khXd0F0epDXs0Obaovd1ty39UCDAif5ygO0PRyWBH64eqJuFAP9kAwAAAAAAAAAAAAAAU/wC52820szaQtwAAAAASUVORK5CYII=\"; // Define base st`yles for ovals\n\n      var ovalCoefficient = 2;\n      var defaultBtnColorOptions = {\n        \"idle\": {\n          \"background\": {\n            \"color\": ['rgb(34, 203, 255)', 'rgb(25, 149, 255)']\n          },\n          \"hover\": {\n            \"color\": ['rgba(0, 70, 255, 0.95)', 'rgba(0, 156,  255, 0.95)']\n          }\n        },\n        \"listen\": {\n          \"background\": {\n            \"color\": ['rgba(0, 70, 255, 0.95)', 'rgba(0, 156,  255, 0.95)']\n          },\n          \"hover\": {\n            \"color\": ['rgba(0, 70, 255, 0.95)', 'rgb(0, 70, 255)']\n          }\n        },\n        \"process\": {\n          \"background\": {\n            \"color\": ['rgba(0, 255, 205, 0.95)', 'rgba(0, 115, 255, 0.95)']\n          },\n          \"hover\": {\n            \"color\": ['rgb(0, 115, 255)', 'rgba(0, 115, 255, 0.95)']\n          }\n        },\n        \"reply\": {\n          \"background\": {\n            \"color\": ['rgba(122, 40, 255, 0.95)', 'rgba(61, 122, 255, 0.95)']\n          },\n          \"hover\": {\n            \"color\": ['rgba(122, 40, 255, 0.95)', 'rgb(122, 40, 255)']\n          }\n        }\n      };\n      btnOval1.style.minHeight = btnSize / ovalCoefficient + 'px';\n      btnOval1.style.height = btnSize / ovalCoefficient + 'px';\n      btnOval1.style.maxHeight = btnSize / ovalCoefficient + 'px';\n      btnOval1.style.minWidth = btnSize + 'px';\n      btnOval1.style.width = btnSize + 'px';\n      btnOval1.style.maxWidth = btnSize + 'px';\n      btnOval1.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n      btnOval1.style.left = 0;\n      btnOval1.style.zIndex = btnBgLayerZIndex;\n      btnOval1.style.position = 'absolute';\n      btnOval1.style.transition = 'all 0.4s ease-in-out';\n      btnOval1.style.opacity = '.5';\n      btnOval1.style.borderRadius = '100px';\n      btnOval1.style.transform = 'rotate(-315deg)';\n      btnOval1.style.filter = 'blur(' + btnSize / 10 + 'px)';\n      btnOval1.classList.add('alanBtn-oval-bg-default');\n      btnOval2.style.minHeight = btnSize / ovalCoefficient + 'px';\n      btnOval2.style.height = btnSize / ovalCoefficient + 'px';\n      btnOval2.style.maxHeight = btnSize / ovalCoefficient + 'px';\n      btnOval2.style.minWidth = btnSize + 'px';\n      btnOval2.style.width = btnSize + 'px';\n      btnOval2.style.maxWidth = btnSize + 'px';\n      btnOval2.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n      btnOval2.style.left = 0;\n      btnOval2.style.zIndex = btnBgLayerZIndex;\n      btnOval2.style.position = 'absolute';\n      btnOval2.style.transition = 'all 0.4s ease-in-out';\n      btnOval2.style.opacity = '.5';\n      btnOval2.style.borderRadius = '100px';\n      btnOval2.style.transform = 'rotate(-45deg)';\n      btnOval2.style.filter = 'blur(' + btnSize / 10 + 'px)';\n      btnOval2.classList.add('alanBtn-oval-bg-default'); // Define base styles for mic icon in offline state\n\n      offlineIcon.style.minHeight = '100%';\n      offlineIcon.style.height = '100%';\n      offlineIcon.style.maxHeight = '100%';\n      offlineIcon.style.top = '0%';\n      offlineIcon.style.left = '0%';\n      offlineIcon.style.zIndex = btnIconsZIndex;\n      offlineIcon.style.position = 'absolute';\n      offlineIcon.style.transition = 'all 0.4s ease-in-out';\n      offlineIcon.style.opacity = '0';\n      offlineIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1uZXR3b3JrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLW5vLW5ldHdvcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJpY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMS4wMDAwMDAsIDIyLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMzMsMiBDMzQuNjU2ODU0MiwyIDM2LDMuMzQzMTQ1NzUgMzYsNSBMMzYsMjkgQzM2LDMwLjY1Njg1NDIgMzQuNjU2ODU0MiwzMiAzMywzMiBDMzEuMzQzMTQ1OCwzMiAzMCwzMC42NTY4NTQyIDMwLDI5IEwzMCw1IEMzMCwzLjM0MzE0NTc1IDMxLjM0MzE0NTgsMiAzMywyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjQiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTIzLDggQzI0LjY1Njg1NDIsOCAyNiw5LjM0MzE0NTc1IDI2LDExIEwyNiwyOSBDMjYsMzAuNjU2ODU0MiAyNC42NTY4NTQyLDMyIDIzLDMyIEMyMS4zNDMxNDU4LDMyIDIwLDMwLjY1Njg1NDIgMjAsMjkgTDIwLDExIEMyMCw5LjM0MzE0NTc1IDIxLjM0MzE0NTgsOCAyMyw4IFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjYiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTEzLDE2IEMxNC42NTY4NTQyLDE2IDE2LDE3LjM0MzE0NTggMTYsMTkgTDE2LDI5IEMxNiwzMC42NTY4NTQyIDE0LjY1Njg1NDIsMzIgMTMsMzIgQzExLjM0MzE0NTgsMzIgMTAsMzAuNjU2ODU0MiAxMCwyOSBMMTAsMTkgQzEwLDE3LjM0MzE0NTggMTEuMzQzMTQ1OCwxNiAxMywxNiBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC44Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLDIyIEM0LjY1Njg1NDI1LDIyIDYsMjMuMzQzMTQ1OCA2LDI1IEw2LDI5IEM2LDMwLjY1Njg1NDIgNC42NTY4NTQyNSwzMiAzLDMyIEMxLjM0MzE0NTc1LDMyIDIuMDI5MDYxMjVlLTE2LDMwLjY1Njg1NDIgMCwyOSBMMCwyNSBDLTIuMDI5MDYxMjVlLTE2LDIzLjM0MzE0NTggMS4zNDMxNDU3NSwyMiAzLDIyIFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNS44MSwxLjI3IEwzNi43MywzMi4xOSBDMzcuNDMxNDAxNiwzMi44OTE0MDE2IDM3LjQzMTQwMTYsMzQuMDI4NTk4NCAzNi43MywzNC43MyBDMzYuMDI4NTk4NCwzNS40MzE0MDE2IDM0Ljg5MTQwMTYsMzUuNDMxNDAxNiAzNC4xOSwzNC43MyBMMy4yNywzLjgxIEMyLjU2ODU5ODM3LDMuMTA4NTk4MzcgMi41Njg1OTgzNywxLjk3MTQwMTYzIDMuMjcsMS4yNyBDMy45NzE0MDE2MywwLjU2ODU5ODM2OCA1LjEwODU5ODM3LDAuNTY4NTk4MzY4IDUuODEsMS4yNyBaIiBpZD0iUGF0aCIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\";\n      btnBgDefault.classList.add('alanBtn-bg-default');\n      btnBgListening.classList.add('alanBtn-bg-listening');\n      btnBgSpeaking.classList.add('alanBtn-bg-speaking');\n      btnBgIntermediate.classList.add('alanBtn-bg-intermediate');\n      btnBgUnderstood.classList.add('alanBtn-bg-understood');\n      applyBgStyles(btnBgDefault);\n      applyBgStyles(btnBgListening);\n      applyBgStyles(btnBgSpeaking);\n      applyBgStyles(btnBgIntermediate);\n      applyBgStyles(btnBgUnderstood);\n      var onOpacity = 1;\n      var offOpacity = 0;\n      btnBgDefault.style.opacity = onOpacity;\n      var allIcons = [micCircleIcon, micTriangleIcon, micIcon, offlineIcon, lowVolumeMicIcon, noVoiceSupportMicIcon, logoState1, logoState2, logoState3, logoState4, logoState5, logoState6, logoState7, logoState8, logoState9, logoState10];\n\n      for (var i = 0; i < allIcons.length; i++) {\n        allIcons[i].setAttribute('draggable', 'false');\n      }\n\n      hideLayers([btnBgListening, btnBgSpeaking, btnBgIntermediate, btnBgUnderstood]);\n      btn.appendChild(btnOval1);\n      btn.appendChild(btnOval2);\n      btn.appendChild(btnBgDefault);\n      btn.appendChild(btnBgListening);\n      btn.appendChild(btnBgSpeaking);\n      btn.appendChild(btnBgIntermediate);\n      btn.appendChild(btnBgUnderstood);\n      btn.appendChild(micIcon);\n      btn.appendChild(micTriangleIcon);\n      btn.appendChild(micCircleIcon);\n      btn.appendChild(disconnectedMicLoaderIcon);\n      btn.appendChild(lowVolumeMicIcon);\n      btn.appendChild(noVoiceSupportMicIcon);\n      btn.appendChild(offlineIcon);\n      btn.classList.add(\"alanBtn\");\n\n      if (isMobile()) {\n        rootEl.classList.add(\"mobile\");\n      } //#endregion\n      //#region Add needed styles to the page\n\n\n      createAlanStyleSheet();\n\n      function getStyleSheetMarker(andFlag) {\n        return '.alan-' + getProjectId() + (andFlag ? '' : ' ');\n      }\n\n      function createAlanStyleSheet(btnOptions) {\n        var style;\n        var keyFrames = '';\n        var projectId = getProjectId();\n        var existingStyleSheet;\n\n        if (options.shadowDOM) {\n          existingStyleSheet = options.shadowDOM.getElementById('alan-stylesheet-' + projectId);\n        } else {\n          existingStyleSheet = document.getElementById('alan-stylesheet-' + projectId);\n        }\n\n        if (existingStyleSheet) {\n          existingStyleSheet.disabled = true;\n          existingStyleSheet.parentNode.removeChild(existingStyleSheet);\n        }\n\n        style = document.createElement('style');\n        style.setAttribute('id', 'alan-stylesheet-' + projectId);\n        style.type = 'text/css';\n        keyFrames += '.alanBtn-root * {  box-sizing: border-box; font-family: \\'Lato\\', sans-serif; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;}';\n\n        if (!isMobile()) {\n          keyFrames += getStyleSheetMarker() + '.alanBtn{transform: scale(1);transition:all 0.4s ease-in-out;} .alanBtn:hover{transform: scale(1.11111);transition:all 0.4s ease-in-out;}.alanBtn:focus {transform: scale(1);transition:all 0.4s ease-in-out;  border: solid 3px #50e3c2;  outline: none;  }';\n        }\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder { position:relative; max-width:440px; font-family: \\'Lato\\', sans-serif; font-size: 20px;line-height: 1.2;     min-height: 40px;  color: #000; font-weight: normal; background-color: rgba(245, 252, 252, 0.8);border-radius:32px 0 0 32px; display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack: activate;-ms-flex-pack: start;justify-content: start;}';\n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-text-holder {max-width: calc(100% - ' + sideBtnPos + ');}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.left-side { padding-right: ' + btnSize + 'px;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.right-side { padding-left: ' + btnSize + 'px;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.left-side .alanBtn-text-holder-text-wrapper {padding: 0 12px;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.right-side .alanBtn-text-holder-text-wrapper {padding: 0 12px;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-long  { font-size: 19px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-super-long  { font-size: 14px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-text-holder-long  { font-size: 12px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-text-holder-super-long  { font-size: 11px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-appearing {  animation: text-holder-appear 800ms ease-in-out forwards;  }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-disappearing {  animation: text-holder-disappear 800ms ease-in-out forwards;    }';\n        keyFrames += getStyleSheetMarker() + '.alan-btn-disabled {  pointer-events: none;  opacity: .5;  transition: all .2s ease-in-out;  }';\n        keyFrames += getStyleSheetMarker() + '.shadow-appear {  opacity: 1 !important;  }\\n';\n        keyFrames += getStyleSheetMarker() + '.shadow-disappear {  opacity: 0 !important;  transition: all .1s linear !important;  }';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-no-voice-support .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-no-voice-support .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n        keyFrames += getStyleSheetMarker() + \".alan-btn-disabled-msg:after {content: '';  position: absolute;  bottom: 2px;  right: 0px;  height: 30px;  width: 90px;  background-size: 100% auto;  background-repeat: no-repeat;  background-position: center center;}\";\n        keyFrames += getStyleSheetMarker() + '.triangleMicIconBg {background-image:url(' + micTriangleIconImg + '); pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + '.circleMicIconBg {background-image:url(' + micCircleIconImg + '); pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + ' img {pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + ':hover .triangleMicIconBg-default {opacity:0!important;}';\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-gradient', '0%{backgroundPosition: 0 0;}50%{backgroundPosition: -100% 0;}100%{backgroundPosition: 0 0;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-pulsating', '0%{transform: scale(1.11111);}50%{transform: scale(1.0);}100%{transform: scale(1.11111);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-mic-pulsating', '0%{transform: scale(0.91);}50%{transform: scale(1.0);}100%{transform: scale(0.91);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-triangle-mic-pulsating', '0%{transform: scale(0.94);}50%{transform: scale(1.0);}100%{transform: scale(0.94);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-in', '0%{opacity: 0;}100%{opacity:1;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-out', '0%{opacity: 1;}100%{opacity:0;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-appear', '0%{' + 'opacity:0; ' + 'color:transparent; ' + 'background-color:rgba(245, 252, 252, 0.0);' + 'border: solid 1px transparent; ' + '}' + '100%{' + 'opacity:1; ' + 'color:#000;' + 'background-color:rgba(245, 252, 252, 0.8);' + '}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-disappear', '0%{' + 'opacity:1; ' + 'color:#000;' + 'background-color:rgba(245, 252, 252, 0.8);  ' + '}' + '100%{' + 'opacity:0; ' + 'color:transparent;' + 'background-color:rgba(245, 252, 252, 0.0);' + 'border: solid 1px transparent;' + '}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-1-animation', '0% {  opacity: 1;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 1;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-2-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 1;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-3-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 1;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-4-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 1;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-5-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 1;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-6-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 1;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-7-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 1;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-8-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 1;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-9-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 1;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-10-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 1;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('disconnected-loader-animation', '0%{  transform: rotate(0deg);  } 100%{  transform: rotate(360deg);  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval1-animation', '0%{  transform: rotate(-315deg);  } 50%{  transform: rotate(-495deg);  } 100%{  transform: rotate(-315deg);  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval2-animation', '0%{  transform: rotate(-45deg);  } 50%{  transform: rotate(-215deg);  } 100%{  transform: rotate(-45deg);  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-text-fade-in', '0%{  opacity: 0;  } 100%{   opacity: 1;  }');\n        keyFrames += getStyleSheetMarker() + '.alanBtn-bg-default.super-hidden{opacity:0!important;display:none;}';\n        var predefinedBtnColorOptions = defaultBtnColorOptions;\n\n        if (btnOptions) {\n          if (btnOptions.btnLayerOptions) {\n            //old settings\n            predefinedBtnColorOptions = defaultBtnColorOptions;\n          } else {\n            predefinedBtnColorOptions = btnOptions || defaultBtnColorOptions;\n          }\n        }\n\n        var btnBackgroundOptionKeys = Object.keys(predefinedBtnColorOptions);\n        var tempLayer;\n        var stateName;\n        var stateMapping = {\n          idle: ['default'],\n          listen: ['listening'],\n          process: ['intermediate', 'understood'],\n          reply: ['speaking']\n        };\n        var stateNameClasses, stateNameClass;\n        var states = Object.keys(stateMapping);\n\n        for (i = 0; i < states.length; i++) {\n          stateName = states[i];\n          stateNameClasses = stateMapping[stateName];\n          tempLayer = predefinedBtnColorOptions[stateName];\n\n          for (var j = 0; j < stateNameClasses.length; j++) {\n            stateNameClass = stateNameClasses[j];\n\n            if (tempLayer.background) {\n              keyFrames += getStyleSheetMarker() + '.alanBtn-bg-' + stateNameClass + ' {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.background.color[0] + ',' + tempLayer.background.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn-oval-bg-' + stateNameClass + ' {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.background.color[0] + ',' + tempLayer.background.color[1] + ');';\n              keyFrames += '}';\n            }\n\n            if (tempLayer.hover && !isMobile()) {\n              keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n            }\n          }\n        }\n\n        style.innerHTML = keyFrames;\n\n        if (options.shadowDOM) {\n          options.shadowDOM.prepend(style);\n        } else {\n          document.getElementsByTagName('head')[0].appendChild(style);\n        }\n      }\n\n      function generateKeyFrame(name, rule) {\n        var prefixes = ['@-webkit-keyframes', '@keyframes'];\n        var r = '';\n\n        for (var i = 0; i < prefixes.length; i++) {\n          r += prefixes[i] + ' ' + name + '{' + rule + '} ';\n        }\n\n        return r;\n      } //#endregion\n      //#region Connect to the project and add listeners\n\n\n      if (options) {\n        if (options.alanAudio) {\n          alanAudio = options.alanAudio;\n        }\n\n        if (options.key) {\n          tryReadSettingsFromLocalStorage();\n          switchState(getDefaultBtnState(DISCONNECTED));\n          window.tutorProject = alan.project(options.key, getAuthData(options.authData), options.host, null, {\n            platform: mode === 'demo' ? 'alanplayground' : null,\n            appName: window.location.hostname\n          });\n          window.tutorProject.on('connectStatus', onConnectStatusChange);\n          window.tutorProject.on('options', onOptionsReceived); // console.info('BTN: tutorProject', options.key);\n        } else {\n          switchState(getDefaultBtnState());\n        }\n      }\n\n      function guid() {\n        function s4() {\n          return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n        }\n\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n      }\n\n      function getAuthData(data) {\n        var authData = data || {};\n        var curUuid, uuidKey;\n\n        if (isLocalStorageAvailable && authData) {\n          uuidKey = 'alan-btn-uuid-' + getProjectId();\n          curUuid = localStorage.getItem(uuidKey);\n\n          if (curUuid) {\n            authData.uuid = curUuid;\n          } else {\n            authData.uuid = guid();\n            localStorage.setItem(uuidKey, authData.uuid);\n          }\n        } else {\n          authData.uuid = guid();\n        }\n\n        return authData;\n      }\n\n      function getProjectId() {\n        var key;\n\n        if (options.key) {\n          key = options.key;\n          return key.substr(0, key.indexOf('/'));\n        }\n\n        return mode;\n      }\n\n      function debounce(func, wait) {\n        var timeout;\n        var delay = wait || 100;\n        return function (args) {\n          clearTimeout(timeout);\n          timeout = setTimeout(function () {\n            func.apply(this, args);\n          }, delay);\n        };\n      }\n\n      function _activateAlanButton(resolve) {\n        playSoundOn();\n\n        if (options.onBeforeMicStart) {\n          options.onBeforeMicStart();\n        }\n\n        alanAudio.on('micStart', onMicStart);\n        alanAudio.on('micStop', onMicStop);\n        alanAudio.on('micFail', onMicFail);\n        alanAudio.on('playStart', onPlayStart);\n        alanAudio.on('playStop', onPlayStop);\n        alanAudio.on('command', onCommandCbInMicBtn);\n        alanAudio.start(resolve);\n\n        if (options.onMicStarted) {\n          options.onMicStarted();\n        }\n      }\n\n      function activateAlanButton() {\n        var activatePromise = new Promise(function (resolve, reject) {\n          if (btnDisabled) {\n            reject({\n              err: BTN_IS_DISABLED_CODE\n            });\n            return;\n          }\n\n          if (isPreviewMode()) {\n            reject({\n              err: PREVIEW_MODE_CODE\n            });\n            return;\n          }\n\n          function waitForConnectionForActivateCall(res) {\n            if (res === 'authorized') {\n              window.tutorProject.off('connectStatus', waitForConnectionForActivateCall);\n\n              _activateAlanButton(resolve);\n            }\n          }\n\n          if (alanAudio) {\n            switch (state) {\n              case DEFAULT:\n                try {\n                  _activateAlanButton(resolve);\n                } catch (e) {\n                  currentErrMsg = NO_VOICE_SUPPORT_IN_BROWSER_MSG;\n                  reject({\n                    err: NO_VOICE_SUPPORT_IN_BROWSER_CODE\n                  });\n                }\n\n                break;\n\n              case DISCONNECTED:\n              case OFFLINE:\n                window.tutorProject.on('connectStatus', waitForConnectionForActivateCall);\n                break;\n\n              case PERMISSION_DENIED:\n                reject({\n                  err: MIC_BLOCKED_CODE\n                });\n                break;\n\n              case LISTENING:\n              case SPEAKING:\n              case INTERMEDIATE:\n              case UNDERSTOOD:\n                resolve();\n                break;\n\n              default:\n            }\n          } else {\n            reject({\n              err: NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE\n            });\n          }\n        });\n        return activatePromise;\n      }\n\n      btn.addEventListener('click', function (e) {\n        if (afterMouseMove) return;\n        if (!dndBackAnimFinished) return;\n\n        if (currentErrMsg) {\n          alert(currentErrMsg);\n          return;\n        }\n\n        if (alanAudio) {\n          if (state === 'default') {\n            activateAlanButton();\n          } else {\n            alanAudio.stop();\n          }\n        } else {\n          throw new Error('No alan audio instance was provided');\n        } //remove focus state from the btn after click\n\n\n        this.blur();\n      });\n\n      function showRecognisedText(e, text, forceOnMobile) {\n        // console.info('showRecognisedText');\n        var recognisedText = '';\n\n        if (isMobile() && forceOnMobile !== true) {\n          return;\n        }\n\n        if (hideS2TPanel) {\n          return;\n        }\n\n        recognisedTextVisible = true;\n\n        if (!options.hideRecognizedText) {\n          if (textHolder.classList.value.indexOf('alanBtn-text-appearing') === -1) {\n            textHolder.classList.add('with-text');\n            textHolder.classList.add('alanBtn-text-appearing');\n            textHolder.classList.remove('alanBtn-text-disappearing');\n          }\n\n          if (text) {\n            recognisedText = text;\n            textHolderTextWrapper.innerHTML = text;\n          } else {\n            recognisedText = e.text;\n\n            if (recognisedText.length > 200) {\n              recognisedText = recognisedText.substr(0, 200);\n            }\n\n            textHolderTextWrapper.innerHTML = recognisedText;\n          }\n\n          if (recognisedText.length > 60 && recognisedText.length <= 80) {\n            textHolder.classList.add('alanBtn-text-holder-long');\n          } else if (recognisedText.length > 80) {\n            textHolder.classList.add('alanBtn-text-holder-super-long');\n          } else {\n            textHolder.classList.remove('alanBtn-text-holder-long');\n            textHolder.classList.remove('alanBtn-text-holder-super-long');\n          }\n\n          if (text) {\n            textHolder.appendChild(textHolderTextWrapper);\n          } else {\n            replaceRecognisedText(recognisedText);\n          }\n        }\n      }\n\n      function replaceRecognisedText(recognisedText) {\n        if (isMobile()) {\n          return;\n        }\n\n        if (!options.hideRecognizedText) {\n          textHolderTextWrapper.innerText = recognisedText;\n        }\n      }\n\n      function hideRecognisedText(delay, forceOnMobile) {\n        // console.info('hideRecognisedText');\n        if (isMobile() && forceOnMobile !== true) {\n          return;\n        }\n\n        if (!options.hideRecognizedText && recognisedTextVisible) {\n          textHolder.classList.add('alanBtn-text-disappearing');\n          textHolder.classList.remove('alanBtn-text-appearing');\n          recognisedTextVisible = false;\n          setTimeout(function () {\n            textHolderTextWrapper.innerHTML = '';\n            textHolder.classList.remove('alanBtn-text-holder-long');\n            textHolder.classList.remove('alanBtn-text-holder-super-long');\n            textHolder.classList.remove('with-text');\n          }, delay || 810);\n        }\n      }\n\n      function shuffle(array) {\n        var currentIndex = array.length,\n            temporaryValue,\n            randomIndex;\n\n        while (0 !== currentIndex) {\n          randomIndex = Math.floor(Math.random() * currentIndex);\n          currentIndex -= 1;\n          temporaryValue = array[currentIndex];\n          array[currentIndex] = array[randomIndex];\n          array[randomIndex] = temporaryValue;\n        }\n\n        return array;\n      }\n\n      function onOptionsReceived(data) {\n        if (data && data.web && data.web.hidden === true) {\n          hideAlanBtn();\n        } else {\n          showAlanBtn();\n        }\n\n        if (data && data.web && data.web.hideS2TPanel === true) {\n          hideSpeach2TextPanel();\n        } else {\n          showSpeach2TextPanel();\n        }\n\n        if (data && data.web && data.web.timeout) {\n          turnOffTimeout = data.web.timeout;\n          setTurnOffVoiceTimeout();\n        }\n\n        if (data && data.web && data.web.btnOptions) {\n          console.info('OPTIONS', data.web.btnOptions);\n          applyBtnOptions(data.web.btnOptions);\n        }\n\n        if (data && data.web && data.web.logoUrl) {\n          applyLogoOptions(data.web.logoUrl);\n        }\n\n        if (isLocalStorageAvailable && data) {\n          localStorage.setItem(getStorageKey(), JSON.stringify(data));\n        }\n      }\n\n      function onConnectStatusChange(res) {\n        console.info('BTN: connectStatus', res);\n\n        if (options.onConnectionStatus) {\n          options.onConnectionStatus(res);\n        }\n\n        if (res === 'disconnected') {\n          switchState(getDefaultBtnState(DISCONNECTED));\n        } else if (res === 'authorized') {\n          if (previousState) {\n            switchState(previousState);\n          } else {\n            switchState(getDefaultBtnState());\n          }\n        }\n      }\n\n      function onMicStart() {\n        // console.log('BTN: mic. started', new Date());\n        switchState(LISTENING);\n        isAlanActive = true;\n\n        if (window.tutorProject) {\n          window.tutorProject.on('text', onTextCbInMicBtn);\n          window.tutorProject.on('parsed', onParsedCbInMicBtn);\n          window.tutorProject.on('recognized', onRecognizedCbInMicBtn);\n          window.tutorProject.on('connectStatus', onConnectStatusChange);\n          window.tutorProject.on('options', onOptionsReceived);\n        }\n      }\n\n      function onMicStop() {\n        // console.log('BTN: mic. stopped');\n        playSoundOff();\n        isAlanSpeaking = false;\n        alanAudio.off('micStart', onMicStart);\n        alanAudio.off('micStop', onMicStop);\n        alanAudio.off('micFail', onMicFail);\n        alanAudio.off('playStart', onPlayStart);\n        alanAudio.off('playStop', onPlayStop);\n        alanAudio.off('command', onCommandCbInMicBtn);\n        hideRecognisedText();\n        switchState(DEFAULT);\n        isAlanActive = false;\n\n        if (window.tutorProject) {\n          window.tutorProject.off('text', onTextCbInMicBtn);\n          window.tutorProject.off('parsed', onParsedCbInMicBtn);\n          window.tutorProject.off('recognized', onRecognizedCbInMicBtn);\n          window.tutorProject.off('connectStatus', onConnectStatusChange);\n          window.tutorProject.off('options', onOptionsReceived);\n        }\n\n        if (options.onMicStopped) {\n          options.onMicStopped();\n        }\n      }\n\n      function onMicFail() {\n        // console.log('BTN: mic. failed');\n        onMicStop();\n        alert(MIC_BLOCKED_MSG);\n        switchState(PERMISSION_DENIED);\n      }\n\n      function onPlayStart(e) {\n        // console.log('BTN: play start');\n        isAlanSpeaking = true;\n        switchState(SPEAKING);\n        turnOffVoiceFn();\n      }\n\n      function onPlayStop(e) {\n        // console.log('BTN: play stop');\n        isAlanSpeaking = false;\n        switchState(LISTENING);\n        turnOffVoiceFn();\n      }\n\n      function onTextCbInMicBtn(e) {\n        // console.info('BTN: onTextCb', e, new Date());\n        turnOffVoiceFn();\n      }\n\n      function onParsedCbInMicBtn(e) {\n        // console.info('BTN: onParsedCb', e, new Date());\n        turnOffVoiceFn();\n        showRecognisedText(e);\n      }\n\n      function onRecognizedCbInMicBtn(e) {\n        // console.info('BTN: onRecognizedTextCb', e, new Date());\n        if (options.onReceiveRecognisedText) {\n          options.onReceiveRecognisedText(e);\n        }\n\n        if (e.final === true) {\n          switchState(UNDERSTOOD);\n        } else {\n          switchState(INTERMEDIATE);\n        }\n\n        showRecognisedText(e);\n        turnOffVoiceFn();\n      }\n\n      function onCommandCbInMicBtn(e) {\n        // console.info('BTN: onCommandCbInMicBtn', e, new Date());\n        if (options.onCommand) {\n          options.onCommand(e.data);\n        }\n\n        switchState(LISTENING);\n        turnOffVoiceFn();\n      }\n\n      function playSoundOn() {\n        if (!soundOnAudioDoesNotExist) {\n          soundOnAudio.play().catch(function () {\n            console.log(\"No activation sound, because the user didn't interact with the button\");\n          });\n        }\n      }\n\n      function playSoundOff() {\n        if (!soundOffAudioDoesNotExist) {\n          soundOffAudio.play().catch(function () {\n            console.log(\"No deactivation sound, because the user didn't interact with the button\");\n          });\n        }\n      }\n\n      window.switchState = switchState;\n\n      function switchState(newState) {\n        // console.info('BTN: state', newState);\n        var tempLogoParts = [],\n            i = 0;\n\n        if (newState !== DISCONNECTED) {\n          previousState = newState;\n        }\n\n        currentErrMsg = null;\n\n        if (newState === DEFAULT) {\n          btn.style.animation = '';\n          micIcon.style.animation = '';\n          micTriangleIcon.style.animation = '';\n          btnBgDefault.classList.remove('super-hidden');\n          btnBgDefault.style.opacity = onOpacity;\n          btnOval1.style.animation = '';\n          btnOval2.style.animation = '';\n          btnOval1.style.opacity = 0;\n          btnOval2.style.opacity = 0;\n          changeBgColors(DEFAULT);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 0;\n          hideLayers([btnBgListening, btnBgSpeaking, btnBgIntermediate, btnBgUnderstood]);\n        } else if (newState === LISTENING) {\n          btn.style.animation = pulsatingAnimation;\n          micIcon.style.animation = pulsatingMicAnimation;\n          micTriangleIcon.style.animation = pulsatingTriangleMicAnimation;\n          btnBgListening.classList.remove('super-hidden');\n          btnBgListening.style.opacity = onOpacity;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(LISTENING);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 1;\n          hideLayers([btnBgSpeaking, btnBgIntermediate, btnBgUnderstood]);\n        } else if (newState === SPEAKING) {\n          hideRecognisedText();\n          btn.style.animation = pulsatingAnimation;\n          btnBgSpeaking.classList.remove('super-hidden');\n          btnBgSpeaking.style.opacity = onOpacity;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(SPEAKING);\n          hideLayers([btnBgDefault, btnBgListening, btnBgIntermediate, btnBgUnderstood]);\n        } else if (newState === INTERMEDIATE) {\n          btn.style.animation = pulsatingAnimation;\n          btnBgIntermediate.classList.remove('super-hidden');\n          btnBgIntermediate.style.opacity = onOpacity;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(INTERMEDIATE);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 1;\n          hideLayers([btnBgDefault, btnBgListening, btnBgSpeaking, btnBgUnderstood]);\n        } else if (newState === UNDERSTOOD) {\n          btn.style.animation = pulsatingAnimation;\n          btnBgUnderstood.classList.remove('super-hidden');\n          btnBgUnderstood.style.opacity = onOpacity;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(UNDERSTOOD);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 1;\n          hideLayers([btnBgDefault, btnBgListening, btnBgSpeaking, btnBgIntermediate]);\n        }\n\n        if (newState === SPEAKING) {\n          micTriangleIcon.style.opacity = 0;\n          micCircleIcon.style.opacity = 1;\n          micTriangleIcon.style.backgroundSize = '0% 0%';\n          micCircleIcon.style.backgroundSize = '100% 100%';\n        } else {\n          micCircleIcon.style.opacity = 0;\n          micCircleIcon.style.backgroundSize = '0% 0%';\n          micTriangleIcon.style.backgroundSize = '100% 100%';\n        }\n\n        if (newState === DEFAULT) {\n          micTriangleIcon.classList.add('triangleMicIconBg-default');\n        } else {\n          micTriangleIcon.classList.remove('triangleMicIconBg-default');\n        }\n\n        tempLogoParts = [logoState1, logoState2, logoState3, logoState4, logoState5, logoState6, logoState7, logoState8, logoState9, logoState10];\n\n        if (!customBtnLogoUrl) {\n          if (newState === LISTENING || newState === INTERMEDIATE || newState === SPEAKING || newState === UNDERSTOOD) {\n            if (logoState1.style.animationName === '') {\n              for (i = 0; i < tempLogoParts.length; i++) {\n                if (i === 0) {\n                  tempLogoParts[i].style.opacity = 1;\n                } else {\n                  tempLogoParts[i].style.opacity = 0;\n                }\n\n                tempLogoParts[i].style.animationName = 'logo-state-' + (i + 1) + '-animation';\n              }\n            }\n\n            defaultStateBtnIcon.style.opacity = 0;\n          } else {\n            defaultStateBtnIcon.style.opacity = 1;\n\n            for (i = 0; i < tempLogoParts.length; i++) {\n              tempLogoParts[i].style.opacity = 0;\n              tempLogoParts[i].style.animationName = '';\n            }\n          }\n        }\n\n        if (newState === LOW_VOLUME || newState === PERMISSION_DENIED || newState === NO_VOICE_SUPPORT || newState === NOT_SECURE_ORIGIN) {\n          if (newState === LOW_VOLUME) {\n            rootEl.classList.add(\"alan-btn-low-volume\");\n            currentErrMsg = LOW_VOLUME_MSG;\n          } else if (newState === PERMISSION_DENIED) {\n            rootEl.classList.add(\"alan-btn-permission-denied\");\n            currentErrMsg = MIC_BLOCKED_MSG;\n          } else if (newState === NO_VOICE_SUPPORT || newState === NOT_SECURE_ORIGIN) {\n            rootEl.classList.add(\"alan-btn-no-voice-support\");\n\n            if (newState === NO_VOICE_SUPPORT) {\n              currentErrMsg = NO_VOICE_SUPPORT_IN_BROWSER_MSG;\n            } else if (newState === NOT_SECURE_ORIGIN) {\n              currentErrMsg = NOT_SECURE_ORIGIN_MSG;\n            }\n          }\n\n          if (newState === NO_VOICE_SUPPORT) {\n            noVoiceSupportMicIcon.style.opacity = 1;\n            lowVolumeMicIcon.style.opacity = 0;\n          } else {\n            noVoiceSupportMicIcon.style.opacity = 0;\n            lowVolumeMicIcon.style.opacity = 1;\n          }\n\n          micIcon.style.opacity = 0;\n          micTriangleIcon.style.opacity = 0;\n          disconnectedMicLoaderIcon.style.opacity = 0;\n          offlineIcon.style.opacity = 0;\n          btnOval1.style.animation = '';\n          btnOval2.style.animation = '';\n          btnOval1.style.opacity = 0;\n          btnOval2.style.opacity = 0;\n        } else if (newState === DISCONNECTED || newState === OFFLINE) {\n          if (newState === DISCONNECTED) {\n            rootEl.classList.add(\"alan-btn-disconnected\");\n          }\n\n          if (newState === OFFLINE) {\n            rootEl.classList.add(\"alan-btn-offline\");\n            currentErrMsg = OFFLINE_MSG;\n          }\n\n          micTriangleIcon.style.opacity = 0;\n          lowVolumeMicIcon.style.opacity = 0;\n          btnOval1.style.animation = '';\n          btnOval2.style.animation = '';\n          btnOval1.style.opacity = 0;\n          btnOval2.style.opacity = 0;\n\n          if (newState === DISCONNECTED) {\n            micIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 1;\n          } else {\n            micIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 0;\n            offlineIcon.style.opacity = 1;\n          }\n        } else {\n          lowVolumeMicIcon.style.opacity = 0;\n          offlineIcon.style.opacity = 0;\n          disconnectedMicLoaderIcon.style.opacity = 0;\n          rootEl.classList.remove(\"alan-btn-low-volume\");\n          rootEl.classList.remove(\"alan-btn-permission-denied\");\n          rootEl.classList.remove(\"alan-btn-disconnected\");\n          rootEl.classList.remove(\"alan-btn-offline\");\n          rootEl.classList.remove(\"alan-btn-no-voice-support\");\n        }\n\n        state = newState;\n      } //#endregion\n      //#region Helpers\n\n\n      function applyBgStyles(el, backgroundImage) {\n        el.style.transition = 'all 0.4s linear';\n        el.style.position = 'absolute';\n        el.style.top = '0px';\n        el.style.left = '0px';\n        el.style.width = '100%';\n        el.style.height = '100%';\n        el.style.borderRadius = '50%';\n        el.style.zIndex = btnBgLayerZIndex;\n        el.style.backgroundPosition = '0 0';\n        el.style.opacity = 0;\n        el.style.opacity = 0;\n        el.style.transition = 'opacity 300ms ease-in-out';\n        el.style.animation = gradientAnimation;\n      }\n\n      function hideLayers(layers) {\n        for (var i = 0; i < layers.length; i++) {\n          layers[i].style.opacity = offOpacity;\n          layers[i].classList.add('super-hidden');\n        }\n      }\n\n      function changeBgColors(state) {\n        var tempBgLayers = [btnOval1, btnOval2];\n        var newStateName = state || DEFAULT;\n        var tempBgLayerClasses = ['alanBtn-oval-bg-' + DEFAULT, 'alanBtn-oval-bg-' + LISTENING, 'alanBtn-oval-bg-' + INTERMEDIATE, 'alanBtn-oval-bg-' + UNDERSTOOD, 'alanBtn-oval-bg-' + SPEAKING];\n\n        for (var i = 0; i < tempBgLayers.length; i++) {\n          for (var j = 0; j < tempBgLayerClasses.length; j++) {\n            tempBgLayers[i].classList.remove(tempBgLayerClasses[j]);\n          }\n\n          tempBgLayers[i].classList.add('alanBtn-oval-bg-' + newStateName);\n        }\n      }\n\n      function getStorageKey() {\n        var key = '';\n\n        if (options && options.key) {\n          key = options.key;\n        }\n\n        return 'alan-btn-options-' + key;\n      }\n\n      function isMobile() {\n        if (/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n          return true;\n        }\n\n        return false;\n      }\n\n      function isOriginSecure() {\n        var isSecure = false;\n        var protocol = window.location.protocol;\n        var hostname = window.location.hostname;\n\n        if (protocol === 'https:') {\n          isSecure = true;\n        }\n\n        if (protocol === 'file:') {\n          isSecure = true;\n        }\n\n        if (protocol === 'http:' && (hostname.indexOf('localhost') > -1 || hostname.indexOf('127.0.0.1') > -1)) {\n          isSecure = true;\n        }\n\n        return isSecure;\n      }\n\n      function isAudioSupported() {\n        var available = false,\n            fakeGetUserMedia,\n            fakeContext;\n        fakeGetUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n        fakeContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext;\n\n        if (fakeGetUserMedia && fakeContext) {\n          available = true;\n        }\n\n        return available;\n      }\n\n      function getDebugInfo() {\n        var info = '\\nDebug Info:\\n';\n        info += 'getUserMedia - ';\n        info += navigator.getUserMedia ? 'true' : 'false';\n        info += '\\n';\n        info += 'mediaDevices.getUserMedia - ';\n        info += navigator.mediaDevices && navigator.mediaDevices.getUserMedia ? 'true' : 'false';\n        info += '\\n';\n        info += 'webkitGetUserMedia - ';\n        info += navigator.webkitGetUserMedia ? 'true' : 'false';\n        info += '\\n';\n        info += 'mozGetUserMedia - ';\n        info += navigator.mozGetUserMedia ? 'true' : 'false';\n        info += '\\n';\n        info += 'msGetUserMedia - ';\n        info += navigator.msGetUserMedia ? 'true' : 'false';\n        info += '\\n';\n        info += 'AudioContext - ';\n        info += window.AudioContext ? 'true' : 'false';\n        info += '\\n';\n        info += 'webkitAudioContext - ';\n        info += window.webkitAudioContext ? 'true' : 'false';\n        info += '\\n';\n        info += 'mozAudioContext - ';\n        info += window.mozAudioContext ? 'true' : 'false';\n        info += '\\n';\n        info += 'mobile - ';\n        info += /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        info += '\\n';\n        info += 'userAgent - ';\n        info += navigator.userAgent;\n        return info;\n      } //#endregion\n      //#region Append layers to the rootEl\n\n\n      function showAlanBtn() {\n        rootEl.innerHTML = '';\n        textHolder.appendChild(textHolderTextWrapper);\n        rootEl.appendChild(textHolder);\n        rootEl.appendChild(btn);\n        btnDisabled = false;\n      }\n\n      function hideAlanBtn() {\n        if (!isTutorMode()) {\n          alanAudio.stop();\n          rootEl.innerHTML = '';\n\n          if (mode === 'demo') {\n            rootEl.appendChild(alanBtnDisabledMessage);\n          }\n\n          btnDisabled = true;\n        }\n      }\n\n      function showSpeach2TextPanel() {\n        hideS2TPanel = false;\n      }\n\n      function hideSpeach2TextPanel() {\n        hideS2TPanel = true;\n        hideRecognisedText();\n      }\n\n      function applyBtnOptions(btnOptions) {\n        if (btnOptions) {\n          createAlanStyleSheet(btnOptions);\n        }\n      }\n\n      function applyLogoOptions(logoUrl) {\n        if (logoUrl) {\n          customBtnLogoUrl = logoUrl;\n          defaultStateBtnIcon.src = logoUrl;\n          micIcon.src = logoUrl;\n          micTriangleIcon.src = logoUrl;\n          micTriangleIcon.classList.remove('triangleMicIconBg'); // logoState1.src=logoUrl;\n          // logoState2.src=logoUrl;\n          // logoState3.src=logoUrl;\n          // logoState4.src=logoUrl;\n          // logoState5.src=logoUrl;\n          // logoState6.src=logoUrl;\n          // logoState7.src=logoUrl;\n          // logoState8.src=logoUrl;\n          // logoState9.src=logoUrl;\n          // logoState10.src=logoUrl;\n        }\n      }\n\n      rootEl.classList.add(\"alanBtn-root\");\n      rootEl.classList.add(\"alan-\" + getProjectId());\n      var alanBtnSavedOptions = null;\n\n      if (isTutorMode()) {\n        showAlanBtn();\n      } else {\n        if (isLocalStorageAvailable) {\n          try {\n            tryReadSettingsFromLocalStorage();\n          } catch (e) {\n            showAlanBtn();\n          }\n        } else {\n          showAlanBtn();\n        }\n      }\n\n      function tryReadSettingsFromLocalStorage() {\n        if (isLocalStorageAvailable) {\n          try {\n            alanBtnSavedOptions = JSON.parse(localStorage.getItem(getStorageKey()));\n\n            if (alanBtnSavedOptions && alanBtnSavedOptions.web) {\n              if (alanBtnSavedOptions.web.btnOptions) {\n                applyBtnOptions(alanBtnSavedOptions.web.btnOptions);\n              }\n\n              if (alanBtnSavedOptions.web.hidden !== true) {\n                showAlanBtn();\n              } else {\n                hideAlanBtn();\n              }\n            }\n          } catch (e) {}\n        }\n      }\n\n      if (!options.rootEl) {\n        body.appendChild(rootEl);\n      } // showRecognisedText({})\n      //#endregion\n      //#region Drag-n-drop btn logic\n\n\n      var dndInitialMousePositions = [0, 0];\n      var dndIsDown = false;\n      var afterMouseMove = false;\n      var dndSideBtnPos = null;\n      var dndTopPos;\n      var dndBottomPos;\n      var dndFinalLeftPos;\n      var dndFinalRightPos;\n      var dndAnimDelay = 300;\n      var dndAnimTransition = dndAnimDelay + 'ms';\n      var dndBackAnimFinished = true;\n\n      if (!pinned) {\n        rootEl.addEventListener('mousedown', onMouseDown, true);\n        rootEl.addEventListener('touchstart', onMouseDown, {\n          passive: false\n        });\n        document.addEventListener('mouseup', onMouseUp, true);\n        document.addEventListener('touchend', onMouseUp, {\n          passive: false\n        });\n        document.addEventListener('mousemove', onMouseMove, true);\n        document.addEventListener('touchmove', onMouseMove, {\n          passive: false\n        });\n      }\n\n      function onMouseDown(e) {\n        console.info('onMouseDown', e);\n        var posInfo = e.touches ? e.touches[0] : e;\n        if (!dndBackAnimFinished || e.buttons !== 1) return;\n        dndIsDown = true;\n        rootEl.style.transition = '0ms';\n\n        if (!dndSideBtnPos) {\n          dndSideBtnPos = isLeftAligned ? rootEl.offsetLeft : window.innerWidth - rootEl.offsetLeft;\n        }\n\n        dndInitialMousePositions = [posInfo.clientX, posInfo.clientY];\n\n        if (isTopAligned) {\n          dndTopPos = +rootEl.style.top.replace('px', '');\n        } else {\n          dndBottomPos = +rootEl.style.bottom.replace('px', '');\n        }\n      }\n\n      function onMouseUp(e) {\n        var curPos;\n\n        if (dndIsDown) {\n          dndIsDown = false;\n          rootEl.style.transition = dndAnimTransition;\n\n          if (isLeftAligned) {\n            curPos = +rootEl.style.left.replace('px', '');\n          } else {\n            curPos = +rootEl.style.right.replace('px', '');\n          }\n\n          if (curPos <= window.innerWidth / 2) {\n            moveBtnToTheSameSide();\n          } else {\n            moveBtnToTheOppositeSide();\n          }\n\n          setTimeout(function () {\n            afterMouseMove = false;\n          }, 300);\n        }\n      }\n\n      function onMouseMove(e) {\n        var posInfo = e.touches ? e.touches[0] : e;\n\n        if (dndIsDown) {\n          e.preventDefault();\n          afterMouseMove = true;\n\n          if (isLeftAligned) {\n            dndFinalLeftPos = dndSideBtnPos + posInfo.clientX - dndInitialMousePositions[0];\n            dndFinalRightPos = window.innerWidth - dndFinalLeftPos;\n            rootEl.style.left = dndSideBtnPos + posInfo.clientX - dndInitialMousePositions[0] + 'px';\n          } else {\n            dndFinalRightPos = dndSideBtnPos - posInfo.clientX + dndInitialMousePositions[0];\n            dndFinalLeftPos = window.innerWidth - dndFinalRightPos;\n            rootEl.style.right = dndSideBtnPos - posInfo.clientX + dndInitialMousePositions[0] + 'px';\n          }\n\n          if (isTopAligned) {\n            rootEl.style.top = correctYPos(dndTopPos + posInfo.clientY - dndInitialMousePositions[1]) + 'px';\n          } else {\n            rootEl.style.bottom = correctYPos(dndBottomPos - posInfo.clientY + dndInitialMousePositions[1]) + 'px';\n          }\n        }\n      }\n\n      function correctYPos(yPos) {\n        var defDelta = 10;\n\n        if (yPos < 0) {\n          return defDelta;\n        } else if (yPos > window.innerHeight - btnSize - defDelta) {\n          return window.innerHeight - btnSize - defDelta;\n        }\n\n        return yPos;\n      }\n\n      function changeBtnSide(side) {\n        if (side === 'to-left') {\n          rootEl.style.right = '';\n          isLeftAligned = true;\n          isRightAligned = false;\n        } else {\n          rootEl.style.left = '';\n          isLeftAligned = false;\n          isRightAligned = true;\n        }\n\n        setStylesBasedOnSide();\n      }\n\n      function moveBtnToTheSameSide() {\n        rootEl.style.transition = dndAnimTransition;\n        rootEl.style[isLeftAligned ? 'left' : 'right'] = dndSideBtnPos + 'px';\n      }\n\n      function moveBtnToTheOppositeSide() {\n        var finalBtnPos = window.innerWidth - dndSideBtnPos - btnSize + 'px';\n        dndBackAnimFinished = false;\n\n        if (isLeftAligned) {\n          rootEl.style.left = finalBtnPos;\n          setTimeout(function () {\n            rootEl.style.right = dndSideBtnPos + 'px';\n            changeBtnSide('to-right');\n            dndBackAnimFinished = true;\n          }, dndAnimDelay);\n        } else {\n          rootEl.style.right = finalBtnPos;\n          setTimeout(function () {\n            rootEl.style.left = dndSideBtnPos + 'px';\n            changeBtnSide('to-left');\n            dndBackAnimFinished = true;\n          }, dndAnimDelay);\n        }\n      } //#endregion\n\n\n      return btnInstance;\n    }\n\n    ns.alanBtn = alanBtn;\n  })(window);\n\n  return alanBtn;\n});","map":{"version":3,"sources":["/Users/zareennaushad/Documents/FAISAL/ios/Voice Recognition Ecommerce App/Alan_AI_Voice_Recogition_Ecommerce_App/node_modules/@alan-ai/alan-sdk-web/dist/alan_lib.js"],"names":["root","factory","define","amd","exports","module","alanBtn","ns","audioElement","document","createElement","setAttribute","addEventListener","playState","PLAY_IDLE","_handleQueue","body","appendChild","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","mediaDevices","console","error","PLAY_ACTIVE","handlers","micStream","audioRecorder","audioSource","frameSize","audioCtx","totalSamples","sampleRate","firstSampleTs","frameCount","audioQueue","window","AudioContext","webkitAudioContext","length","o","shift","event","fireEvent","text","audio","o1","o2","h","i","onGetUserMedia","mic","log","state","resume","createMediaStreamSource","createScriptProcessor","connect","onaudioprocess","e","recordFrame","inputBuffer","getChannelData","destination","onGetUserMediaError","err","sr","float32array","Date","now","audioTime","clockTime","isPlaying","playText","push","playEvent","playAudio","on","handler","off","index","indexOf","splice","start","onStarted","then","stop","getTracks","track","getAudioTracks","disconnect","pause","currentTime","src","alanAudio","host","config","baseURL","location","codec","version","platform","ConnectionWrapper","_this","_worker","Worker","URL","createObjectURL","Blob","type","onmessage","data","_fire","_callback","_dialogId","onerror","filename","lineno","message","_handlers","_cleanups","_callIds","_config","prototype","getSettings","server","projectId","dialogId","setVisual","postMessage","call","method","param","callback","cid","close","_url","forEach","object","_addCleanup","f","fillAuth","values","ext","auth","k","platformVersion","appName","connectProject","mode","url","signupEvent","name","passEventToWorker","a1","a2","passEventToClient","e1","connectProjectTest","connectTutor","alan","projectTest","project","tutor","options","btnDisabled","hideS2TPanel","pinned","btnInstance","setVisualState","visualState","tutorProject","callProjectApi","funcName","funcNamePrefix","Error","playCommand","command","activate","activateAlanButton","deactivate","isActive","isAlanActive","callClientApi","setAuthData","key","getAuthData","onConnectStatusChange","onOptionsReceived","setOptions","setPreviewState","switchState","remove","rootEl","updateButtonState","baseUrl","position","DEFAULT","LISTENING","SPEAKING","INTERMEDIATE","UNDERSTOOD","DISCONNECTED","OFFLINE","LOW_VOLUME","PERMISSION_DENIED","NO_VOICE_SUPPORT","NOT_SECURE_ORIGIN","MIC_BLOCKED_MSG","NO_VOICE_SUPPORT_IN_BROWSER_MSG","getDebugInfo","NOT_SECURE_ORIGIN_MSG","protocol","hostname","LOW_VOLUME_MSG","OFFLINE_MSG","currentErrMsg","NO_VOICE_SUPPORT_IN_BROWSER_CODE","MIC_BLOCKED_CODE","PREVIEW_MODE_CODE","BTN_IS_DISABLED_CODE","NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE","previousState","isAlanSpeaking","customBtnLogoUrl","isLeftAligned","isRightAligned","isTopAligned","isBottomAligned","recognisedTextVisible","turnOffTimeout","turnOffVoiceFn","setTurnOffVoiceTimeout","debounce","switchToLowVolumeStateTimer","pulsatingAnimation","pulsatingMicAnimation","pulsatingTriangleMicAnimation","isPreviewMode","gradientAnimation","disconnectedLoaderAnimation","getElementsByTagName","btn","defaultStateBtnIconImg","micTriangleIconImg","micCircleIconImg","micIcon","defaultStateBtnIcon","logoState1","logoState2","logoState3","logoState4","logoState5","logoState6","logoState7","logoState8","logoState9","logoState10","micTriangleIcon","micCircleIcon","disconnectedMicLoaderIcon","lowVolumeMicIcon","noVoiceSupportMicIcon","offlineIcon","textHolder","textHolderTextWrapper","alanBtnDisabledMessage","soundOnAudioDoesNotExist","soundOffAudioDoesNotExist","soundOnAudio","Audio","soundOffAudio","btnBgDefault","btnBgListening","btnBgSpeaking","btnBgIntermediate","btnBgUnderstood","btnOval1","btnOval2","btnSize","sideBtnPos","bottomBtnPos","topBtnPos","btnZIndex","btnIconsZIndex","btnTextPanelsZIndex","btnBgLayerZIndex","isLocalStorageAvailable","localStorage","getItem","updateOnlineStatus","onLine","getDefaultBtnState","isOriginSecure","isAudioSupported","btnModes","rightPos","leftPos","bottomPos","topPos","size","isTutorMode","left","undefined","top","setDefautlPositionProps","right","bottom","value","test","zIndex","style","textHolderDefaultBorderColor","textHolderDefaultBoxShadow","classList","add","setInnerPositionBasedOnOptions","textAlign","float","height","minHeight","maxHeight","borderRadius","borderColor","boxShadow","backgroundColor","color","width","fontSize","padding","innerText","el","setStylesBasedOnSide","minWidth","maxWidth","transition","tabIndex","cursor","setUpStylesForLogoParts","logos","obj","pointerEvents","animationIterationCount","animationDuration","animationTimingFunction","opacity","overflow","backgroundSize","backgroundPosition","backgroundRepeat","animation","ovalCoefficient","defaultBtnColorOptions","transform","filter","applyBgStyles","onOpacity","offOpacity","allIcons","hideLayers","isMobile","createAlanStyleSheet","getStyleSheetMarker","andFlag","getProjectId","btnOptions","keyFrames","existingStyleSheet","shadowDOM","getElementById","disabled","parentNode","removeChild","generateKeyFrame","predefinedBtnColorOptions","btnLayerOptions","btnBackgroundOptionKeys","Object","keys","tempLayer","stateName","stateMapping","idle","listen","process","reply","stateNameClasses","stateNameClass","states","j","background","hover","innerHTML","prepend","rule","prefixes","r","tryReadSettingsFromLocalStorage","authData","guid","s4","Math","floor","random","toString","substring","curUuid","uuidKey","uuid","setItem","substr","func","wait","timeout","delay","args","clearTimeout","setTimeout","apply","_activateAlanButton","resolve","playSoundOn","onBeforeMicStart","onMicStart","onMicStop","onMicFail","onPlayStart","onPlayStop","onCommandCbInMicBtn","onMicStarted","activatePromise","Promise","reject","waitForConnectionForActivateCall","res","afterMouseMove","dndBackAnimFinished","alert","blur","showRecognisedText","forceOnMobile","recognisedText","hideRecognizedText","replaceRecognisedText","hideRecognisedText","shuffle","array","currentIndex","temporaryValue","randomIndex","web","hidden","hideAlanBtn","showAlanBtn","hideSpeach2TextPanel","showSpeach2TextPanel","info","applyBtnOptions","logoUrl","applyLogoOptions","getStorageKey","JSON","stringify","onConnectionStatus","onTextCbInMicBtn","onParsedCbInMicBtn","onRecognizedCbInMicBtn","playSoundOff","onMicStopped","onReceiveRecognisedText","final","onCommand","play","catch","newState","tempLogoParts","changeBgColors","animationName","backgroundImage","layers","tempBgLayers","newStateName","tempBgLayerClasses","userAgent","isSecure","available","fakeGetUserMedia","fakeContext","mozAudioContext","alanBtnSavedOptions","parse","dndInitialMousePositions","dndIsDown","dndSideBtnPos","dndTopPos","dndBottomPos","dndFinalLeftPos","dndFinalRightPos","dndAnimDelay","dndAnimTransition","onMouseDown","passive","onMouseUp","onMouseMove","posInfo","touches","buttons","offsetLeft","innerWidth","clientX","clientY","replace","curPos","moveBtnToTheSameSide","moveBtnToTheOppositeSide","preventDefault","correctYPos","yPos","defDelta","innerHeight","changeBtnSide","side","finalBtnPos"],"mappings":"AAAA;;AAAE,WAASA,IAAT,EAAeC,OAAf,EAAwB;AACxB,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA3C,EAAgD;AAC9CD,IAAAA,MAAM,CAAC,EAAD,EAAKD,OAAL,CAAN;AACD,GAFD,MAEO,IAAI,OAAOG,OAAP,KAAmB,QAAvB,EAAiC;AACtCC,IAAAA,MAAM,CAACD,OAAP,GAAiBH,OAAO,EAAxB;AACD,GAFM,MAEA;AACLD,IAAAA,IAAI,CAACM,OAAL,GAAeL,OAAO,EAAtB;AACD;AACF,CARC,EAQA,IARA,EAQM,YAAW;AACnB,GAAC,UAASM,EAAT,EAAa;AACV;;AAEA,QAAIC,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAnB;AACAF,IAAAA,YAAY,CAACG,YAAb,CAA0B,UAA1B,EAAsC,MAAtC;AACAH,IAAAA,YAAY,CAACI,gBAAb,CAA8B,OAA9B,EAAuC,YAAW;AAC9CC,MAAAA,SAAS,GAAGC,SAAZ;;AACAC,MAAAA,YAAY;AACf,KAHD;AAKAN,IAAAA,QAAQ,CAACG,gBAAT,CAA0B,kBAA1B,EAA8C,YAAW;AACrDH,MAAAA,QAAQ,CAACO,IAAT,CAAcC,WAAd,CAA0BT,YAA1B;AACH,KAFD;AAIAU,IAAAA,SAAS,CAACC,YAAV,GAA0BD,SAAS,CAACC,YAAV,IACAD,SAAS,CAACE,kBADV,IAEAF,SAAS,CAACG,eAFV,IAGAH,SAAS,CAACI,cAHV,IAICJ,SAAS,CAACK,YAAV,IAA0BL,SAAS,CAACK,YAAV,CAAuBJ,YAJ5E;;AAMA,QAAI,CAACD,SAAS,CAACC,YAAf,EAA6B;AACzBK,MAAAA,OAAO,CAACC,KAAR,CAAc,+BAAd;AACH;;AAED,QAAIX,SAAS,GAAQ,MAArB;AACA,QAAIY,WAAW,GAAM,QAArB;AAEA,QAAIC,QAAQ,GAAS,EAArB;AACA,QAAIC,SAAS,GAAQ,IAArB;AACA,QAAIC,aAAa,GAAI,IAArB;AACA,QAAIC,WAAW,GAAM,IAArB;AACA,QAAIC,SAAS,GAAQ,IAArB;AACA,QAAIC,QAAQ,GAAS,IAArB;AACA,QAAIC,YAAY,GAAK,CAArB;AACA,QAAIC,UAAU,GAAO,CAArB;AACA,QAAIC,aAAa,GAAI,CAArB;AACA,QAAIC,UAAU,GAAO,CAArB;AACA,QAAIvB,SAAS,GAAQC,SAArB;AACA,QAAIuB,UAAU,GAAO,EAArB;;AAEA,QAAIC,MAAM,CAACC,YAAX,EAAyB;AACrBP,MAAAA,QAAQ,GAAG,IAAIM,MAAM,CAACC,YAAX,EAAX;AACH;;AAED,QAAID,MAAM,CAACE,kBAAX,EAA+B;AAC3BR,MAAAA,QAAQ,GAAG,IAAIM,MAAM,CAACE,kBAAX,EAAX;AACH;;AAED,aAASzB,YAAT,GAAwB;AACpB,UAAI,CAACsB,UAAU,CAACI,MAAZ,IAAsB5B,SAAS,KAAKC,SAAxC,EAAmD;AAC/C;AACH;;AACD,aAAOD,SAAS,KAAKC,SAAd,IAA2BuB,UAAU,CAACI,MAA7C,EAAqD;AACjD,YAAIC,CAAC,GAAGL,UAAU,CAACM,KAAX,EAAR;;AACA,YAAID,CAAC,CAACE,KAAN,EAAa;AACTC,UAAAA,SAAS,CAAC,SAAD,EAAYH,CAAC,CAACE,KAAd,CAAT;AACH,SAFD,MAEO,IAAIF,CAAC,CAACI,IAAN,EAAY;AACfD,UAAAA,SAAS,CAAC,MAAD,EAASH,CAAC,CAACI,IAAX,CAAT;AACH,SAFM,MAEA,IAAIJ,CAAC,CAACK,KAAN,EAAa;AAChBlC,UAAAA,SAAS,GAAGa,WAAZ;AACAmB,UAAAA,SAAS,CAAC,WAAD,CAAT;AACArC,UAAAA,YAAY,CAACG,YAAb,CAA0B,KAA1B,EAAiC+B,CAAC,CAACK,KAAnC;AACH,SAJM,MAIA;AACHvB,UAAAA,OAAO,CAACC,KAAR,CAAc,oBAAd;AACH;AACJ;AACJ;;AAED,aAASoB,SAAT,CAAmBD,KAAnB,EAA0BI,EAA1B,EAA8BC,EAA9B,EAAkC;AAC9B,UAAIC,CAAC,GAAGvB,QAAQ,CAACiB,KAAD,CAAhB;;AACA,UAAIM,CAAJ,EAAO;AACH,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,CAAC,CAACT,MAAtB,EAA8BU,CAAC,EAA/B,EAAoC;AAChCD,UAAAA,CAAC,CAACC,CAAD,CAAD,CAAKH,EAAL,EAASC,EAAT;AACH;AACJ;AACJ;;AAED,aAASG,cAAT,CAAwBC,GAAxB,EAA6B;AACzB7B,MAAAA,OAAO,CAAC8B,GAAR,CAAY,gBAAZ;AACAT,MAAAA,SAAS,CAAC,UAAD,EAAaQ,GAAb,CAAT;AACAzB,MAAAA,SAAS,GAAGyB,GAAZ;;AAEA,UAAIrB,QAAQ,CAACuB,KAAT,KAAmB,WAAvB,EAAoC;AAChCvB,QAAAA,QAAQ,CAACwB,MAAT;AACH;;AAED1B,MAAAA,WAAW,GAAKE,QAAQ,CAACyB,uBAAT,CAAiC7B,SAAjC,CAAhB;AACAC,MAAAA,aAAa,GAAGG,QAAQ,CAAC0B,qBAAT,CAA+B3B,SAA/B,EAA0C,CAA1C,EAA6C,CAA7C,CAAhB;AACAD,MAAAA,WAAW,CAAC6B,OAAZ,CAAoB9B,aAApB;;AACAA,MAAAA,aAAa,CAAC+B,cAAd,GAA+B,UAASC,CAAT,EAAY;AACvC,YAAIjC,SAAS,KAAKyB,GAAlB,EAAuB;AACnBS,UAAAA,WAAW,CAAC9B,QAAQ,CAACE,UAAV,EAAsB2B,CAAC,CAACE,WAAF,CAAcC,cAAd,CAA6B,CAA7B,CAAtB,CAAX;AACH;AACJ,OAJD;;AAKAnC,MAAAA,aAAa,CAAC8B,OAAd,CAAsB3B,QAAQ,CAACiC,WAA/B;AACH;;AAED,aAASC,mBAAT,CAA6BC,GAA7B,EAAkC;AAC9B3C,MAAAA,OAAO,CAACC,KAAR,CAAc,0BAAd,EAA0C0C,GAA1C;AACAtB,MAAAA,SAAS,CAAC,SAAD,EAAYsB,GAAZ,CAAT;AACH;;AAED,aAASL,WAAT,CAAqBM,EAArB,EAAyBC,YAAzB,EAAuC;AACnC,UAAIxD,SAAS,KAAKa,WAAlB,EAA+B;AAC3B;AACH;;AACD,UAAIQ,UAAU,KAAKkC,EAAnB,EAAuB;AACnBlC,QAAAA,UAAU,GAAGkC,EAAb;AACAjC,QAAAA,aAAa,GAAGmC,IAAI,CAACC,GAAL,EAAhB;AACAtC,QAAAA,YAAY,GAAG,CAAf;AACAG,QAAAA,UAAU,GAAG,CAAb;AACH;;AACDH,MAAAA,YAAY,IAAIoC,YAAY,CAAC5B,MAA7B;;AACA,UAAI,EAAEL,UAAF,IAAgB,GAApB,EAAyB;AACrBA,QAAAA,UAAU,GAAG,CAAb;AACA,YAAIoC,SAAS,GAAI,OAAOvC,YAAR,GAAwBC,UAAxC;AACA,YAAIuC,SAAS,GAAGH,IAAI,CAACC,GAAL,KAAapC,aAA7B;AACAX,QAAAA,OAAO,CAAC8B,GAAR,CAAY,gBAAkBkB,SAAlB,GAA8B,eAA9B,GAAgDC,SAAhD,GAA4D,eAA5D,GAA8ED,SAAS,GAAGC,SAAtG;AACH;;AACD5B,MAAAA,SAAS,CAAC,OAAD,EAAUX,UAAV,EAAsBmC,YAAtB,CAAT;AACH;;AAED9D,IAAAA,EAAE,CAACmE,SAAH,GAAe,YAAW;AACtB,aAAO7D,SAAS,KAAKa,WAArB;AACH,KAFD;;AAIAnB,IAAAA,EAAE,CAACoE,QAAH,GAAc,UAAS7B,IAAT,EAAe;AACzBT,MAAAA,UAAU,CAACuC,IAAX,CAAgB;AAAC9B,QAAAA,IAAI,EAAEA;AAAP,OAAhB;;AACA/B,MAAAA,YAAY;AACf,KAHD;;AAKAR,IAAAA,EAAE,CAACsE,SAAH,GAAe,UAASjC,KAAT,EAAgB;AAC3BP,MAAAA,UAAU,CAACuC,IAAX,CAAgB;AAAChC,QAAAA,KAAK,EAAEA;AAAR,OAAhB;;AACA7B,MAAAA,YAAY;AACf,KAHD;;AAKAR,IAAAA,EAAE,CAACuE,SAAH,GAAe,UAAS/B,KAAT,EAAgB;AAC3BV,MAAAA,UAAU,CAACuC,IAAX,CAAgB;AAAC7B,QAAAA,KAAK,EAAEA;AAAR,OAAhB;;AACAhC,MAAAA,YAAY;AACf,KAHD;;AAKAR,IAAAA,EAAE,CAACwE,EAAH,GAAQ,UAASnC,KAAT,EAAgBoC,OAAhB,EAAyB;AAC7B,UAAI9B,CAAC,GAAGvB,QAAQ,CAACiB,KAAD,CAAhB;;AACA,UAAIM,CAAC,IAAI,IAAT,EAAe;AACXvB,QAAAA,QAAQ,CAACiB,KAAD,CAAR,GAAkB,CAACoC,OAAD,CAAlB;AACH,OAFD,MAEO;AACH9B,QAAAA,CAAC,CAAC0B,IAAF,CAAOI,OAAP;AACH;AACJ,KAPD;;AASAzE,IAAAA,EAAE,CAAC0E,GAAH,GAAS,UAASrC,KAAT,EAAgBoC,OAAhB,EAAyB;AAC9B,UAAI9B,CAAC,GAAGvB,QAAQ,CAACiB,KAAD,CAAhB;;AACA,UAAIM,CAAJ,EAAO;AACH,YAAIgC,KAAK,GAAGhC,CAAC,CAACiC,OAAF,CAAUH,OAAV,CAAZ;;AACA,YAAIE,KAAK,IAAI,CAAb,EAAgB;AACZhC,UAAAA,CAAC,CAACkC,MAAF,CAASF,KAAT,EAAgB,CAAhB;AACH;AACJ;AACJ,KARD;;AAUA3E,IAAAA,EAAE,CAAC2B,UAAH,GAAgB,YAAW;AACvB,aAAOA,UAAP;AACH,KAFD;;AAIA3B,IAAAA,EAAE,CAAC8E,KAAH,GAAW,UAASC,SAAT,EAAoB;AAC3B,UAAI,CAAC1D,SAAL,EAAgB;AACZ,YAAIV,SAAS,CAACK,YAAd,EAA4B;AACxBL,UAAAA,SAAS,CAACK,YAAV,CAAuBJ,YAAvB,CAAoC;AAAC4B,YAAAA,KAAK,EAAE;AAAR,WAApC,EAAmDwC,IAAnD,CAAwDnC,cAAxD,EAAwEc,mBAAxE;AACH,SAFD,MAEO;AACHhD,UAAAA,SAAS,CAACC,YAAV,CAAuB;AAAC4B,YAAAA,KAAK,EAAE;AAAR,WAAvB,EAAsCK,cAAtC,EAAsDc,mBAAtD;AACH;AACJ;;AACD,UAAIoB,SAAJ,EAAe;AACXA,QAAAA,SAAS;AACTA,QAAAA,SAAS,GAAG,IAAZ;AACH;AACJ,KAZD;;AAcA/E,IAAAA,EAAE,CAACiF,IAAH,GAAU,YAAW;AACjBtD,MAAAA,UAAU,GAAG,CAAC,CAAd;;AACA,UAAIN,SAAJ,EAAe;AACX,aAAK,IAAIuB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGvB,SAAS,CAAC6D,SAAV,GAAsBhD,MAA1C,EAAkDU,CAAC,EAAnD,EAAuD;AACnD,cAAIuC,KAAK,GAAG9D,SAAS,CAAC+D,cAAV,GAA2B,CAA3B,CAAZ;;AACA,cAAID,KAAJ,EAAW;AACPA,YAAAA,KAAK,CAACF,IAAN;AACH;AACJ;;AACD5D,QAAAA,SAAS,GAAG,IAAZ;AACAiB,QAAAA,SAAS,CAAC,SAAD,CAAT;AACH;;AACD,UAAIf,WAAJ,EAAiB;AACbA,QAAAA,WAAW,CAAC8D,UAAZ;AACA9D,QAAAA,WAAW,GAAG,IAAd;AACH;;AACD,UAAID,aAAJ,EAAmB;AACfA,QAAAA,aAAa,CAAC+D,UAAd;AACA/D,QAAAA,aAAa,GAAG,IAAhB;AACH;;AACD,UAAIrB,YAAJ,EAAkB;AACdA,QAAAA,YAAY,CAACqF,KAAb;AACArF,QAAAA,YAAY,CAACsF,WAAb,GAA2B,CAA3B;AACAtF,QAAAA,YAAY,CAACuF,GAAb,GAAmB,EAAnB;AACH;;AACD1D,MAAAA,UAAU,GAAG,EAAb;AACAxB,MAAAA,SAAS,GAAGC,SAAZ;AACH,KA3BD;AA6BH,GA/MD,EA+MG,OAAOwB,MAAP,KAAmB,WAAnB,GAAkC,YAAW;AAACA,IAAAA,MAAM,CAAC0D,SAAP,GAAmB,EAAnB;AAAuB,WAAO1D,MAAM,CAAC0D,SAAd;AAAwB,GAA5D,EAAjC,GAAmG5F,OA/MtG;;AAiNA,GAAC,UAASG,EAAT,EAAa;AACV;;AAEA,QAAI0F,IAAI,GAAG,iBAAX;AAEA,QAAIC,MAAM,GAAG;AACT;AACAC,MAAAA,OAAO,EAAE,YACHF,IAAI,CAACd,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2Bc,IAAI,KAAK,EAArC,GAA2C3D,MAAM,CAAC8D,QAAP,CAAgBH,IAA3D,GAAkEA,IAD9D,CAFA;AAITI,MAAAA,KAAK,EAAE,MAJE;AAKTC,MAAAA,OAAO,EAAE,OALA;AAMTC,MAAAA,QAAQ,EAAE;AAND,KAAb;;AASA,aAASC,iBAAT,GAA6B;AACzB,UAAIC,KAAK,GAAG,IAAZ;;AACA,WAAKC,OAAL,GAAe,IAAIC,MAAJ,CAAWrE,MAAM,CAACsE,GAAP,CAAWC,eAAX,CAA2B,IAAIC,IAAJ,CAAS,CAAC,u7VAAD,CAAT,CAA3B,EAA+9V;AAACC,QAAAA,IAAI,EAAE;AAAP,OAA/9V,CAAX,CAAf;;AACA,WAAKL,OAAL,CAAaM,SAAb,GAAyB,UAASnD,CAAT,EAAY;AACjC,YAAIA,CAAC,CAACoD,IAAF,CAAO,CAAP,MAAc,WAAlB,EAA+B;AAC3BR,UAAAA,KAAK,CAACS,KAAN,CAAYrD,CAAC,CAACoD,IAAF,CAAO,CAAP,CAAZ,EAAuBpD,CAAC,CAACoD,IAAF,CAAO,CAAP,CAAvB;;AACA;AACH;;AACD,YAAIpD,CAAC,CAACoD,IAAF,CAAO,CAAP,MAAc,WAAlB,EAA+B;AAC3B,cAAIpD,CAAC,CAACoD,IAAF,CAAO,CAAP,MAAc,UAAlB,EAA8B;AAC1BjB,YAAAA,SAAS,CAACrB,QAAV,CAAmBd,CAAC,CAACoD,IAAF,CAAO,CAAP,CAAnB;AACA;AACH;;AACD,cAAIpD,CAAC,CAACoD,IAAF,CAAO,CAAP,MAAc,WAAd,IAA6BpD,CAAC,CAACoD,IAAF,CAAO,CAAP,MAAc,WAA/C,EAA4D;AACxDjB,YAAAA,SAAS,CAAClB,SAAV,CAAoBjB,CAAC,CAACoD,IAAF,CAAO,CAAP,CAApB;AACA;AACH;;AACD,cAAIpD,CAAC,CAACoD,IAAF,CAAO,CAAP,MAAc,WAAd,IAA6BpD,CAAC,CAACoD,IAAF,CAAO,CAAP,MAAc,aAA/C,EAA8D;AAC1DjB,YAAAA,SAAS,CAACnB,SAAV,CAAoBhB,CAAC,CAACoD,IAAF,CAAO,CAAP,CAApB;AACA;AACH;;AACD,cAAIpD,CAAC,CAACoD,IAAF,CAAO,CAAP,MAAc,MAAlB,EAA0B;AACtBjB,YAAAA,SAAS,CAACR,IAAV;AACA;AACH;AACJ;;AACD,YAAI3B,CAAC,CAACoD,IAAF,CAAO,CAAP,MAAc,UAAlB,EAA8B;AAC1BR,UAAAA,KAAK,CAACU,SAAN,CAAgBtD,CAAC,CAACoD,IAAF,CAAO,CAAP,CAAhB,EAA2BpD,CAAC,CAACoD,IAAF,CAAO,CAAP,CAA3B,EAAsCpD,CAAC,CAACoD,IAAF,CAAO,CAAP,CAAtC;;AACA,iBAAOR,KAAK,CAACU,SAAN,CAAgBtD,CAAC,CAACoD,IAAF,CAAO,CAAP,CAAhB,CAAP;AACA;AACH;;AACD,YAAIpD,CAAC,CAACoD,IAAF,CAAO,CAAP,MAAc,aAAlB,EAAiC;AAC7BR,UAAAA,KAAK,CAACW,SAAN,GAAkBvD,CAAC,CAACoD,IAAF,CAAO,CAAP,CAAlB;AACA;AACH;;AACDzF,QAAAA,OAAO,CAACC,KAAR,CAAc,eAAd,EAA+BoC,CAAC,CAACoD,IAAjC;AACH,OAjCD;;AAkCA,WAAKP,OAAL,CAAaW,OAAb,GAAuB,UAASxD,CAAT,EAAY;AAC/BrC,QAAAA,OAAO,CAACC,KAAR,CAAc,sBAAsBoC,CAAC,CAACyD,QAAxB,GAAmC,GAAnC,GAAyCzD,CAAC,CAAC0D,MAA3C,GAAoD,KAApD,GAA6D1D,CAAC,CAAC2D,OAA7E;AACH,OAFD;;AAGA,WAAKC,SAAL,GAAiB,EAAjB;AACA,WAAKC,SAAL,GAAiB,EAAjB;AACA,WAAKP,SAAL,GAAiB,EAAjB;AACA,WAAKQ,QAAL,GAAiB,CAAjB;AACA,WAAKC,OAAL,GAAiB,EAAjB;AACH;;AAEDpB,IAAAA,iBAAiB,CAACqB,SAAlB,CAA4B9C,EAA5B,GAAiC,UAASnC,KAAT,EAAgBoC,OAAhB,EAAyB;AACtD,UAAI9B,CAAC,GAAG,KAAKuE,SAAL,CAAe7E,KAAf,CAAR;;AACA,UAAI,CAACM,CAAL,EAAQ;AACJA,QAAAA,CAAC,GAAG,EAAJ;AACA,aAAKuE,SAAL,CAAe7E,KAAf,IAAwBM,CAAxB;AACH;;AACDA,MAAAA,CAAC,CAAC0B,IAAF,CAAOI,OAAP;AACH,KAPD;;AASAwB,IAAAA,iBAAiB,CAACqB,SAAlB,CAA4B5C,GAA5B,GAAkC,UAASrC,KAAT,EAAgBoC,OAAhB,EAAyB;AACvD,UAAI9B,CAAC,GAAG,KAAKuE,SAAL,CAAe7E,KAAf,CAAR;;AACA,UAAIM,CAAJ,EAAO;AACH,YAAIgC,KAAK,GAAGhC,CAAC,CAACiC,OAAF,CAAUH,OAAV,CAAZ;;AACA,YAAIE,KAAK,IAAI,CAAb,EAAgB;AACZhC,UAAAA,CAAC,CAACkC,MAAF,CAASF,KAAT,EAAgB,CAAhB;AACH;AACJ;AACJ,KARD;;AAUAsB,IAAAA,iBAAiB,CAACqB,SAAlB,CAA4BC,WAA5B,GAA0C,YAAW;AACjD,aAAO;AACHC,QAAAA,MAAM,EAAE7B,MAAM,CAACC,OADZ;AAEH6B,QAAAA,SAAS,EAAE,KAAKJ,OAAL,CAAaI,SAFrB;AAGHC,QAAAA,QAAQ,EAAE,KAAKb;AAHZ,OAAP;AAKH,KAND;;AAQAZ,IAAAA,iBAAiB,CAACqB,SAAlB,CAA4BK,SAA5B,GAAwC,UAAS3E,KAAT,EAAgB;AACpD,WAAKmD,OAAL,CAAayB,WAAb,CAAyB,CAAC,WAAD,EAAc5E,KAAd,CAAzB;AACH,KAFD;;AAIAiD,IAAAA,iBAAiB,CAACqB,SAAlB,CAA4BO,IAA5B,GAAmC,UAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,EAAkC;AACjE,UAAIC,GAAG,GAAG,IAAV;;AACA,UAAID,QAAJ,EAAc;AACVC,QAAAA,GAAG,GAAG,KAAKb,QAAL,EAAN;AACA,aAAKR,SAAL,CAAeqB,GAAf,IAAsBD,QAAtB;AACH;;AACD,WAAK7B,OAAL,CAAayB,WAAb,CAAyB,CAAC,MAAD,EAASK,GAAT,EAAcH,MAAd,EAAsBC,KAAtB,CAAzB;AACH,KAPD;;AASA9B,IAAAA,iBAAiB,CAACqB,SAAlB,CAA4BY,KAA5B,GAAoC,YAAW;AAC3CjH,MAAAA,OAAO,CAAC8B,GAAR,CAAY,4BAA4B,KAAKoF,IAA7C;;AACA,WAAKhB,SAAL,CAAeiB,OAAf,CAAuBzF,CAAC,IAAG;AAAEA,QAAAA,CAAC;AAAI,OAAlC;;AACA,WAAKwD,OAAL,CAAayB,WAAb,CAAyB,CAAC,OAAD,CAAzB;AACH,KAJD;;AAMA3B,IAAAA,iBAAiB,CAACqB,SAAlB,CAA4BX,KAA5B,GAAoC,UAAStE,KAAT,EAAgBgG,MAAhB,EAAwB;AACxD,UAAI1F,CAAC,GAAG,KAAKuE,SAAL,CAAe7E,KAAf,CAAR;;AACA,UAAIM,CAAJ,EAAO;AACH,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,CAAC,CAACT,MAAtB,EAA8BU,CAAC,EAA/B,EAAoC;AAChCD,UAAAA,CAAC,CAACC,CAAD,CAAD,CAAKyF,MAAL;AACH;AACJ;AACJ,KAPD;;AASApC,IAAAA,iBAAiB,CAACqB,SAAlB,CAA4BgB,WAA5B,GAA0C,UAASC,CAAT,EAAY;AAClD,WAAKpB,SAAL,CAAe9C,IAAf,CAAoBkE,CAApB;AACH,KAFD;;AAIA,aAASC,QAAT,CAAkBC,MAAlB,EAA0BC,GAA1B,EAA+B;AAC3B,UAAIC,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIC,CAAT,IAAcH,MAAd,EAAsB;AAClBE,QAAAA,IAAI,CAACC,CAAD,CAAJ,GAAUH,MAAM,CAACG,CAAD,CAAhB;AACH;;AAED,UAAI,CAACF,GAAD,IAASA,GAAG,IAAIA,GAAG,CAAC1C,QAAJ,IAAgB,IAApC,EAA2C;AACvC2C,QAAAA,IAAI,CAAC3C,QAAL,GAAgBL,MAAM,CAACK,QAAvB;AACH,OAFD,MAEO;AACH2C,QAAAA,IAAI,CAAC3C,QAAL,GAAgBL,MAAM,CAACK,QAAP,GAAkB,GAAlB,GAAwB0C,GAAG,CAAC1C,QAA5C;AACH;;AACD,UAAI,CAAC0C,GAAD,IAASA,GAAG,IAAIA,GAAG,CAACG,eAAJ,IAAuB,IAA3C,EAAkD;AAC9CF,QAAAA,IAAI,CAACE,eAAL,GAAuBlD,MAAM,CAACI,OAA9B;AACH,OAFD,MAEO;AACH4C,QAAAA,IAAI,CAACE,eAAL,GAAuBlD,MAAM,CAACI,OAAP,GAAiB,GAAjB,GAAuB2C,GAAG,CAACG,eAAlD;AACH;;AACD,UAAIH,GAAG,IAAIA,GAAG,CAACI,OAAf,EAAwB;AACpBH,QAAAA,IAAI,CAACG,OAAL,GAAeJ,GAAG,CAACI,OAAnB;AACH;;AACD,aAAOH,IAAP;AACH;;AAED,aAASI,cAAT,CAAwBtB,SAAxB,EAAmCkB,IAAnC,EAA0CjD,IAA1C,EAAgDsD,IAAhD,EAAsDN,GAAtD,EAA2D;AACvD,UAAItF,OAAO,GAAG,IAAI6C,iBAAJ,EAAd;;AACA,UAAIP,IAAJ,EAAW;AACPtC,QAAAA,OAAO,CAACiE,OAAR,CAAgBzB,OAAhB,GAA0B,WAAWF,IAArC;AACH;;AACDtC,MAAAA,OAAO,CAACiE,OAAR,CAAgBI,SAAhB,GAA4BA,SAA5B;AACArE,MAAAA,OAAO,CAACiE,OAAR,CAAgBvB,KAAhB,GAA4BH,MAAM,CAACG,KAAnC;AACA1C,MAAAA,OAAO,CAACiE,OAAR,CAAgBtB,OAAhB,GAA4BJ,MAAM,CAACI,OAAnC;AACA3C,MAAAA,OAAO,CAACiE,OAAR,CAAgB4B,GAAhB,GAA4BtD,MAAM,CAACC,OAAP,GAAiB,cAAjB,GAAkC6B,SAA9D;;AACArE,MAAAA,OAAO,CAAC+C,OAAR,CAAgByB,WAAhB,CAA4B,CAAC,gBAAD,EAAmBxE,OAAO,CAACiE,OAA3B,EAAoCmB,QAAQ,CAACG,IAAD,EAAOD,GAAP,CAA5C,EAAyDM,IAAzD,CAA5B;;AACA,eAASE,WAAT,CAAqBC,IAArB,EAA2B1E,OAA3B,EAAoC;AAChCgB,QAAAA,SAAS,CAACjB,EAAV,CAAa2E,IAAb,EAAmB1E,OAAnB;;AACArB,QAAAA,OAAO,CAACkF,WAAR,CAAoB,YAAW;AAC3B7C,UAAAA,SAAS,CAACf,GAAV,CAAcyE,IAAd,EAAqB1E,OAArB;AACH,SAFD;AAGH;;AACD,eAAS2E,iBAAT,CAA2BD,IAA3B,EAAiC;AAC7B,iBAAS1E,OAAT,CAAiB4E,EAAjB,EAAqBC,EAArB,EAAyB;AACrB,cAAIH,IAAI,KAAK,OAAT,IAAoB1D,SAAS,CAACtB,SAAV,EAAxB,EAA+C;AAC3C;AACH;;AACDf,UAAAA,OAAO,CAAC+C,OAAR,CAAgByB,WAAhB,CAA4B,CAAC,cAAD,EAAiBuB,IAAjB,EAAuBE,EAAvB,EAA2BC,EAA3B,CAA5B;AACH;;AACDJ,QAAAA,WAAW,CAACC,IAAD,EAAO1E,OAAP,CAAX;AACH;;AACD,eAAS8E,iBAAT,CAA2BJ,IAA3B,EAAiC;AAC7B,iBAAS1E,OAAT,CAAiB+E,EAAjB,EAAqB;AACjBpG,UAAAA,OAAO,CAACuD,KAAR,CAAcwC,IAAd,EAAoBK,EAApB;AACH;;AACDN,QAAAA,WAAW,CAACC,IAAD,EAAO1E,OAAP,CAAX;AACH;;AACD2E,MAAAA,iBAAiB,CAAC,OAAD,CAAjB;AACAA,MAAAA,iBAAiB,CAAC,SAAD,CAAjB;AACAA,MAAAA,iBAAiB,CAAC,WAAD,CAAjB;AACAG,MAAAA,iBAAiB,CAAC,MAAD,CAAjB;AACAA,MAAAA,iBAAiB,CAAC,SAAD,CAAjB;AACA,aAAOnG,OAAP;AACH;;AAED,aAASqG,kBAAT,CAA4BhC,SAA5B,EAAuCkB,IAAvC,EAA8CjD,IAA9C,EAAoDsD,IAApD,EAA0DN,GAA1D,EAA+D;AAC3D,UAAItF,OAAO,GAAG,IAAI6C,iBAAJ,EAAd;;AACA,UAAIP,IAAJ,EAAW;AACPtC,QAAAA,OAAO,CAACiE,OAAR,CAAgBzB,OAAhB,GAA0B,WAAWF,IAArC;AACH;;AACDtC,MAAAA,OAAO,CAACiE,OAAR,CAAgBI,SAAhB,GAA4BA,SAA5B;AACArE,MAAAA,OAAO,CAACiE,OAAR,CAAgBvB,KAAhB,GAA4BH,MAAM,CAACG,KAAnC;AACA1C,MAAAA,OAAO,CAACiE,OAAR,CAAgBtB,OAAhB,GAA4BJ,MAAM,CAACI,OAAnC;AACA3C,MAAAA,OAAO,CAACiE,OAAR,CAAgB4B,GAAhB,GAA4BtD,MAAM,CAACC,OAAP,GAAiB,cAAjB,GAAkC6B,SAA9D;;AACArE,MAAAA,OAAO,CAAC+C,OAAR,CAAgByB,WAAhB,CAA4B,CAAC,gBAAD,EAAmBxE,OAAO,CAACiE,OAA3B,EAAoCmB,QAAQ,CAACG,IAAD,EAAOD,GAAP,CAA5C,EAAyDM,IAAzD,CAA5B;;AACA,aAAO5F,OAAP;AACH;;AAED,aAASsG,YAAT,CAAsBf,IAAtB,EAA4BjD,IAA5B,EAAkC;AAC9B,UAAItC,OAAO,GAAG,IAAI6C,iBAAJ,EAAd;;AACA,UAAIP,IAAJ,EAAW;AACPtC,QAAAA,OAAO,CAACiE,OAAR,CAAgBzB,OAAhB,GAA0B,WAAWF,IAArC;AACH;;AACDtC,MAAAA,OAAO,CAACiE,OAAR,CAAgBtB,OAAhB,GAA0BJ,MAAM,CAACI,OAAjC;AACA3C,MAAAA,OAAO,CAACiE,OAAR,CAAgB4B,GAAhB,GAAsBtD,MAAM,CAACC,OAAP,GAAiB,WAAvC;;AACAxC,MAAAA,OAAO,CAAC+C,OAAR,CAAgByB,WAAhB,CAA4B,CAAC,gBAAD,EAAmBxE,OAAO,CAACiE,OAA3B,EAAoCsB,IAApC,CAA5B;;AACA,aAAOvF,OAAP;AACH;;AAEDpD,IAAAA,EAAE,CAAC2J,IAAH,GAAU;AACNC,MAAAA,WAAW,EAAEH,kBADP;AAENI,MAAAA,OAAO,EAAEd,cAFH;AAGNe,MAAAA,KAAK,EAAEJ;AAHD,KAAV;AAMH,GAnND,EAmNG3H,MAnNH;;AAqNA,GAAC,UAAS/B,EAAT,EAAa;AACV;;AACJ,aAASD,OAAT,CAAiBgK,OAAjB,EAA0B;AAEtBA,MAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,UAAIC,WAAW,GAAG,KAAlB;AACA,UAAIC,YAAY,GAAG,KAAnB;AACA,UAAIC,MAAM,GAAG,KAAb;AAEA,UAAIC,WAAW,GAAG;AACd;AACAC,QAAAA,cAAc,EAAE,UAAUC,WAAV,EAAuB;AACnC,cAAIL,WAAJ,EAAiB;AACb;AACH;;AAED,cAAIjI,MAAM,CAACuI,YAAX,EAAyB;AACrBvI,YAAAA,MAAM,CAACuI,YAAP,CAAoB3C,SAApB,CAA8B0C,WAA9B;AACH;AACJ,SAVa;AAWdE,QAAAA,cAAc,EAAE,UAAUC,QAAV,EAAoB9D,IAApB,EAA0BsB,QAA1B,EAAoC;AAChD,cAAIyC,cAAc,GAAG,UAArB;;AACA,cAAIT,WAAJ,EAAiB;AACb;AACH;;AACD,cAAI,CAACQ,QAAL,EAAe;AACX,kBAAM,IAAIE,KAAJ,CAAU,mDAAV,CAAN;AACH;;AAED,cAAI3I,MAAM,CAACuI,YAAX,EAAyB;AACrB,gBAAIE,QAAQ,CAAC5F,OAAT,CAAiB6F,cAAjB,MAAqC,CAAzC,EAA4C;AACxC1I,cAAAA,MAAM,CAACuI,YAAP,CAAoBzC,IAApB,CAAyB2C,QAAzB,EAAmC9D,IAAnC,EAAyCsB,QAAzC;AACH,aAFD,MAEO;AACHjG,cAAAA,MAAM,CAACuI,YAAP,CAAoBzC,IAApB,CAAyB4C,cAAc,GAAGD,QAA1C,EAAoD9D,IAApD,EAA0DsB,QAA1D;AACH;AACJ;AACJ,SA3Ba;AA4Bd5D,QAAAA,QAAQ,EAAE,UAAU7B,IAAV,EAAgB;AACtB,cAAIyH,WAAJ,EAAiB;AACb;AACH;;AAED,cAAIjI,MAAM,CAACuI,YAAX,EAAyB;AACrBvI,YAAAA,MAAM,CAACuI,YAAP,CAAoBzC,IAApB,CAAyB,MAAzB,EAAiC;AAC7BtF,cAAAA,IAAI,EAAEA;AADuB,aAAjC;AAGH;AACJ,SAtCa;AAuCdoI,QAAAA,WAAW,EAAE,UAAUC,OAAV,EAAmB;AAC5B,cAAIZ,WAAJ,EAAiB;AACb;AACH;;AAEDvE,UAAAA,SAAS,CAACkF,WAAV,CAAsB;AAClBjE,YAAAA,IAAI,EAAEkE;AADY,WAAtB;AAGH,SA/Ca;AAgDdC,QAAAA,QAAQ,EAAE,YAAY;AAClB,iBAAOC,kBAAkB,EAAzB;AACH,SAlDa;AAmDdC,QAAAA,UAAU,EAAE,YAAY;AACpB,cAAIf,WAAJ,EAAiB;AACb;AACH;;AAEDvE,UAAAA,SAAS,CAACR,IAAV;AACH,SAzDa;AA0Dd+F,QAAAA,QAAQ,EAAE,YAAY;AAClB,iBAAOC,YAAP;AACH,SA5Da;AA6Dd;AACAC,QAAAA,aAAa,EAAE,UAAUpD,MAAV,EAAkBpB,IAAlB,EAAwBsB,QAAxB,EAAkC;AAC7C,cAAIgC,WAAJ,EAAiB;AACb;AACH;;AAED,cAAIjI,MAAM,CAACuI,YAAX,EAAyB;AACrBvI,YAAAA,MAAM,CAACuI,YAAP,CAAoBzC,IAApB,CAAyBC,MAAzB,EAAiCpB,IAAjC,EAAuCsB,QAAvC;AACH;AACJ,SAtEa;AAuEd;AACAmD,QAAAA,WAAW,EAAE,UAAUzE,IAAV,EAAgB;AACzB,cAAIsD,WAAJ,EAAiB;AACb;AACH;;AAED,cAAIjI,MAAM,CAACuI,YAAX,EAAyB;AACrBvI,YAAAA,MAAM,CAACuI,YAAP,CAAoBpC,KAApB;AACAnG,YAAAA,MAAM,CAACuI,YAAP,GAAsBX,IAAI,CAACE,OAAL,CAAaE,OAAO,CAACqB,GAArB,EAA0BC,WAAW,CAAC3E,IAAD,CAArC,EAA6CqD,OAAO,CAACrE,IAArD,CAAtB;AACA3D,YAAAA,MAAM,CAACuI,YAAP,CAAoB9F,EAApB,CAAuB,eAAvB,EAAwC8G,qBAAxC;AACAvJ,YAAAA,MAAM,CAACuI,YAAP,CAAoB9F,EAApB,CAAuB,SAAvB,EAAkC+G,iBAAlC;AACH;AACJ,SAnFa;AAoFd;AACAC,QAAAA,UAAU,EAAE,UAAUzB,OAAV,EAAmB;AAC3BwB,UAAAA,iBAAiB,CAACxB,OAAD,CAAjB;AACH,SAvFa;AAwFd0B,QAAAA,eAAe,EAAE,UAAUzI,KAAV,EAAiB;AAC9B0I,UAAAA,WAAW,CAAC1I,KAAD,CAAX;AACH,SA1Fa;AA2Fd2I,QAAAA,MAAM,EAAE,YAAY;AAChBlG,UAAAA,SAAS,CAACR,IAAV;AACAlD,UAAAA,MAAM,CAACuI,YAAP,CAAoBpC,KAApB;AACA0D,UAAAA,MAAM,CAACD,MAAP;AACH,SA/Fa;AAgGd1G,QAAAA,IAAI,EAAE,YAAY;AACdQ,UAAAA,SAAS,CAACR,IAAV;AACH,SAlGa;AAmGd4G,QAAAA,iBAAiB,EAAE,UAAU7I,KAAV,EAAiB;AAChCsI,UAAAA,qBAAqB,CAACtI,KAAD,CAArB;AACH;AArGa,OAAlB,CARsB,CAiHtB;;AACA,UAAI0C,IAAI,GAAG,iBAAX;AACA,UAAIoG,OAAO,GAAG,cAAepG,IAAI,CAACd,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2Bc,IAAI,KAAK,EAArC,GAA2C3D,MAAM,CAAC8D,QAAP,CAAgBH,IAA3D,GAAkEA,IAAhF,CAAd;;AAEA,UAAIqE,OAAO,CAACrE,IAAZ,EAAkB;AACdoG,QAAAA,OAAO,GAAG,aAAa/B,OAAO,CAACrE,IAA/B;AACH,OAvHqB,CAyHtB;;;AACA,UAAIsD,IAAJ;;AAEA,UAAIe,OAAO,CAACf,IAAR,KAAiB,OAArB,EAA8B;AAC1BA,QAAAA,IAAI,GAAG,OAAP;AACAkB,QAAAA,MAAM,GAAG,IAAT;AACH,OAHD,MAGO,IAAIH,OAAO,CAACf,IAAR,KAAiB,eAArB,EAAsC;AACzCA,QAAAA,IAAI,GAAG,eAAP;AACAkB,QAAAA,MAAM,GAAG,IAAT;AACH,OAHM,MAGA,IAAIH,OAAO,CAACf,IAAR,KAAiB,MAArB,EAA6B;AAChCA,QAAAA,IAAI,GAAG,MAAP;AACH,OAFM,MAEA;AACHA,QAAAA,IAAI,GAAG,WAAP;AACH;;AAED,UAAIe,OAAO,CAACgC,QAAR,KAAqB,UAArB,IAAmChC,OAAO,CAACG,MAA/C,EAAuD;AACnDA,QAAAA,MAAM,GAAG,IAAT;AACH,OA1IqB,CA4ItB;;;AACA,UAAI8B,OAAO,GAAG,SAAd;AACA,UAAIC,SAAS,GAAG,WAAhB;AACA,UAAIC,QAAQ,GAAG,UAAf;AACA,UAAIC,YAAY,GAAG,cAAnB;AACA,UAAIC,UAAU,GAAG,YAAjB;AACA,UAAIC,YAAY,GAAG,cAAnB;AACA,UAAIC,OAAO,GAAG,SAAd;AACA,UAAIC,UAAU,GAAG,WAAjB;AACA,UAAIC,iBAAiB,GAAG,kBAAxB;AACA,UAAIC,gBAAgB,GAAG,gBAAvB;AACA,UAAIC,iBAAiB,GAAG,iBAAxB,CAvJsB,CAyJtB;;AACA,UAAIC,eAAe,GAAG,mEAAtB;AACA,UAAIC,+BAA+B,GAAG,oOAAoOC,YAAY,EAAtR;AACA,UAAIC,qBAAqB,GAAG,oKAAoK/K,MAAM,CAAC8D,QAAP,CAAgBkH,QAApL,GAA+L,kBAA/L,GAAoNhL,MAAM,CAAC8D,QAAP,CAAgBmH,QAApO,GAA+O,YAA3Q;AACA,UAAIC,cAAc,GAAG,kBAArB;AACA,UAAIC,WAAW,GAAG,iBAAlB;AACA,UAAIC,aAAa,GAAG,IAApB;AAGA,UAAIC,gCAAgC,GAAG,sCAAvC;AACA,UAAIC,gBAAgB,GAAG,2BAAvB;AACA,UAAIC,iBAAiB,GAAG,cAAxB;AACA,UAAIC,oBAAoB,GAAG,iBAA3B;AACA,UAAIC,uCAAuC,GAAG,qCAA9C,CAtKsB,CAwKtB;;AACA,UAAIxK,KAAK,GAAGqJ,YAAZ;AACA,UAAIoB,aAAa,GAAG,IAApB;AACA,UAAIC,cAAc,GAAG,KAArB;AACA,UAAIzC,YAAY,GAAG,KAAnB;AACA,UAAI0C,gBAAJ,CA7KsB,CA+KtB;;AACA,UAAIC,aAAa,GAAG,KAApB;AACA,UAAIC,cAAc,GAAG,IAArB;AACA,UAAIC,YAAY,GAAG,KAAnB;AACA,UAAIC,eAAe,GAAG,KAAtB;AAEA,UAAIC,qBAAqB,GAAG,KAA5B;AAEA,UAAIC,cAAc,GAAG,KAArB;AACA,UAAIC,cAAJ;;AAEA,eAASC,sBAAT,GAAkC;AAC9BD,QAAAA,cAAc,GAAGE,QAAQ,CAAC,YAAY;AAClC,cAAIV,cAAJ,EAAoB;AAChB;AACAQ,YAAAA,cAAc;AACjB,WAHD,MAGO;AACH;AACAzI,YAAAA,SAAS,CAACR,IAAV;AACH;AACJ,SARwB,EAQtBgJ,cARsB,CAAzB;AASH;;AAEDE,MAAAA,sBAAsB;AAEtB,UAAIE,2BAA2B,GAAG,IAAlC,CAxMsB,CA0MtB;;AACA,UAAIC,kBAAkB,GAAG,EAAzB;AACA,UAAIC,qBAAqB,GAAG,EAA5B;AACA,UAAIC,6BAA6B,GAAG,EAApC;;AACA,UAAI,CAACC,aAAa,EAAlB,EAAsB;AAClBH,QAAAA,kBAAkB,GAAG,wCAArB;AACAC,QAAAA,qBAAqB,GAAG,8CAAxB;AACAC,QAAAA,6BAA6B,GAAG,uDAAhC;AACH;;AAED,UAAIE,iBAAiB,GAAG,uCAAxB;AACA,UAAIC,2BAA2B,GAAG,kDAAlC,CArNsB,CAuNtB;;AACA,UAAIlJ,SAAS,GAAG1D,MAAM,CAAC0D,SAAvB,CAxNsB,CA0NtB;;AACA,UAAImG,MAAM,GAAG7B,OAAO,CAAC6B,MAAR,IAAkB1L,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAA/B;AACA,UAAIM,IAAI,GAAGP,QAAQ,CAAC0O,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAX;AACA,UAAIC,GAAG,GAAG3O,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAV;AACA,UAAI2O,sBAAsB,GAAG,g1BAA7B;AACA,UAAIC,kBAAkB,GAAG,swDAAzB;AACA,UAAIC,gBAAgB,GAAG,8wCAAvB;AAEA,UAAIC,OAAO,GAAG/O,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,UAAI+O,mBAAmB,GAAGhP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAA1B;AACA,UAAIgP,UAAU,GAAGjP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACA,UAAIiP,UAAU,GAAGlP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACA,UAAIkP,UAAU,GAAGnP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACA,UAAImP,UAAU,GAAGpP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACA,UAAIoP,UAAU,GAAGrP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACA,UAAIqP,UAAU,GAAGtP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACA,UAAIsP,UAAU,GAAGvP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACA,UAAIuP,UAAU,GAAGxP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACA,UAAIwP,UAAU,GAAGzP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACA,UAAIyP,WAAW,GAAG1P,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAlB;AACA,UAAI0P,eAAe,GAAG3P,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;AACA,UAAI2P,aAAa,GAAG5P,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAApB;AACA,UAAI4P,yBAAyB,GAAG7P,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhC;AACA,UAAI6P,gBAAgB,GAAG9P,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAvB;AACA,UAAI8P,qBAAqB,GAAG/P,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAA5B;AACA,UAAI+P,WAAW,GAAGhQ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAlB;AACA,UAAIgQ,UAAU,GAAGjQ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACA,UAAIiQ,qBAAqB,GAAGlQ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAA5B;AACA,UAAIkQ,sBAAsB,GAAGnQ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAA7B;AACA,UAAImQ,wBAAwB,GAAG,KAA/B;AACA,UAAIC,yBAAyB,GAAG,KAAhC;AACA,UAAIC,YAAY,GAAG,IAAIC,KAAJ,CAAU3E,OAAO,GAAG,+BAApB,CAAnB;;AACA0E,MAAAA,YAAY,CAAC1J,OAAb,GAAuB,YAAW;AAC9BwJ,QAAAA,wBAAwB,GAAG,IAA3B;AACH,OAFD;;AAGA,UAAII,aAAa,GAAG,IAAID,KAAJ,CAAU3E,OAAO,GAAG,gCAApB,CAApB;;AACA4E,MAAAA,aAAa,CAAC5J,OAAd,GAAwB,YAAW;AAC/ByJ,QAAAA,yBAAyB,GAAG,IAA5B;AACH,OAFD,CA9PsB,CAkQtB;;;AACA,UAAII,YAAY,GAAGzQ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAnB;AACA,UAAIyQ,cAAc,GAAG1Q,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArB;AACA,UAAI0Q,aAAa,GAAG3Q,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAApB;AACA,UAAI2Q,iBAAiB,GAAG5Q,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAxB;AACA,UAAI4Q,eAAe,GAAG7Q,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB,CAvQsB,CAyQtB;;AACA,UAAI6Q,QAAQ,GAAG9Q,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAf;AACA,UAAI8Q,QAAQ,GAAG/Q,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAf,CA3QsB,CA6QtB;;AACA,UAAI+Q,OAAJ;AACA,UAAIC,UAAJ;AACA,UAAIC,YAAJ;AACA,UAAIC,SAAJ;AACA,UAAIC,SAAJ;AACA,UAAIC,cAAJ;AACA,UAAIC,mBAAJ;AACA,UAAIC,gBAAJ,CArRsB,CAuRtB;;AACA,UAAIC,uBAAuB,GAAG,KAA9B;;AAEA,UAAI;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB;AACAF,QAAAA,uBAAuB,GAAG,IAA1B;AACH,OAHD,CAGE,OAAOpO,CAAP,EAAU;AACRoO,QAAAA,uBAAuB,GAAG,KAA1B;AACH,OA/RqB,CAiStB;;;AACA3P,MAAAA,MAAM,CAAC1B,gBAAP,CAAwB,QAAxB,EAAkCwR,kBAAlC;AACA9P,MAAAA,MAAM,CAAC1B,gBAAP,CAAwB,SAAxB,EAAmCwR,kBAAnC;;AAEA,eAASA,kBAAT,GAA8B;AAC1B,YAAIlR,SAAS,CAACmR,MAAd,EAAsB;AAClBpG,UAAAA,WAAW,CAACqG,kBAAkB,EAAnB,CAAX;AACH,SAFD,MAEO;AACHrG,UAAAA,WAAW,CAACY,OAAD,CAAX;AACH;AACJ;;AAED,eAASyF,kBAAT,CAA4B/O,KAA5B,EAAmC;AAC/B,YAAI,CAACgP,cAAc,EAAnB,EAAsB;AAClB,iBAAOtF,iBAAP;AACH;;AACD,YAAIuF,gBAAgB,EAApB,EAAwB;AACpB,iBAAOjP,KAAK,IAAIgJ,OAAhB;AACH;;AACD,eAAOS,gBAAP;AACH,OArTqB,CAuTtB;AAEA;AACA;;;AACA,UAAIyF,QAAQ,GAAG;AACX,iBAAS;AACLhB,UAAAA,OAAO,EAAE,EADJ;AAELiB,UAAAA,QAAQ,EAAE,CAFL;AAGLC,UAAAA,OAAO,EAAE,CAHJ;AAILC,UAAAA,SAAS,EAAE,CAJN;AAKLC,UAAAA,MAAM,EAAE;AALH,SADE;AAQX,yBAAiB;AACbpB,UAAAA,OAAO,EAAE,EADI;AAEbiB,UAAAA,QAAQ,EAAE,CAFG;AAGbC,UAAAA,OAAO,EAAE,CAHI;AAIbC,UAAAA,SAAS,EAAE,CAJE;AAKbC,UAAAA,MAAM,EAAE;AALK,SARN;AAeX,gBAAQ;AACJpB,UAAAA,OAAO,EAAE,EADL;AAEJiB,UAAAA,QAAQ,EAAE,EAFN;AAGJC,UAAAA,OAAO,EAAE,EAHL;AAIJC,UAAAA,SAAS,EAAE,EAJP;AAKJC,UAAAA,MAAM,EAAE;AALJ,SAfG;AAsBX,qBAAa;AACTpB,UAAAA,OAAO,EAAEnH,OAAO,CAACwI,IAAR,IAAgB,EADhB;AAETJ,UAAAA,QAAQ,EAAE,EAFD;AAGTC,UAAAA,OAAO,EAAE,EAHA;AAITC,UAAAA,SAAS,EAAE,EAJF;AAKTC,UAAAA,MAAM,EAAE;AALC;AAtBF,OAAf;;AA+BA,eAASE,WAAT,GAAuB;AACnB,eAAOxJ,IAAI,CAACpE,OAAL,CAAa,OAAb,IAAwB,CAAC,CAAhC;AACH;;AAED,eAAS6J,aAAT,GAAyB;AACrB,eAAOzF,IAAI,CAACpE,OAAL,CAAa,SAAb,IAA0B,CAAC,CAAlC;AACH,OAhWqB,CAkWtB;AAEA;;;AAEAsM,MAAAA,OAAO,GAAGgB,QAAQ,CAAClJ,IAAD,CAAR,CAAekI,OAAzB;;AAEA,UAAInH,OAAO,CAAC0I,IAAR,KAAiBC,SAArB,EAAgC;AAC5B9E,QAAAA,aAAa,GAAG,IAAhB;AACAC,QAAAA,cAAc,GAAG,KAAjB;AACH;;AACD,UAAI9D,OAAO,CAAC4I,GAAR,KAAgBD,SAApB,EAA+B;AAC3B5E,QAAAA,YAAY,GAAG,IAAf;AACAC,QAAAA,eAAe,GAAG,KAAlB;AACH;;AAED,UAAIH,aAAJ,EAAmB;AACfuD,QAAAA,UAAU,GAAGyB,uBAAuB,CAAC7I,OAAO,CAAC0I,IAAR,KAAiBC,SAAjB,GAA6B3I,OAAO,CAAC0I,IAArC,GAA4CP,QAAQ,CAAClJ,IAAD,CAAR,CAAeoJ,OAA5D,CAApC;AACH,OAFD,MAEO;AACHjB,QAAAA,UAAU,GAAGyB,uBAAuB,CAAC7I,OAAO,CAAC8I,KAAR,KAAkBH,SAAlB,GAA8B3I,OAAO,CAAC8I,KAAtC,GAA8CX,QAAQ,CAAClJ,IAAD,CAAR,CAAemJ,QAA9D,CAApC;AACH;;AAED,UAAIrE,YAAJ,EAAkB;AACduD,QAAAA,SAAS,GAAGuB,uBAAuB,CAAC7I,OAAO,CAAC4I,GAAR,KAAgBD,SAAhB,GAA4B3I,OAAO,CAAC4I,GAApC,GAA0CT,QAAQ,CAAClJ,IAAD,CAAR,CAAesJ,MAA1D,CAAnC;AACH,OAFD,MAEO;AACHlB,QAAAA,YAAY,GAAGwB,uBAAuB,CAAC7I,OAAO,CAAC+I,MAAR,KAAmBJ,SAAnB,GAA+B3I,OAAO,CAAC+I,MAAvC,GAAgDZ,QAAQ,CAAClJ,IAAD,CAAR,CAAeqJ,SAAhE,CAAtC;AACH;;AAED,eAASO,uBAAT,CAAiCG,KAAjC,EAAwC;AACpC,YAAI,QAAQC,IAAR,CAAaD,KAAb,CAAJ,EAAyB;AACrB,iBAAOA,KAAK,GAAG,IAAf;AACH;;AACD,eAAOA,KAAP;AACH;;AAEDzB,MAAAA,SAAS,GAAGvH,OAAO,CAACkJ,MAAR,IAAkB,CAA9B;AACA1B,MAAAA,cAAc,GAAGD,SAAS,GAAG,CAA7B;AACAE,MAAAA,mBAAmB,GAAGF,SAAS,GAAG,CAAlC;AACAG,MAAAA,gBAAgB,GAAGH,SAAS,GAAG,CAA/B,CAvYsB,CAyYtB;;AACA1F,MAAAA,MAAM,CAACsH,KAAP,CAAatF,aAAa,GAAG,MAAH,GAAY,OAAtC,IAAiDuD,UAAjD;;AAEA,UAAIrD,YAAJ,EAAkB;AACdlC,QAAAA,MAAM,CAACsH,KAAP,CAAaP,GAAb,GAAmBtB,SAAnB;AACH,OAFD,MAEO;AACHzF,QAAAA,MAAM,CAACsH,KAAP,CAAaJ,MAAb,GAAsB1B,YAAtB;AACH;;AAED,UAAIrH,OAAO,CAACkJ,MAAR,KAAmBP,SAAvB,EAAkC;AAC9B9G,QAAAA,MAAM,CAACsH,KAAP,CAAaD,MAAb,GAAuBlJ,OAAO,CAACkJ,MAA/B;AACH;;AAEDrH,MAAAA,MAAM,CAACsH,KAAP,CAAanH,QAAb,GAAwBhC,OAAO,CAACgC,QAAR,GAAmBhC,OAAO,CAACgC,QAA3B,GAAsC,OAA9D,CAtZsB,CAwZtB;;AACA,UAAIoH,4BAA4B,GAAG,SAAnC;AACA,UAAIC,0BAA0B,GAAG,8EAAjC;AACAhD,MAAAA,qBAAqB,CAACiD,SAAtB,CAAgCC,GAAhC,CAAoC,kCAApC;AACAnD,MAAAA,UAAU,CAACkD,SAAX,CAAqBC,GAArB,CAAyB,qBAAzB;AACAC,MAAAA,8BAA8B,CAACpD,UAAD,EAAapG,OAAb,CAA9B;;AACA,UAAI6D,aAAJ,EAAmB;AACfwC,QAAAA,qBAAqB,CAAC8C,KAAtB,CAA4BM,SAA5B,GAAwC,MAAxC;AACArD,QAAAA,UAAU,CAAC+C,KAAX,CAAiBT,IAAjB,GAAwB,KAAxB;AACH,OAHD,MAGO;AACHtC,QAAAA,UAAU,CAAC+C,KAAX,CAAiBL,KAAjB,GAAyB,KAAzB;AACA1C,QAAAA,UAAU,CAAC+C,KAAX,CAAiBO,KAAjB,GAAyB,OAAzB;AACH;;AAEDtD,MAAAA,UAAU,CAAC+C,KAAX,CAAiBQ,MAAjB,GAA0BxC,OAAO,GAAG,IAApC;AACAf,MAAAA,UAAU,CAAC+C,KAAX,CAAiBS,SAAjB,GAA6BzC,OAAO,GAAG,IAAvC;AACAf,MAAAA,UAAU,CAAC+C,KAAX,CAAiBU,SAAjB,GAA6B1C,OAAO,GAAG,IAAvC;AACAf,MAAAA,UAAU,CAAC+C,KAAX,CAAiBW,YAAjB,GAAgC3C,OAAO,GAAG,IAA1C;AACAf,MAAAA,UAAU,CAAC+C,KAAX,CAAiBW,YAAjB,GAAgC3C,OAAO,GAAG,IAA1C;AACAf,MAAAA,UAAU,CAAC+C,KAAX,CAAiBD,MAAjB,GAA0BzB,mBAA1B;AACArB,MAAAA,UAAU,CAAC+C,KAAX,CAAiBY,WAAjB,GAA+BX,4BAA/B;AACAhD,MAAAA,UAAU,CAAC+C,KAAX,CAAiBa,SAAjB,GAA6BX,0BAA7B,CA7asB,CA+atB;;AACAG,MAAAA,8BAA8B,CAAClD,sBAAD,EAAyBtG,OAAzB,CAA9B;AACAsG,MAAAA,sBAAsB,CAAC6C,KAAvB,CAA6BD,MAA7B,GAAsCzB,mBAAtC;AACAnB,MAAAA,sBAAsB,CAAC6C,KAAvB,CAA6BW,YAA7B,GAA4C,KAA5C;AACAxD,MAAAA,sBAAsB,CAAC6C,KAAvB,CAA6Bc,eAA7B,GAA+C,SAA/C;AACA3D,MAAAA,sBAAsB,CAAC6C,KAAvB,CAA6Ba,SAA7B,GAAyC,qCAAzC;AACA1D,MAAAA,sBAAsB,CAAC6C,KAAvB,CAA6BnH,QAA7B,GAAwC,UAAxC;AACAsE,MAAAA,sBAAsB,CAAC6C,KAAvB,CAA6Be,KAA7B,GAAqC,KAArC;AACA5D,MAAAA,sBAAsB,CAAC6C,KAAvB,CAA6BgB,KAA7B,GAAqC,OAArC;AACA7D,MAAAA,sBAAsB,CAAC6C,KAAvB,CAA6BiB,QAA7B,GAAwC,MAAxC;AACA9D,MAAAA,sBAAsB,CAAC6C,KAAvB,CAA6BkB,OAA7B,GAAuC,MAAvC;AACA/D,MAAAA,sBAAsB,CAACgE,SAAvB,GAAmC,gDAAnC;AACAhE,MAAAA,sBAAsB,CAACgD,SAAvB,CAAiCC,GAAjC,CAAqC,uBAArC;;AAEA,eAASC,8BAAT,CAAwCe,EAAxC,EAA4CvK,OAA5C,EAAqD;AACjD,YAAI+D,YAAJ,EAAkB;AACdwG,UAAAA,EAAE,CAACpB,KAAH,CAASP,GAAT,GAAe,CAAf;AACH,SAFD,MAEO;AACH2B,UAAAA,EAAE,CAACpB,KAAH,CAASJ,MAAT,GAAkB,CAAlB;AACH;;AACD,YAAIlF,aAAJ,EAAmB;AACf0G,UAAAA,EAAE,CAACpB,KAAH,CAAST,IAAT,GAAgB,CAAhB;AACH,SAFD,MAEO;AACH6B,UAAAA,EAAE,CAACpB,KAAH,CAASL,KAAT,GAAiB,CAAjB;AACH;AACJ;;AAED,eAAS0B,oBAAT,GAAgC;AAC5B,YAAI3G,aAAJ,EAAmB;AACfiB,UAAAA,GAAG,CAACqE,KAAJ,CAAUT,IAAV,GAAiB,CAAjB;AACA5D,UAAAA,GAAG,CAACqE,KAAJ,CAAUL,KAAV,GAAkB,EAAlB;AACA1C,UAAAA,UAAU,CAACkD,SAAX,CAAqB1H,MAArB,CAA4B,WAA5B;AACAwE,UAAAA,UAAU,CAACkD,SAAX,CAAqBC,GAArB,CAAyB,YAAzB;AACH,SALD,MAKO;AACHzE,UAAAA,GAAG,CAACqE,KAAJ,CAAUL,KAAV,GAAkB,CAAlB;AACAhE,UAAAA,GAAG,CAACqE,KAAJ,CAAUT,IAAV,GAAiB,EAAjB;AACAtC,UAAAA,UAAU,CAACkD,SAAX,CAAqB1H,MAArB,CAA4B,YAA5B;AACAwE,UAAAA,UAAU,CAACkD,SAAX,CAAqBC,GAArB,CAAyB,WAAzB;AACH;AACJ,OAtdqB,CAwdtB;;;AACAzE,MAAAA,GAAG,CAACqE,KAAJ,CAAUgB,KAAV,GAAkBhD,OAAO,GAAG,IAA5B;AACArC,MAAAA,GAAG,CAACqE,KAAJ,CAAUsB,QAAV,GAAqBtD,OAAO,GAAG,IAA/B;AACArC,MAAAA,GAAG,CAACqE,KAAJ,CAAUuB,QAAV,GAAqBvD,OAAO,GAAG,IAA/B;AACArC,MAAAA,GAAG,CAACqE,KAAJ,CAAUS,SAAV,GAAsBzC,OAAO,GAAG,IAAhC;AACArC,MAAAA,GAAG,CAACqE,KAAJ,CAAUQ,MAAV,GAAmBxC,OAAO,GAAG,IAA7B;AACArC,MAAAA,GAAG,CAACqE,KAAJ,CAAUU,SAAV,GAAsB1C,OAAO,GAAG,IAAhC;AACArC,MAAAA,GAAG,CAACqE,KAAJ,CAAUe,KAAV,GAAkB,MAAlB;AACApF,MAAAA,GAAG,CAACqE,KAAJ,CAAUnH,QAAV,GAAqB,UAArB;;AACA,UAAI+B,YAAJ,EAAkB;AACde,QAAAA,GAAG,CAACqE,KAAJ,CAAUP,GAAV,GAAgB,CAAhB;AACH,OAFD,MAEO;AACH9D,QAAAA,GAAG,CAACqE,KAAJ,CAAUJ,MAAV,GAAmB,CAAnB;AACH;;AACDyB,MAAAA,oBAAoB;AACpB1F,MAAAA,GAAG,CAACqE,KAAJ,CAAUW,YAAV,GAAyB,KAAzB;AACAhF,MAAAA,GAAG,CAACqE,KAAJ,CAAUa,SAAV,GAAsB,qCAAtB;AACAlF,MAAAA,GAAG,CAACqE,KAAJ,CAAUM,SAAV,GAAsB,QAAtB;AACA3E,MAAAA,GAAG,CAACqE,KAAJ,CAAUwB,UAAV,GAAuB,sBAAvB;AACA7F,MAAAA,GAAG,CAACqE,KAAJ,CAAUD,MAAV,GAAmB3B,SAAnB,CA3esB,CA6etB;;AACA,UAAIvH,OAAO,IAAIA,OAAO,CAAC4K,QAAvB,EAAiC;AAC7B9F,QAAAA,GAAG,CAAC8F,QAAJ,GAAe5K,OAAO,CAAC4K,QAAvB;AACH,OAhfqB,CAkftB;;;AACA,UAAIlG,aAAa,EAAjB,EAAqB;AACjBI,QAAAA,GAAG,CAACqE,KAAJ,CAAU0B,MAAV,GAAmB,SAAnB;AACH,OAFD,MAEO;AACH/F,QAAAA,GAAG,CAACqE,KAAJ,CAAU0B,MAAV,GAAmB,SAAnB;AACH,OAvfqB,CAyftB;;;AACA3F,MAAAA,OAAO,CAACiE,KAAR,CAAcS,SAAd,GAA0B,MAA1B;AACA1E,MAAAA,OAAO,CAACiE,KAAR,CAAcQ,MAAd,GAAuB,MAAvB;AACAzE,MAAAA,OAAO,CAACiE,KAAR,CAAcU,SAAd,GAA0B,MAA1B;AACA3E,MAAAA,OAAO,CAACiE,KAAR,CAAcP,GAAd,GAAoB,IAApB;AACA1D,MAAAA,OAAO,CAACiE,KAAR,CAAcT,IAAd,GAAqB,IAArB;AACAxD,MAAAA,OAAO,CAACiE,KAAR,CAAcD,MAAd,GAAuB1B,cAAvB;AACAtC,MAAAA,OAAO,CAACiE,KAAR,CAAcnH,QAAd,GAAyB,UAAzB;AACAkD,MAAAA,OAAO,CAACiE,KAAR,CAAcwB,UAAd,GAA2B,sBAA3B;;AAEA,eAASG,uBAAT,CAAiCC,KAAjC,EAAwC;AACpC,aAAK,IAAIlS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkS,KAAK,CAAC5S,MAA1B,EAAkCU,CAAC,EAAnC,EAAuC;AACnC,cAAImS,GAAG,GAAGD,KAAK,CAAClS,CAAD,CAAf;AACAkS,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAeS,SAAf,GAA2B,MAA3B;AACAmB,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAeQ,MAAf,GAAwB,MAAxB;AACAoB,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAeU,SAAf,GAA2B,MAA3B;AACAkB,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAesB,QAAf,GAA0B,MAA1B;AACAM,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAegB,KAAf,GAAuB,MAAvB;AACAY,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAeuB,QAAf,GAA0B,MAA1B;AACAK,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAeP,GAAf,GAAqB,IAArB;AACAmC,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAeT,IAAf,GAAsB,IAAtB;AACAqC,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAenH,QAAf,GAA0B,UAA1B;AACA+I,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAe8B,aAAf,GAA+B,MAA/B;AACAF,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAe+B,uBAAf,GAAyC,UAAzC;AACAH,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAegC,iBAAf,GAAmC,IAAnC;AACAJ,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAeiC,uBAAf,GAAyC,aAAzC;AACAL,UAAAA,KAAK,CAAClS,CAAD,CAAL,CAASsQ,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACAnG,UAAAA,OAAO,CAACvO,WAAR,CAAoBoU,KAAK,CAAClS,CAAD,CAAzB;AACH;AACJ;;AAEDuM,MAAAA,UAAU,CAAC3J,GAAX,GAAiB,wnHAAjB;AACA4J,MAAAA,UAAU,CAAC5J,GAAX,GAAiB,41GAAjB;AACA6J,MAAAA,UAAU,CAAC7J,GAAX,GAAiB,osHAAjB;AACA8J,MAAAA,UAAU,CAAC9J,GAAX,GAAiB,o8GAAjB;AACA+J,MAAAA,UAAU,CAAC/J,GAAX,GAAiB,o4GAAjB;AACAgK,MAAAA,UAAU,CAAChK,GAAX,GAAiB,onGAAjB;AACAiK,MAAAA,UAAU,CAACjK,GAAX,GAAiB,41GAAjB;AACAkK,MAAAA,UAAU,CAAClK,GAAX,GAAiB,osHAAjB;AACAmK,MAAAA,UAAU,CAACnK,GAAX,GAAiB,o8GAAjB;AACAoK,MAAAA,WAAW,CAACpK,GAAZ,GAAkB,g7GAAlB;AAEAqP,MAAAA,uBAAuB,CAAC,CACpB1F,UADoB,EAEpBC,UAFoB,EAGpBC,UAHoB,EAIpBC,UAJoB,EAKpBC,UALoB,EAMpBC,UANoB,EAOpBC,UAPoB,EAQpBC,UARoB,EASpBC,UAToB,EAUpBC,WAVoB,CAAD,CAAvB,CAniBsB,CAgjBtB;;AACAV,MAAAA,mBAAmB,CAAC1J,GAApB,GAA0BsJ,sBAA1B;AACAI,MAAAA,mBAAmB,CAACgE,KAApB,CAA0BS,SAA1B,GAAsC,MAAtC;AACAzE,MAAAA,mBAAmB,CAACgE,KAApB,CAA0BQ,MAA1B,GAAmC,MAAnC;AACAxE,MAAAA,mBAAmB,CAACgE,KAApB,CAA0BU,SAA1B,GAAsC,MAAtC;AACA1E,MAAAA,mBAAmB,CAACgE,KAApB,CAA0BsB,QAA1B,GAAqC,MAArC;AACAtF,MAAAA,mBAAmB,CAACgE,KAApB,CAA0BgB,KAA1B,GAAkC,MAAlC;AACAhF,MAAAA,mBAAmB,CAACgE,KAApB,CAA0BuB,QAA1B,GAAqC,MAArC;AACAvF,MAAAA,mBAAmB,CAACgE,KAApB,CAA0BP,GAA1B,GAAgC,IAAhC;AACAzD,MAAAA,mBAAmB,CAACgE,KAApB,CAA0BT,IAA1B,GAAiC,IAAjC;AACAvD,MAAAA,mBAAmB,CAACgE,KAApB,CAA0BnH,QAA1B,GAAqC,UAArC;AACAmD,MAAAA,mBAAmB,CAACgE,KAApB,CAA0B8B,aAA1B,GAA0C,MAA1C;AACA9F,MAAAA,mBAAmB,CAACgE,KAApB,CAA0BW,YAA1B,GAAyC,KAAzC;AACA5E,MAAAA,OAAO,CAACvO,WAAR,CAAoBwO,mBAApB;AAEAW,MAAAA,eAAe,CAACqD,KAAhB,CAAsBS,SAAtB,GAAkC,MAAlC;AACA9D,MAAAA,eAAe,CAACqD,KAAhB,CAAsBQ,MAAtB,GAA+B,MAA/B;AACA7D,MAAAA,eAAe,CAACqD,KAAhB,CAAsBU,SAAtB,GAAkC,MAAlC;AACA/D,MAAAA,eAAe,CAACqD,KAAhB,CAAsBsB,QAAtB,GAAiC,MAAjC;AACA3E,MAAAA,eAAe,CAACqD,KAAhB,CAAsBgB,KAAtB,GAA8B,MAA9B;AACArE,MAAAA,eAAe,CAACqD,KAAhB,CAAsBuB,QAAtB,GAAiC,MAAjC;AACA5E,MAAAA,eAAe,CAACqD,KAAhB,CAAsBP,GAAtB,GAA4B,IAA5B;AACA9C,MAAAA,eAAe,CAACqD,KAAhB,CAAsBT,IAAtB,GAA6B,IAA7B;AACA5C,MAAAA,eAAe,CAACqD,KAAhB,CAAsBD,MAAtB,GAA+B1B,cAA/B;AACA1B,MAAAA,eAAe,CAACqD,KAAhB,CAAsBnH,QAAtB,GAAiC,UAAjC;AACA8D,MAAAA,eAAe,CAACqD,KAAhB,CAAsBkC,OAAtB,GAAgC,CAAhC;AACAvF,MAAAA,eAAe,CAACqD,KAAhB,CAAsBwB,UAAtB,GAAmC,sBAAnC;AACA7E,MAAAA,eAAe,CAACqD,KAAhB,CAAsBmC,QAAtB,GAAiC,QAAjC;AACAxF,MAAAA,eAAe,CAACqD,KAAhB,CAAsBW,YAAtB,GAAqC,KAArC;AACAhE,MAAAA,eAAe,CAACqD,KAAhB,CAAsBoC,cAAtB,GAAuC,WAAvC;AACAzF,MAAAA,eAAe,CAACqD,KAAhB,CAAsBqC,kBAAtB,GAA2C,eAA3C;AACA1F,MAAAA,eAAe,CAACqD,KAAhB,CAAsBsC,gBAAtB,GAAyC,WAAzC;AACA3F,MAAAA,eAAe,CAACwD,SAAhB,CAA0BC,GAA1B,CAA8B,mBAA9B;AACAzD,MAAAA,eAAe,CAACwD,SAAhB,CAA0BC,GAA1B,CAA8B,2BAA9B;AAEAxD,MAAAA,aAAa,CAACoD,KAAd,CAAoBS,SAApB,GAAgC,MAAhC;AACA7D,MAAAA,aAAa,CAACoD,KAAd,CAAoBQ,MAApB,GAA6B,MAA7B;AACA5D,MAAAA,aAAa,CAACoD,KAAd,CAAoBU,SAApB,GAAgC,MAAhC;AACA9D,MAAAA,aAAa,CAACoD,KAAd,CAAoBsB,QAApB,GAA+B,MAA/B;AACA1E,MAAAA,aAAa,CAACoD,KAAd,CAAoBgB,KAApB,GAA4B,MAA5B;AACApE,MAAAA,aAAa,CAACoD,KAAd,CAAoBuB,QAApB,GAA+B,MAA/B;AACA3E,MAAAA,aAAa,CAACoD,KAAd,CAAoBP,GAApB,GAA0B,IAA1B;AACA7C,MAAAA,aAAa,CAACoD,KAAd,CAAoBT,IAApB,GAA2B,IAA3B;AACA3C,MAAAA,aAAa,CAACoD,KAAd,CAAoBD,MAApB,GAA6B1B,cAA7B;AACAzB,MAAAA,aAAa,CAACoD,KAAd,CAAoBnH,QAApB,GAA+B,UAA/B;AACA+D,MAAAA,aAAa,CAACoD,KAAd,CAAoBkC,OAApB,GAA8B,CAA9B;AACAtF,MAAAA,aAAa,CAACoD,KAAd,CAAoBwB,UAApB,GAAiC,sBAAjC;AACA5E,MAAAA,aAAa,CAACoD,KAAd,CAAoBmC,QAApB,GAA+B,QAA/B;AACAvF,MAAAA,aAAa,CAACoD,KAAd,CAAoBW,YAApB,GAAmC,KAAnC;AACA/D,MAAAA,aAAa,CAACoD,KAAd,CAAoBoC,cAApB,GAAqC,OAArC;AACAxF,MAAAA,aAAa,CAACoD,KAAd,CAAoBqC,kBAApB,GAAyC,eAAzC;AACAzF,MAAAA,aAAa,CAACoD,KAAd,CAAoBsC,gBAApB,GAAuC,WAAvC;AACA1F,MAAAA,aAAa,CAACuD,SAAd,CAAwBC,GAAxB,CAA4B,iBAA5B,EApmBsB,CAsmBtB;;AACAvD,MAAAA,yBAAyB,CAACmD,KAA1B,CAAgCS,SAAhC,GAA4C,KAA5C;AACA5D,MAAAA,yBAAyB,CAACmD,KAA1B,CAAgCQ,MAAhC,GAAyC,KAAzC;AACA3D,MAAAA,yBAAyB,CAACmD,KAA1B,CAAgCU,SAAhC,GAA4C,KAA5C;AACA7D,MAAAA,yBAAyB,CAACmD,KAA1B,CAAgCP,GAAhC,GAAsC,KAAtC;AACA5C,MAAAA,yBAAyB,CAACmD,KAA1B,CAAgCT,IAAhC,GAAuC,KAAvC;AACA1C,MAAAA,yBAAyB,CAACmD,KAA1B,CAAgCD,MAAhC,GAAyC1B,cAAzC;AACAxB,MAAAA,yBAAyB,CAACmD,KAA1B,CAAgCnH,QAAhC,GAA2C,UAA3C;AACAgE,MAAAA,yBAAyB,CAACmD,KAA1B,CAAgCwB,UAAhC,GAA6C,sBAA7C;AACA3E,MAAAA,yBAAyB,CAACmD,KAA1B,CAAgCkC,OAAhC,GAA0C,GAA1C;AACArF,MAAAA,yBAAyB,CAACvK,GAA1B,GAAgC,w4BAAhC;AACAuK,MAAAA,yBAAyB,CAACmD,KAA1B,CAAgCuC,SAAhC,GAA4C9G,2BAA5C,CAjnBsB,CAmnBtB;;AACAqB,MAAAA,gBAAgB,CAACkD,KAAjB,CAAuBS,SAAvB,GAAmC,MAAnC;AACA3D,MAAAA,gBAAgB,CAACkD,KAAjB,CAAuBQ,MAAvB,GAAgC,MAAhC;AACA1D,MAAAA,gBAAgB,CAACkD,KAAjB,CAAuBU,SAAvB,GAAmC,MAAnC;AACA5D,MAAAA,gBAAgB,CAACkD,KAAjB,CAAuBP,GAAvB,GAA6B,IAA7B;AACA3C,MAAAA,gBAAgB,CAACkD,KAAjB,CAAuBT,IAAvB,GAA8B,IAA9B;AACAzC,MAAAA,gBAAgB,CAACkD,KAAjB,CAAuBD,MAAvB,GAAgC1B,cAAhC;AACAvB,MAAAA,gBAAgB,CAACkD,KAAjB,CAAuBnH,QAAvB,GAAkC,UAAlC;AACAiE,MAAAA,gBAAgB,CAACkD,KAAjB,CAAuBwB,UAAvB,GAAoC,sBAApC;AACA1E,MAAAA,gBAAgB,CAACkD,KAAjB,CAAuBkC,OAAvB,GAAiC,GAAjC;AACApF,MAAAA,gBAAgB,CAACxK,GAAjB,GAAuB,k2EAAvB,CA7nBsB,CA+nBtB;;AACAyK,MAAAA,qBAAqB,CAACiD,KAAtB,CAA4BS,SAA5B,GAAwC,MAAxC;AACA1D,MAAAA,qBAAqB,CAACiD,KAAtB,CAA4BQ,MAA5B,GAAqC,MAArC;AACAzD,MAAAA,qBAAqB,CAACiD,KAAtB,CAA4BU,SAA5B,GAAwC,MAAxC;AACA3D,MAAAA,qBAAqB,CAACiD,KAAtB,CAA4BP,GAA5B,GAAkC,IAAlC;AACA1C,MAAAA,qBAAqB,CAACiD,KAAtB,CAA4BT,IAA5B,GAAmC,IAAnC;AACAxC,MAAAA,qBAAqB,CAACiD,KAAtB,CAA4BD,MAA5B,GAAqC1B,cAArC;AACAtB,MAAAA,qBAAqB,CAACiD,KAAtB,CAA4BnH,QAA5B,GAAuC,UAAvC;AACAkE,MAAAA,qBAAqB,CAACiD,KAAtB,CAA4BwB,UAA5B,GAAyC,sBAAzC;AACAzE,MAAAA,qBAAqB,CAACiD,KAAtB,CAA4BkC,OAA5B,GAAsC,GAAtC;AACAnF,MAAAA,qBAAqB,CAACzK,GAAtB,GAA4B,g5BAA5B,CAzoBsB,CA2oBtB;;AACA,UAAIkQ,eAAe,GAAG,CAAtB;AACA,UAAIC,sBAAsB,GAAG;AACzB,gBAAQ;AACJ,wBAAc;AACV,qBAAS,CACL,mBADK,EAEL,mBAFK;AADC,WADV;AAOJ,mBAAS;AACL,qBAAS,CACL,wBADK,EAEL,0BAFK;AADJ;AAPL,SADiB;AAezB,kBAAU;AACN,wBAAc;AACV,qBAAS,CACL,wBADK,EAEL,0BAFK;AADC,WADR;AAON,mBAAS;AACL,qBAAS,CAAC,wBAAD,EACL,iBADK;AADJ;AAPH,SAfe;AA2BzB,mBAAW;AACP,wBAAc;AACV,qBAAS,CACL,yBADK,EAEL,yBAFK;AADC,WADP;AAQP,mBAAS;AACL,qBAAS,CACL,kBADK,EAEL,yBAFK;AADJ;AARF,SA3Bc;AA2CzB,iBAAS;AACL,wBAAc;AACV,qBAAS,CACL,0BADK,EAEL,0BAFK;AADC,WADT;AAOL,mBAAS;AACL,qBAAS,CACL,0BADK,EAEL,mBAFK;AADJ;AAPJ;AA3CgB,OAA7B;AA0DA3E,MAAAA,QAAQ,CAACkC,KAAT,CAAeS,SAAf,GAA2BzC,OAAO,GAAGwE,eAAV,GAA4B,IAAvD;AACA1E,MAAAA,QAAQ,CAACkC,KAAT,CAAeQ,MAAf,GAAwBxC,OAAO,GAAGwE,eAAV,GAA4B,IAApD;AACA1E,MAAAA,QAAQ,CAACkC,KAAT,CAAeU,SAAf,GAA2B1C,OAAO,GAAGwE,eAAV,GAA4B,IAAvD;AACA1E,MAAAA,QAAQ,CAACkC,KAAT,CAAesB,QAAf,GAA0BtD,OAAO,GAAG,IAApC;AACAF,MAAAA,QAAQ,CAACkC,KAAT,CAAegB,KAAf,GAAuBhD,OAAO,GAAG,IAAjC;AACAF,MAAAA,QAAQ,CAACkC,KAAT,CAAeuB,QAAf,GAA0BvD,OAAO,GAAG,IAApC;AACAF,MAAAA,QAAQ,CAACkC,KAAT,CAAeP,GAAf,GAAqB,mBAAmBzB,OAAO,GAAGwE,eAAV,GAA4B,CAA/C,GAAmD,KAAxE;AACA1E,MAAAA,QAAQ,CAACkC,KAAT,CAAeT,IAAf,GAAsB,CAAtB;AACAzB,MAAAA,QAAQ,CAACkC,KAAT,CAAeD,MAAf,GAAwBxB,gBAAxB;AACAT,MAAAA,QAAQ,CAACkC,KAAT,CAAenH,QAAf,GAA0B,UAA1B;AACAiF,MAAAA,QAAQ,CAACkC,KAAT,CAAewB,UAAf,GAA4B,sBAA5B;AACA1D,MAAAA,QAAQ,CAACkC,KAAT,CAAekC,OAAf,GAAyB,IAAzB;AACApE,MAAAA,QAAQ,CAACkC,KAAT,CAAeW,YAAf,GAA8B,OAA9B;AACA7C,MAAAA,QAAQ,CAACkC,KAAT,CAAe0C,SAAf,GAA2B,iBAA3B;AACA5E,MAAAA,QAAQ,CAACkC,KAAT,CAAe2C,MAAf,GAAwB,UAAU3E,OAAO,GAAG,EAApB,GAAyB,KAAjD;AACAF,MAAAA,QAAQ,CAACqC,SAAT,CAAmBC,GAAnB,CAAuB,yBAAvB;AAGArC,MAAAA,QAAQ,CAACiC,KAAT,CAAeS,SAAf,GAA2BzC,OAAO,GAAGwE,eAAV,GAA4B,IAAvD;AACAzE,MAAAA,QAAQ,CAACiC,KAAT,CAAeQ,MAAf,GAAwBxC,OAAO,GAAGwE,eAAV,GAA4B,IAApD;AACAzE,MAAAA,QAAQ,CAACiC,KAAT,CAAeU,SAAf,GAA2B1C,OAAO,GAAGwE,eAAV,GAA4B,IAAvD;AACAzE,MAAAA,QAAQ,CAACiC,KAAT,CAAesB,QAAf,GAA0BtD,OAAO,GAAG,IAApC;AACAD,MAAAA,QAAQ,CAACiC,KAAT,CAAegB,KAAf,GAAuBhD,OAAO,GAAG,IAAjC;AACAD,MAAAA,QAAQ,CAACiC,KAAT,CAAeuB,QAAf,GAA0BvD,OAAO,GAAG,IAApC;AACAD,MAAAA,QAAQ,CAACiC,KAAT,CAAeP,GAAf,GAAqB,mBAAmBzB,OAAO,GAAGwE,eAAV,GAA4B,CAA/C,GAAmD,KAAxE;AACAzE,MAAAA,QAAQ,CAACiC,KAAT,CAAeT,IAAf,GAAsB,CAAtB;AACAxB,MAAAA,QAAQ,CAACiC,KAAT,CAAeD,MAAf,GAAwBxB,gBAAxB;AACAR,MAAAA,QAAQ,CAACiC,KAAT,CAAenH,QAAf,GAA0B,UAA1B;AACAkF,MAAAA,QAAQ,CAACiC,KAAT,CAAewB,UAAf,GAA4B,sBAA5B;AACAzD,MAAAA,QAAQ,CAACiC,KAAT,CAAekC,OAAf,GAAyB,IAAzB;AACAnE,MAAAA,QAAQ,CAACiC,KAAT,CAAeW,YAAf,GAA8B,OAA9B;AACA5C,MAAAA,QAAQ,CAACiC,KAAT,CAAe0C,SAAf,GAA2B,gBAA3B;AACA3E,MAAAA,QAAQ,CAACiC,KAAT,CAAe2C,MAAf,GAAwB,UAAU3E,OAAO,GAAG,EAApB,GAAyB,KAAjD;AACAD,MAAAA,QAAQ,CAACoC,SAAT,CAAmBC,GAAnB,CAAuB,yBAAvB,EAxuBsB,CA0uBtB;;AACApD,MAAAA,WAAW,CAACgD,KAAZ,CAAkBS,SAAlB,GAA8B,MAA9B;AACAzD,MAAAA,WAAW,CAACgD,KAAZ,CAAkBQ,MAAlB,GAA2B,MAA3B;AACAxD,MAAAA,WAAW,CAACgD,KAAZ,CAAkBU,SAAlB,GAA8B,MAA9B;AACA1D,MAAAA,WAAW,CAACgD,KAAZ,CAAkBP,GAAlB,GAAwB,IAAxB;AACAzC,MAAAA,WAAW,CAACgD,KAAZ,CAAkBT,IAAlB,GAAyB,IAAzB;AACAvC,MAAAA,WAAW,CAACgD,KAAZ,CAAkBD,MAAlB,GAA2B1B,cAA3B;AACArB,MAAAA,WAAW,CAACgD,KAAZ,CAAkBnH,QAAlB,GAA6B,UAA7B;AACAmE,MAAAA,WAAW,CAACgD,KAAZ,CAAkBwB,UAAlB,GAA+B,sBAA/B;AACAxE,MAAAA,WAAW,CAACgD,KAAZ,CAAkBkC,OAAlB,GAA4B,GAA5B;AACAlF,MAAAA,WAAW,CAAC1K,GAAZ,GAAkB,83EAAlB;AAEAmL,MAAAA,YAAY,CAAC0C,SAAb,CAAuBC,GAAvB,CAA2B,oBAA3B;AACA1C,MAAAA,cAAc,CAACyC,SAAf,CAAyBC,GAAzB,CAA6B,sBAA7B;AACAzC,MAAAA,aAAa,CAACwC,SAAd,CAAwBC,GAAxB,CAA4B,qBAA5B;AACAxC,MAAAA,iBAAiB,CAACuC,SAAlB,CAA4BC,GAA5B,CAAgC,yBAAhC;AACAvC,MAAAA,eAAe,CAACsC,SAAhB,CAA0BC,GAA1B,CAA8B,uBAA9B;AAEAwC,MAAAA,aAAa,CAACnF,YAAD,CAAb;AACAmF,MAAAA,aAAa,CAAClF,cAAD,CAAb;AACAkF,MAAAA,aAAa,CAACjF,aAAD,CAAb;AACAiF,MAAAA,aAAa,CAAChF,iBAAD,CAAb;AACAgF,MAAAA,aAAa,CAAC/E,eAAD,CAAb;AAEA,UAAIgF,SAAS,GAAG,CAAhB;AACA,UAAIC,UAAU,GAAG,CAAjB;AAGArF,MAAAA,YAAY,CAACuC,KAAb,CAAmBkC,OAAnB,GAA6BW,SAA7B;AAEA,UAAIE,QAAQ,GAAG,CACXnG,aADW,EAEXD,eAFW,EAGXZ,OAHW,EAIXiB,WAJW,EAKXF,gBALW,EAMXC,qBANW,EAOXd,UAPW,EAQXC,UARW,EASXC,UATW,EAUXC,UAVW,EAWXC,UAXW,EAYXC,UAZW,EAaXC,UAbW,EAcXC,UAdW,EAeXC,UAfW,EAgBXC,WAhBW,CAAf;;AAmBA,WAAK,IAAIhN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqT,QAAQ,CAAC/T,MAA7B,EAAqCU,CAAC,EAAtC,EAA0C;AACtCqT,QAAAA,QAAQ,CAACrT,CAAD,CAAR,CAAYxC,YAAZ,CAAyB,WAAzB,EAAsC,OAAtC;AACH;;AAED8V,MAAAA,UAAU,CAAC,CACPtF,cADO,EAEPC,aAFO,EAGPC,iBAHO,EAIPC,eAJO,CAAD,CAAV;AAOAlC,MAAAA,GAAG,CAACnO,WAAJ,CAAgBsQ,QAAhB;AACAnC,MAAAA,GAAG,CAACnO,WAAJ,CAAgBuQ,QAAhB;AACApC,MAAAA,GAAG,CAACnO,WAAJ,CAAgBiQ,YAAhB;AACA9B,MAAAA,GAAG,CAACnO,WAAJ,CAAgBkQ,cAAhB;AACA/B,MAAAA,GAAG,CAACnO,WAAJ,CAAgBmQ,aAAhB;AACAhC,MAAAA,GAAG,CAACnO,WAAJ,CAAgBoQ,iBAAhB;AACAjC,MAAAA,GAAG,CAACnO,WAAJ,CAAgBqQ,eAAhB;AACAlC,MAAAA,GAAG,CAACnO,WAAJ,CAAgBuO,OAAhB;AACAJ,MAAAA,GAAG,CAACnO,WAAJ,CAAgBmP,eAAhB;AACAhB,MAAAA,GAAG,CAACnO,WAAJ,CAAgBoP,aAAhB;AACAjB,MAAAA,GAAG,CAACnO,WAAJ,CAAgBqP,yBAAhB;AACAlB,MAAAA,GAAG,CAACnO,WAAJ,CAAgBsP,gBAAhB;AACAnB,MAAAA,GAAG,CAACnO,WAAJ,CAAgBuP,qBAAhB;AACApB,MAAAA,GAAG,CAACnO,WAAJ,CAAgBwP,WAAhB;AACArB,MAAAA,GAAG,CAACwE,SAAJ,CAAcC,GAAd,CAAkB,SAAlB;;AAEA,UAAG6C,QAAQ,EAAX,EAAc;AACVvK,QAAAA,MAAM,CAACyH,SAAP,CAAiBC,GAAjB,CAAqB,QAArB;AACH,OAxzBqB,CA0zBtB;AAEA;;;AACA8C,MAAAA,oBAAoB;;AAEpB,eAASC,mBAAT,CAA6BC,OAA7B,EAAsC;AAClC,eAAO,WAAWC,YAAY,EAAvB,IAA6BD,OAAO,GAAG,EAAH,GAAQ,GAA5C,CAAP;AACH;;AAED,eAASF,oBAAT,CAA8BI,UAA9B,EAA0C;AACtC,YAAItD,KAAJ;AACA,YAAIuD,SAAS,GAAG,EAAhB;AACA,YAAIhP,SAAS,GAAG8O,YAAY,EAA5B;AAEA,YAAIG,kBAAJ;;AAEA,YAAI3M,OAAO,CAAC4M,SAAZ,EAAuB;AACnBD,UAAAA,kBAAkB,GAAG3M,OAAO,CAAC4M,SAAR,CAAkBC,cAAlB,CAAiC,qBAAqBnP,SAAtD,CAArB;AACH,SAFD,MAEO;AACHiP,UAAAA,kBAAkB,GAAGxW,QAAQ,CAAC0W,cAAT,CAAwB,qBAAqBnP,SAA7C,CAArB;AACH;;AAED,YAAIiP,kBAAJ,EAAwB;AACpBA,UAAAA,kBAAkB,CAACG,QAAnB,GAA8B,IAA9B;AACAH,UAAAA,kBAAkB,CAACI,UAAnB,CAA8BC,WAA9B,CAA0CL,kBAA1C;AACH;;AAEDxD,QAAAA,KAAK,GAAGhT,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAR;AACA+S,QAAAA,KAAK,CAAC9S,YAAN,CAAmB,IAAnB,EAAyB,qBAAqBqH,SAA9C;AACAyL,QAAAA,KAAK,CAAC1M,IAAN,GAAa,UAAb;AAEAiQ,QAAAA,SAAS,IAAI,oOAAb;;AAEA,YAAI,CAACN,QAAQ,EAAb,EAAiB;AACbM,UAAAA,SAAS,IAAIJ,mBAAmB,KAAK,8PAArC;AACH;;AAEDI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,uiBAArC;AAEAI,QAAAA,SAAS,IAAIJ,mBAAmB,CAAC,IAAD,CAAnB,GAA4B,uDAA5B,GAAsFlF,UAAtF,GAAmG,KAAhH;AAEAsF,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,6DAAxB,GAAwFnF,OAAxF,GAAkG,MAA/G;AACAuF,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,6DAAxB,GAAwFnF,OAAxF,GAAkG,MAA/G;AAEAuF,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,gGAArC;AACAI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,iGAArC;AAEAI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,uFAArC;AACAI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,6FAArC;AAEAI,QAAAA,SAAS,IAAIJ,mBAAmB,CAAC,IAAD,CAAnB,GAA4B,+FAAzC;AACAI,QAAAA,SAAS,IAAIJ,mBAAmB,CAAC,IAAD,CAAnB,GAA4B,qGAAzC;AAEAI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,yFAArC;AACAI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,iGAArC;AAEAI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,gGAArC;AACAI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,+CAArC;AACAI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,wFAArC;AAEAI,QAAAA,SAAS,IAAIJ,mBAAmB,CAAC,IAAD,CAAnB,GAA4B,qHAAzC;AACAI,QAAAA,SAAS,IAAIJ,mBAAmB,CAAC,IAAD,CAAnB,GAA4B,8IAAzC;AAEAI,QAAAA,SAAS,IAAIJ,mBAAmB,CAAC,IAAD,CAAnB,GAA4B,8HAAzC;AACAI,QAAAA,SAAS,IAAIJ,mBAAmB,CAAC,IAAD,CAAnB,GAA4B,uJAAzC;AAEAI,QAAAA,SAAS,IAAIJ,mBAAmB,CAAC,IAAD,CAAnB,GAA4B,wIAAzC;AACAI,QAAAA,SAAS,IAAIJ,mBAAmB,CAAC,IAAD,CAAnB,GAA4B,wJAAzC;AAEAI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,2NAArC;AAEAI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,2CAAxB,GAAsEtH,kBAAtE,GAA2F,2BAAxG;AACA0H,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,yCAAxB,GAAoErH,gBAApE,GAAuF,2BAApG;AACAyH,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,8BAArC;AACAI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,0DAArC;AAGAI,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,eAAD,EAAkB,6FAAlB,CAArD;AACAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,gBAAD,EAAmB,2FAAnB,CAArD;AACAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,oBAAD,EAAuB,qFAAvB,CAArD;AACAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,6BAAD,EAAgC,qFAAhC,CAArD;AACAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,cAAD,EAAiB,iCAAjB,CAArD;AACAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,eAAD,EAAkB,iCAAlB,CAArD;AAEAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,oBAAD,EACjD,QACA,aADA,GAEA,qBAFA,GAGA,4CAHA,GAIA,iCAJA,GAKA,GALA,GAMA,OANA,GAOA,aAPA,GAQA,aARA,GASA,4CATA,GAUA,GAXiD,CAArD;AAaAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,uBAAD,EACjD,QACA,aADA,GAEA,aAFA,GAGA,8CAHA,GAIA,GAJA,GAKA,OALA,GAMA,aANA,GAOA,oBAPA,GAQA,4CARA,GASA,gCATA,GAUA,GAXiD,CAArD;AAcAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,wBAAD,EACjD,0BACA,wBADA,GAEA,wBAFA,GAGA,wBAHA,GAIA,wBAJA,GAKA,wBALA,GAMA,wBANA,GAOA,wBAPA,GAQA,wBARA,GASA,wBATA,GAUA,wBAXiD,CAArD;AAaAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,wBAAD,EACjD,0BACA,wBADA,GAEA,wBAFA,GAGA,wBAHA,GAIA,wBAJA,GAKA,wBALA,GAMA,wBANA,GAOA,wBAPA,GAQA,wBARA,GASA,wBATA,GAUA,wBAXiD,CAArD;AAaAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,wBAAD,EACjD,0BACA,wBADA,GAEA,wBAFA,GAGA,wBAHA,GAIA,wBAJA,GAKA,wBALA,GAMA,wBANA,GAOA,wBAPA,GAQA,wBARA,GASA,wBATA,GAUA,wBAXiD,CAArD;AAaAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,wBAAD,EACjD,0BACA,wBADA,GAEA,wBAFA,GAGA,wBAHA,GAIA,wBAJA,GAKA,wBALA,GAMA,wBANA,GAOA,wBAPA,GAQA,wBARA,GASA,wBATA,GAUA,wBAXiD,CAArD;AAaAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,wBAAD,EACjD,0BACA,wBADA,GAEA,wBAFA,GAGA,wBAHA,GAIA,wBAJA,GAKA,wBALA,GAMA,wBANA,GAOA,wBAPA,GAQA,wBARA,GASA,wBATA,GAUA,wBAXiD,CAArD;AAaAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,wBAAD,EACjD,0BACA,wBADA,GAEA,wBAFA,GAGA,wBAHA,GAIA,wBAJA,GAKA,wBALA,GAMA,wBANA,GAOA,wBAPA,GAQA,wBARA,GASA,wBATA,GAUA,wBAXiD,CAArD;AAaAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,wBAAD,EACjD,0BACA,wBADA,GAEA,wBAFA,GAGA,wBAHA,GAIA,wBAJA,GAKA,wBALA,GAMA,wBANA,GAOA,wBAPA,GAQA,wBARA,GASA,wBATA,GAUA,wBAXiD,CAArD;AAaAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,wBAAD,EACjD,0BACA,wBADA,GAEA,wBAFA,GAGA,wBAHA,GAIA,wBAJA,GAKA,wBALA,GAMA,wBANA,GAOA,wBAPA,GAQA,wBARA,GASA,wBATA,GAUA,wBAXiD,CAArD;AAaAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,wBAAD,EACjD,0BACA,wBADA,GAEA,wBAFA,GAGA,wBAHA,GAIA,wBAJA,GAKA,wBALA,GAMA,wBANA,GAOA,wBAPA,GAQA,wBARA,GASA,wBATA,GAUA,wBAXiD,CAArD;AAaAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,yBAAD,EACjD,0BACA,wBADA,GAEA,wBAFA,GAGA,wBAHA,GAIA,wBAJA,GAKA,wBALA,GAMA,wBANA,GAOA,wBAPA,GAQA,wBARA,GASA,wBATA,GAUA,wBAXiD,CAArD;AAaAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,+BAAD,EAAkC,uEAAlC,CAArD;AAEAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,iBAAD,EAAoB,gHAApB,CAArD;AAEAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,iBAAD,EAAoB,8GAApB,CAArD;AAGAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAKW,gBAAgB,CAAC,mBAAD,EAAsB,4CAAtB,CAArD;AAEAP,QAAAA,SAAS,IAAIJ,mBAAmB,KAAK,qEAArC;AAEA,YAAIY,yBAAyB,GAAGtB,sBAAhC;;AAEA,YAAIa,UAAJ,EAAgB;AACZ,cAAIA,UAAU,CAACU,eAAf,EAAgC;AAAE;AAC9BD,YAAAA,yBAAyB,GAAGtB,sBAA5B;AACH,WAFD,MAEO;AACHsB,YAAAA,yBAAyB,GAAGT,UAAU,IAAIb,sBAA1C;AACH;AACJ;;AAED,YAAIwB,uBAAuB,GAAGC,MAAM,CAACC,IAAP,CAAYJ,yBAAZ,CAA9B;AACA,YAAIK,SAAJ;AACA,YAAIC,SAAJ;AACA,YAAIC,YAAY,GAAG;AACfC,UAAAA,IAAI,EAAE,CAAC,SAAD,CADS;AAEfC,UAAAA,MAAM,EAAE,CAAC,WAAD,CAFO;AAGfC,UAAAA,OAAO,EAAE,CAAC,cAAD,EAAiB,YAAjB,CAHM;AAIfC,UAAAA,KAAK,EAAE,CAAC,UAAD;AAJQ,SAAnB;AAMA,YAAIC,gBAAJ,EAAqBC,cAArB;AACA,YAAIC,MAAM,GAAGX,MAAM,CAACC,IAAP,CAAYG,YAAZ,CAAb;;AACA,aAAK5U,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGmV,MAAM,CAAC7V,MAAvB,EAA+BU,CAAC,EAAhC,EAAoC;AAChC2U,UAAAA,SAAS,GAAGQ,MAAM,CAACnV,CAAD,CAAlB;AACAiV,UAAAA,gBAAgB,GAAGL,YAAY,CAACD,SAAD,CAA/B;AACAD,UAAAA,SAAS,GAAGL,yBAAyB,CAACM,SAAD,CAArC;;AACA,eAAI,IAAIS,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGH,gBAAgB,CAAC3V,MAApC,EAA4C8V,CAAC,EAA7C,EAAgD;AAC5CF,YAAAA,cAAc,GAAGD,gBAAgB,CAACG,CAAD,CAAjC;;AACJ,gBAAGV,SAAS,CAACW,UAAb,EAAwB;AACpBxB,cAAAA,SAAS,IAAIJ,mBAAmB,KAAK,cAAxB,GAAyCyB,cAAzC,GAA0D,IAAvE;AACArB,cAAAA,SAAS,IAAI,8CAA4Ca,SAAS,CAACW,UAAV,CAAqBhE,KAArB,CAA2B,CAA3B,CAA5C,GAA0E,GAA1E,GAA8EqD,SAAS,CAACW,UAAV,CAAqBhE,KAArB,CAA2B,CAA3B,CAA9E,GAA4G,IAAzH;AACAwC,cAAAA,SAAS,IAAI,GAAb;AACAA,cAAAA,SAAS,IAAIJ,mBAAmB,KAAK,mBAAxB,GAA8CyB,cAA9C,GAA+D,IAA5E;AACArB,cAAAA,SAAS,IAAI,8CAA4Ca,SAAS,CAACW,UAAV,CAAqBhE,KAArB,CAA2B,CAA3B,CAA5C,GAA0E,GAA1E,GAA8EqD,SAAS,CAACW,UAAV,CAAqBhE,KAArB,CAA2B,CAA3B,CAA9E,GAA4G,IAAzH;AACAwC,cAAAA,SAAS,IAAI,GAAb;AACH;;AAED,gBAAGa,SAAS,CAACY,KAAV,IAAmB,CAAC/B,QAAQ,EAA/B,EAAkC;AAC9BM,cAAAA,SAAS,IAAIJ,mBAAmB,KAAK,6BAAxB,GAAwDyB,cAAxD,GAAyE,uBAAtF;AACArB,cAAAA,SAAS,IAAI,8CAA4Ca,SAAS,CAACY,KAAV,CAAgBjE,KAAhB,CAAsB,CAAtB,CAA5C,GAAqE,GAArE,GAAyEqD,SAAS,CAACY,KAAV,CAAgBjE,KAAhB,CAAsB,CAAtB,CAAzE,GAAkG,IAA/G;AACAwC,cAAAA,SAAS,IAAI,GAAb;AACAA,cAAAA,SAAS,IAAIJ,mBAAmB,KAAK,8BAAxB,GAAyDyB,cAAzD,GAA0E,uBAAvF;AACArB,cAAAA,SAAS,IAAI,8CAA4Ca,SAAS,CAACY,KAAV,CAAgBjE,KAAhB,CAAsB,CAAtB,CAA5C,GAAqE,GAArE,GAAyEqD,SAAS,CAACY,KAAV,CAAgBjE,KAAhB,CAAsB,CAAtB,CAAzE,GAAkG,IAA/G;AACAwC,cAAAA,SAAS,IAAI,GAAb;AAEAA,cAAAA,SAAS,IAAIJ,mBAAmB,KAAK,kCAAxB,GAA6DyB,cAA7D,GAA8E,uBAA3F;AACArB,cAAAA,SAAS,IAAI,8CAA4Ca,SAAS,CAACY,KAAV,CAAgBjE,KAAhB,CAAsB,CAAtB,CAA5C,GAAqE,GAArE,GAAyEqD,SAAS,CAACY,KAAV,CAAgBjE,KAAhB,CAAsB,CAAtB,CAAzE,GAAkG,IAA/G;AACAwC,cAAAA,SAAS,IAAI,GAAb;AACAA,cAAAA,SAAS,IAAIJ,mBAAmB,KAAK,mCAAxB,GAA8DyB,cAA9D,GAA+E,uBAA5F;AACArB,cAAAA,SAAS,IAAI,8CAA4Ca,SAAS,CAACY,KAAV,CAAgBjE,KAAhB,CAAsB,CAAtB,CAA5C,GAAqE,GAArE,GAAyEqD,SAAS,CAACY,KAAV,CAAgBjE,KAAhB,CAAsB,CAAtB,CAAzE,GAAkG,IAA/G;AACAwC,cAAAA,SAAS,IAAI,GAAb;AACH;AACJ;AAGA;;AAEDvD,QAAAA,KAAK,CAACiF,SAAN,GAAkB1B,SAAlB;;AAEA,YAAI1M,OAAO,CAAC4M,SAAZ,EAAuB;AACnB5M,UAAAA,OAAO,CAAC4M,SAAR,CAAkByB,OAAlB,CAA0BlF,KAA1B;AACH,SAFD,MAEO;AACHhT,UAAAA,QAAQ,CAAC0O,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyClO,WAAzC,CAAqDwS,KAArD;AACH;AACJ;;AAED,eAAS8D,gBAAT,CAA0B7N,IAA1B,EAAgCkP,IAAhC,EAAsC;AAClC,YAAIC,QAAQ,GAAG,CAAC,oBAAD,EAAuB,YAAvB,CAAf;AACA,YAAIC,CAAC,GAAG,EAAR;;AACA,aAAK,IAAI3V,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0V,QAAQ,CAACpW,MAA7B,EAAqCU,CAAC,EAAtC,EAA0C;AACtC2V,UAAAA,CAAC,IAAID,QAAQ,CAAC1V,CAAD,CAAR,GAAc,GAAd,GAAoBuG,IAApB,GAA2B,GAA3B,GAAiCkP,IAAjC,GAAwC,IAA7C;AACH;;AACD,eAAOE,CAAP;AACH,OA9nCqB,CAgoCtB;AAEA;;;AACA,UAAIxO,OAAJ,EAAa;AACT,YAAIA,OAAO,CAACtE,SAAZ,EAAuB;AACnBA,UAAAA,SAAS,GAAGsE,OAAO,CAACtE,SAApB;AACH;;AACD,YAAIsE,OAAO,CAACqB,GAAZ,EAAiB;AACboN,UAAAA,+BAA+B;AAC/B9M,UAAAA,WAAW,CAACqG,kBAAkB,CAAC1F,YAAD,CAAnB,CAAX;AAEAtK,UAAAA,MAAM,CAACuI,YAAP,GAAsBX,IAAI,CAACE,OAAL,CAAaE,OAAO,CAACqB,GAArB,EAA0BC,WAAW,CAACtB,OAAO,CAAC0O,QAAT,CAArC,EAAyD1O,OAAO,CAACrE,IAAjE,EAAuE,IAAvE,EAA6E;AAAEM,YAAAA,QAAQ,EAAGgD,IAAI,KAAK,MAAT,GAAkB,gBAAlB,GAAqC,IAAlD;AAAyDF,YAAAA,OAAO,EAAE/G,MAAM,CAAC8D,QAAP,CAAgBmH;AAAlF,WAA7E,CAAtB;AACAjL,UAAAA,MAAM,CAACuI,YAAP,CAAoB9F,EAApB,CAAuB,eAAvB,EAAwC8G,qBAAxC;AACAvJ,UAAAA,MAAM,CAACuI,YAAP,CAAoB9F,EAApB,CAAuB,SAAvB,EAAkC+G,iBAAlC,EANa,CAQb;AACH,SATD,MASO;AACHG,UAAAA,WAAW,CAACqG,kBAAkB,EAAnB,CAAX;AACH;AACJ;;AAED,eAAS2G,IAAT,GAAgB;AACZ,iBAASC,EAAT,GAAc;AACV,iBAAOC,IAAI,CAACC,KAAL,CAAW,CAAC,IAAID,IAAI,CAACE,MAAL,EAAL,IAAsB,OAAjC,EACKC,QADL,CACc,EADd,EAEKC,SAFL,CAEe,CAFf,CAAP;AAGH;;AAED,eAAOL,EAAE,KAAKA,EAAE,EAAT,GAAc,GAAd,GAAoBA,EAAE,EAAtB,GAA2B,GAA3B,GAAiCA,EAAE,EAAnC,GAAwC,GAAxC,GACHA,EAAE,EADC,GACI,GADJ,GACUA,EAAE,EADZ,GACiBA,EAAE,EADnB,GACwBA,EAAE,EADjC;AAEH;;AAED,eAAStN,WAAT,CAAqB3E,IAArB,EAA2B;AACvB,YAAI+R,QAAQ,GAAG/R,IAAI,IAAI,EAAvB;AACA,YAAIuS,OAAJ,EAAaC,OAAb;;AAEA,YAAIxH,uBAAuB,IAAI+G,QAA/B,EAAyC;AACrCS,UAAAA,OAAO,GAAG,mBAAmB3C,YAAY,EAAzC;AACA0C,UAAAA,OAAO,GAAGtH,YAAY,CAACC,OAAb,CAAqBsH,OAArB,CAAV;;AACA,cAAID,OAAJ,EAAa;AACTR,YAAAA,QAAQ,CAACU,IAAT,GAAgBF,OAAhB;AACH,WAFD,MAEO;AACHR,YAAAA,QAAQ,CAACU,IAAT,GAAgBT,IAAI,EAApB;AACA/G,YAAAA,YAAY,CAACyH,OAAb,CAAqBF,OAArB,EAA8BT,QAAQ,CAACU,IAAvC;AACH;AACJ,SATD,MASO;AACHV,UAAAA,QAAQ,CAACU,IAAT,GAAgBT,IAAI,EAApB;AACH;;AAED,eAAOD,QAAP;AACH;;AAED,eAASlC,YAAT,GAAwB;AACpB,YAAInL,GAAJ;;AACA,YAAIrB,OAAO,CAACqB,GAAZ,EAAiB;AACbA,UAAAA,GAAG,GAAGrB,OAAO,CAACqB,GAAd;AACA,iBAAOA,GAAG,CAACiO,MAAJ,CAAW,CAAX,EAAcjO,GAAG,CAACxG,OAAJ,CAAY,GAAZ,CAAd,CAAP;AACH;;AAED,eAAOoE,IAAP;AACH;;AAED,eAASoF,QAAT,CAAkBkL,IAAlB,EAAwBC,IAAxB,EAA8B;AAC1B,YAAIC,OAAJ;AACA,YAAIC,KAAK,GAAGF,IAAI,IAAI,GAApB;AACA,eAAO,UAAUG,IAAV,EAAgB;AACnBC,UAAAA,YAAY,CAACH,OAAD,CAAZ;AACAA,UAAAA,OAAO,GAAGI,UAAU,CAAC,YAAY;AAC7BN,YAAAA,IAAI,CAACO,KAAL,CAAW,IAAX,EAAiBH,IAAjB;AACH,WAFmB,EAEjBD,KAFiB,CAApB;AAGH,SALD;AAMH;;AAED,eAASK,mBAAT,CAA6BC,OAA7B,EAAsC;AAClCC,QAAAA,WAAW;;AACX,YAAIjQ,OAAO,CAACkQ,gBAAZ,EAA8B;AAC1BlQ,UAAAA,OAAO,CAACkQ,gBAAR;AACH;;AACDxU,QAAAA,SAAS,CAACjB,EAAV,CAAa,UAAb,EAAyB0V,UAAzB;AACAzU,QAAAA,SAAS,CAACjB,EAAV,CAAa,SAAb,EAAwB2V,SAAxB;AACA1U,QAAAA,SAAS,CAACjB,EAAV,CAAa,SAAb,EAAwB4V,SAAxB;AACA3U,QAAAA,SAAS,CAACjB,EAAV,CAAa,WAAb,EAA0B6V,WAA1B;AACA5U,QAAAA,SAAS,CAACjB,EAAV,CAAa,UAAb,EAAyB8V,UAAzB;AACA7U,QAAAA,SAAS,CAACjB,EAAV,CAAa,SAAb,EAAwB+V,mBAAxB;AACA9U,QAAAA,SAAS,CAACX,KAAV,CAAgBiV,OAAhB;;AACA,YAAIhQ,OAAO,CAACyQ,YAAZ,EAA0B;AACtBzQ,UAAAA,OAAO,CAACyQ,YAAR;AACH;AACJ;;AAED,eAAS1P,kBAAT,GAA8B;AAC1B,YAAI2P,eAAe,GAAG,IAAIC,OAAJ,CAAY,UAAUX,OAAV,EAAmBY,MAAnB,EAA2B;AAEzD,cAAI3Q,WAAJ,EAAiB;AACb2Q,YAAAA,MAAM,CAAC;AAAC/W,cAAAA,GAAG,EAAE2J;AAAN,aAAD,CAAN;AACA;AACH;;AAED,cAAIkB,aAAa,EAAjB,EAAqB;AACjBkM,YAAAA,MAAM,CAAC;AAAC/W,cAAAA,GAAG,EAAE0J;AAAN,aAAD,CAAN;AACA;AACH;;AAED,mBAASsN,gCAAT,CAA0CC,GAA1C,EAA+C;AAC3C,gBAAIA,GAAG,KAAK,YAAZ,EAA0B;AACtB9Y,cAAAA,MAAM,CAACuI,YAAP,CAAoB5F,GAApB,CAAwB,eAAxB,EAAyCkW,gCAAzC;;AACAd,cAAAA,mBAAmB,CAACC,OAAD,CAAnB;AACH;AACJ;;AAED,cAAItU,SAAJ,EAAe;AACX,oBAAQzC,KAAR;AACI,mBAAKgJ,OAAL;AACI,oBAAI;AACA8N,kBAAAA,mBAAmB,CAACC,OAAD,CAAnB;AACH,iBAFD,CAEE,OAAOzW,CAAP,EAAU;AACR6J,kBAAAA,aAAa,GAAGP,+BAAhB;AACA+N,kBAAAA,MAAM,CAAC;AAAE/W,oBAAAA,GAAG,EAAEwJ;AAAP,mBAAD,CAAN;AACH;;AACD;;AACJ,mBAAKf,YAAL;AACA,mBAAKC,OAAL;AACIvK,gBAAAA,MAAM,CAACuI,YAAP,CAAoB9F,EAApB,CAAuB,eAAvB,EAAwCoW,gCAAxC;AACA;;AACJ,mBAAKpO,iBAAL;AACImO,gBAAAA,MAAM,CAAC;AAAE/W,kBAAAA,GAAG,EAAEyJ;AAAP,iBAAD,CAAN;AACA;;AAEJ,mBAAKpB,SAAL;AACA,mBAAKC,QAAL;AACA,mBAAKC,YAAL;AACA,mBAAKC,UAAL;AACI2N,gBAAAA,OAAO;AACP;;AACJ;AAvBJ;AAyBH,WA1BD,MA0BO;AACHY,YAAAA,MAAM,CAAC;AAAE/W,cAAAA,GAAG,EAAE4J;AAAP,aAAD,CAAN;AACH;AACJ,SAhDqB,CAAtB;AAkDA,eAAOiN,eAAP;AACH;;AAED5L,MAAAA,GAAG,CAACxO,gBAAJ,CAAqB,OAArB,EAA8B,UAAUiD,CAAV,EAAa;AACvC,YAAIwX,cAAJ,EAAoB;AACpB,YAAI,CAACC,mBAAL,EAA0B;;AAC1B,YAAI5N,aAAJ,EAAmB;AACf6N,UAAAA,KAAK,CAAC7N,aAAD,CAAL;AACA;AACH;;AACD,YAAI1H,SAAJ,EAAe;AACX,cAAIzC,KAAK,KAAK,SAAd,EAAyB;AACrB8H,YAAAA,kBAAkB;AACrB,WAFD,MAEO;AACHrF,YAAAA,SAAS,CAACR,IAAV;AACH;AACJ,SAND,MAMO;AACH,gBAAM,IAAIyF,KAAJ,CAAU,qCAAV,CAAN;AACH,SAfsC,CAgBvC;;;AACA,aAAKuQ,IAAL;AACH,OAlBD;;AAoBA,eAASC,kBAAT,CAA4B5X,CAA5B,EAA+Bf,IAA/B,EAAqC4Y,aAArC,EAAoD;AAChD;AACA,YAAIC,cAAc,GAAG,EAArB;;AAEA,YAAIjF,QAAQ,MAAMgF,aAAa,KAAK,IAApC,EAA0C;AACtC;AACH;;AAED,YAAIlR,YAAJ,EAAkB;AACd;AACH;;AAED+D,QAAAA,qBAAqB,GAAG,IAAxB;;AACA,YAAI,CAACjE,OAAO,CAACsR,kBAAb,EAAiC;AAC7B,cAAIlL,UAAU,CAACkD,SAAX,CAAqBN,KAArB,CAA2BnO,OAA3B,CAAmC,wBAAnC,MAAiE,CAAC,CAAtE,EAAyE;AACrEuL,YAAAA,UAAU,CAACkD,SAAX,CAAqBC,GAArB,CAAyB,WAAzB;AACAnD,YAAAA,UAAU,CAACkD,SAAX,CAAqBC,GAArB,CAAyB,wBAAzB;AACAnD,YAAAA,UAAU,CAACkD,SAAX,CAAqB1H,MAArB,CAA4B,2BAA5B;AACH;;AAED,cAAIpJ,IAAJ,EAAU;AACN6Y,YAAAA,cAAc,GAAG7Y,IAAjB;AACA6N,YAAAA,qBAAqB,CAAC+H,SAAtB,GAAkC5V,IAAlC;AACH,WAHD,MAGO;AACH6Y,YAAAA,cAAc,GAAG9X,CAAC,CAACf,IAAnB;;AACA,gBAAI6Y,cAAc,CAAClZ,MAAf,GAAwB,GAA5B,EAAiC;AAC7BkZ,cAAAA,cAAc,GAAGA,cAAc,CAAC/B,MAAf,CAAsB,CAAtB,EAAyB,GAAzB,CAAjB;AACH;;AACDjJ,YAAAA,qBAAqB,CAAC+H,SAAtB,GAAkCiD,cAAlC;AACH;;AAED,cAAIA,cAAc,CAAClZ,MAAf,GAAwB,EAAxB,IAA8BkZ,cAAc,CAAClZ,MAAf,IAAyB,EAA3D,EAA+D;AAC3DiO,YAAAA,UAAU,CAACkD,SAAX,CAAqBC,GAArB,CAAyB,0BAAzB;AACH,WAFD,MAEO,IAAI8H,cAAc,CAAClZ,MAAf,GAAwB,EAA5B,EAAgC;AACnCiO,YAAAA,UAAU,CAACkD,SAAX,CAAqBC,GAArB,CAAyB,gCAAzB;AACH,WAFM,MAEA;AACHnD,YAAAA,UAAU,CAACkD,SAAX,CAAqB1H,MAArB,CAA4B,0BAA5B;AACAwE,YAAAA,UAAU,CAACkD,SAAX,CAAqB1H,MAArB,CAA4B,gCAA5B;AACH;;AACD,cAAIpJ,IAAJ,EAAU;AACN4N,YAAAA,UAAU,CAACzP,WAAX,CAAuB0P,qBAAvB;AACH,WAFD,MAEO;AACHkL,YAAAA,qBAAqB,CAACF,cAAD,CAArB;AACH;AACJ;AACJ;;AAED,eAASE,qBAAT,CAA+BF,cAA/B,EAA+C;AAC3C,YAAIjF,QAAQ,EAAZ,EAAgB;AACZ;AACH;;AACD,YAAI,CAACpM,OAAO,CAACsR,kBAAb,EAAiC;AAC7BjL,UAAAA,qBAAqB,CAACiE,SAAtB,GAAkC+G,cAAlC;AACH;AACJ;;AAED,eAASG,kBAAT,CAA4B9B,KAA5B,EAAmC0B,aAAnC,EAAkD;AAC9C;AACA,YAAIhF,QAAQ,MAAMgF,aAAa,KAAI,IAAnC,EAA0C;AACtC;AACH;;AAED,YAAI,CAACpR,OAAO,CAACsR,kBAAT,IAA+BrN,qBAAnC,EAA0D;AACtDmC,UAAAA,UAAU,CAACkD,SAAX,CAAqBC,GAArB,CAAyB,2BAAzB;AACAnD,UAAAA,UAAU,CAACkD,SAAX,CAAqB1H,MAArB,CAA4B,wBAA5B;AAEAqC,UAAAA,qBAAqB,GAAG,KAAxB;AAEA4L,UAAAA,UAAU,CAAC,YAAY;AACnBxJ,YAAAA,qBAAqB,CAAC+H,SAAtB,GAAkC,EAAlC;AACAhI,YAAAA,UAAU,CAACkD,SAAX,CAAqB1H,MAArB,CAA4B,0BAA5B;AACAwE,YAAAA,UAAU,CAACkD,SAAX,CAAqB1H,MAArB,CAA4B,gCAA5B;AACAwE,YAAAA,UAAU,CAACkD,SAAX,CAAqB1H,MAArB,CAA4B,WAA5B;AACH,WALS,EAKP8N,KAAK,IAAI,GALF,CAAV;AAMH;AACJ;;AAED,eAAS+B,OAAT,CAAiBC,KAAjB,EAAwB;AACpB,YAAIC,YAAY,GAAGD,KAAK,CAACvZ,MAAzB;AAAA,YACIyZ,cADJ;AAAA,YACoBC,WADpB;;AAGA,eAAO,MAAMF,YAAb,EAA2B;AAEvBE,UAAAA,WAAW,GAAGhD,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB4C,YAA3B,CAAd;AACAA,UAAAA,YAAY,IAAI,CAAhB;AAEAC,UAAAA,cAAc,GAAGF,KAAK,CAACC,YAAD,CAAtB;AACAD,UAAAA,KAAK,CAACC,YAAD,CAAL,GAAsBD,KAAK,CAACG,WAAD,CAA3B;AACAH,UAAAA,KAAK,CAACG,WAAD,CAAL,GAAqBD,cAArB;AACH;;AAED,eAAOF,KAAP;AACH;;AAED,eAASlQ,iBAAT,CAA2B7E,IAA3B,EAAiC;AAC7B,YAAIA,IAAI,IAAIA,IAAI,CAACmV,GAAb,IAAoBnV,IAAI,CAACmV,GAAL,CAASC,MAAT,KAAoB,IAA5C,EAAkD;AAC9CC,UAAAA,WAAW;AACd,SAFD,MAEO;AACHC,UAAAA,WAAW;AACd;;AAED,YAAItV,IAAI,IAAIA,IAAI,CAACmV,GAAb,IAAoBnV,IAAI,CAACmV,GAAL,CAAS5R,YAAT,KAA0B,IAAlD,EAAwD;AACpDgS,UAAAA,oBAAoB;AACvB,SAFD,MAEO;AACHC,UAAAA,oBAAoB;AACvB;;AAED,YAAIxV,IAAI,IAAIA,IAAI,CAACmV,GAAb,IAAoBnV,IAAI,CAACmV,GAAL,CAASrC,OAAjC,EAA2C;AACvCvL,UAAAA,cAAc,GAAGvH,IAAI,CAACmV,GAAL,CAASrC,OAA1B;AACArL,UAAAA,sBAAsB;AACzB;;AAED,YAAIzH,IAAI,IAAIA,IAAI,CAACmV,GAAb,IAAoBnV,IAAI,CAACmV,GAAL,CAASrF,UAAjC,EAA6C;AACzCvV,UAAAA,OAAO,CAACkb,IAAR,CAAa,SAAb,EAAuBzV,IAAI,CAACmV,GAAL,CAASrF,UAAhC;AACA4F,UAAAA,eAAe,CAAC1V,IAAI,CAACmV,GAAL,CAASrF,UAAV,CAAf;AACH;;AAED,YAAI9P,IAAI,IAAIA,IAAI,CAACmV,GAAb,IAAoBnV,IAAI,CAACmV,GAAL,CAASQ,OAAjC,EAA0C;AACtCC,UAAAA,gBAAgB,CAAC5V,IAAI,CAACmV,GAAL,CAASQ,OAAV,CAAhB;AACH;;AAED,YAAI3K,uBAAuB,IAAIhL,IAA/B,EAAqC;AACjCiL,UAAAA,YAAY,CAACyH,OAAb,CAAqBmD,aAAa,EAAlC,EAAsCC,IAAI,CAACC,SAAL,CAAe/V,IAAf,CAAtC;AACH;AACJ;;AAED,eAAS4E,qBAAT,CAA+BuP,GAA/B,EAAoC;AAChC5Z,QAAAA,OAAO,CAACkb,IAAR,CAAa,oBAAb,EAAmCtB,GAAnC;;AAEA,YAAI9Q,OAAO,CAAC2S,kBAAZ,EAAgC;AAC5B3S,UAAAA,OAAO,CAAC2S,kBAAR,CAA2B7B,GAA3B;AACH;;AAED,YAAIA,GAAG,KAAK,cAAZ,EAA4B;AACxBnP,UAAAA,WAAW,CAACqG,kBAAkB,CAAC1F,YAAD,CAAnB,CAAX;AACH,SAFD,MAEO,IAAIwO,GAAG,KAAK,YAAZ,EAA0B;AAC7B,cAAIpN,aAAJ,EAAmB;AACf/B,YAAAA,WAAW,CAAC+B,aAAD,CAAX;AACH,WAFD,MAEO;AACH/B,YAAAA,WAAW,CAACqG,kBAAkB,EAAnB,CAAX;AACH;AACJ;AACJ;;AAED,eAASmI,UAAT,GAAsB;AAClB;AACAxO,QAAAA,WAAW,CAACO,SAAD,CAAX;AACAhB,QAAAA,YAAY,GAAG,IAAf;;AAEA,YAAIlJ,MAAM,CAACuI,YAAX,EAAyB;AACrBvI,UAAAA,MAAM,CAACuI,YAAP,CAAoB9F,EAApB,CAAuB,MAAvB,EAA+BmY,gBAA/B;AACA5a,UAAAA,MAAM,CAACuI,YAAP,CAAoB9F,EAApB,CAAuB,QAAvB,EAAiCoY,kBAAjC;AACA7a,UAAAA,MAAM,CAACuI,YAAP,CAAoB9F,EAApB,CAAuB,YAAvB,EAAqCqY,sBAArC;AACA9a,UAAAA,MAAM,CAACuI,YAAP,CAAoB9F,EAApB,CAAuB,eAAvB,EAAwC8G,qBAAxC;AACAvJ,UAAAA,MAAM,CAACuI,YAAP,CAAoB9F,EAApB,CAAuB,SAAvB,EAAkC+G,iBAAlC;AACH;AACJ;;AAED,eAAS4O,SAAT,GAAqB;AACjB;AACA2C,QAAAA,YAAY;AACZpP,QAAAA,cAAc,GAAG,KAAjB;AAEAjI,QAAAA,SAAS,CAACf,GAAV,CAAc,UAAd,EAA0BwV,UAA1B;AACAzU,QAAAA,SAAS,CAACf,GAAV,CAAc,SAAd,EAAyByV,SAAzB;AACA1U,QAAAA,SAAS,CAACf,GAAV,CAAc,SAAd,EAAyB0V,SAAzB;AACA3U,QAAAA,SAAS,CAACf,GAAV,CAAc,WAAd,EAA2B2V,WAA3B;AACA5U,QAAAA,SAAS,CAACf,GAAV,CAAc,UAAd,EAA0B4V,UAA1B;AACA7U,QAAAA,SAAS,CAACf,GAAV,CAAc,SAAd,EAAyB6V,mBAAzB;AACAgB,QAAAA,kBAAkB;AAElB7P,QAAAA,WAAW,CAACM,OAAD,CAAX;AAEAf,QAAAA,YAAY,GAAG,KAAf;;AAEA,YAAIlJ,MAAM,CAACuI,YAAX,EAAyB;AACrBvI,UAAAA,MAAM,CAACuI,YAAP,CAAoB5F,GAApB,CAAwB,MAAxB,EAAgCiY,gBAAhC;AACA5a,UAAAA,MAAM,CAACuI,YAAP,CAAoB5F,GAApB,CAAwB,QAAxB,EAAkCkY,kBAAlC;AACA7a,UAAAA,MAAM,CAACuI,YAAP,CAAoB5F,GAApB,CAAwB,YAAxB,EAAsCmY,sBAAtC;AACA9a,UAAAA,MAAM,CAACuI,YAAP,CAAoB5F,GAApB,CAAwB,eAAxB,EAAyC4G,qBAAzC;AACAvJ,UAAAA,MAAM,CAACuI,YAAP,CAAoB5F,GAApB,CAAwB,SAAxB,EAAmC6G,iBAAnC;AACH;;AAED,YAAIxB,OAAO,CAACgT,YAAZ,EAA0B;AACtBhT,UAAAA,OAAO,CAACgT,YAAR;AACH;AACJ;;AAED,eAAS3C,SAAT,GAAqB;AACjB;AACAD,QAAAA,SAAS;AACTa,QAAAA,KAAK,CAACrO,eAAD,CAAL;AACAjB,QAAAA,WAAW,CAACc,iBAAD,CAAX;AACH;;AAED,eAAS6N,WAAT,CAAqB/W,CAArB,EAAwB;AACpB;AACAoK,QAAAA,cAAc,GAAG,IAAjB;AACAhC,QAAAA,WAAW,CAACQ,QAAD,CAAX;AACAgC,QAAAA,cAAc;AACjB;;AAED,eAASoM,UAAT,CAAoBhX,CAApB,EAAuB;AACnB;AACAoK,QAAAA,cAAc,GAAG,KAAjB;AACAhC,QAAAA,WAAW,CAACO,SAAD,CAAX;AACAiC,QAAAA,cAAc;AACjB;;AAED,eAASyO,gBAAT,CAA0BrZ,CAA1B,EAA6B;AACzB;AACA4K,QAAAA,cAAc;AACjB;;AAED,eAAS0O,kBAAT,CAA4BtZ,CAA5B,EAA+B;AAC3B;AACA4K,QAAAA,cAAc;AACdgN,QAAAA,kBAAkB,CAAC5X,CAAD,CAAlB;AACH;;AAED,eAASuZ,sBAAT,CAAgCvZ,CAAhC,EAAmC;AAC/B;AACA,YAAIyG,OAAO,CAACiT,uBAAZ,EAAqC;AACjCjT,UAAAA,OAAO,CAACiT,uBAAR,CAAgC1Z,CAAhC;AACH;;AAED,YAAIA,CAAC,CAAC2Z,KAAF,KAAY,IAAhB,EAAsB;AAClBvR,UAAAA,WAAW,CAACU,UAAD,CAAX;AACH,SAFD,MAEO;AACHV,UAAAA,WAAW,CAACS,YAAD,CAAX;AACH;;AAED+O,QAAAA,kBAAkB,CAAC5X,CAAD,CAAlB;AACA4K,QAAAA,cAAc;AACjB;;AAED,eAASqM,mBAAT,CAA6BjX,CAA7B,EAAgC;AAC5B;AACA,YAAIyG,OAAO,CAACmT,SAAZ,EAAuB;AACnBnT,UAAAA,OAAO,CAACmT,SAAR,CAAkB5Z,CAAC,CAACoD,IAApB;AACH;;AACDgF,QAAAA,WAAW,CAACO,SAAD,CAAX;AACAiC,QAAAA,cAAc;AACjB;;AAED,eAAS8L,WAAT,GAAuB;AACnB,YAAI,CAAC1J,wBAAL,EAA+B;AAC3BE,UAAAA,YAAY,CAAC2M,IAAb,GAAoBC,KAApB,CAA0B,YAAY;AAClCnc,YAAAA,OAAO,CAAC8B,GAAR,CAAY,uEAAZ;AACH,WAFD;AAGH;AACJ;;AAED,eAAS+Z,YAAT,GAAwB;AACpB,YAAI,CAACvM,yBAAL,EAAgC;AAC5BG,UAAAA,aAAa,CAACyM,IAAd,GAAqBC,KAArB,CAA2B,YAAY;AACnCnc,YAAAA,OAAO,CAAC8B,GAAR,CAAY,yEAAZ;AACH,WAFD;AAGH;AACJ;;AAEDhB,MAAAA,MAAM,CAAC2J,WAAP,GAAqBA,WAArB;;AAEA,eAASA,WAAT,CAAqB2R,QAArB,EAA+B;AAE3B;AAEA,YAAIC,aAAa,GAAG,EAApB;AAAA,YACI1a,CAAC,GAAG,CADR;;AAGA,YAAIya,QAAQ,KAAKhR,YAAjB,EAA+B;AAC3BoB,UAAAA,aAAa,GAAG4P,QAAhB;AACH;;AAEDlQ,QAAAA,aAAa,GAAG,IAAhB;;AAEA,YAAIkQ,QAAQ,KAAKrR,OAAjB,EAA0B;AACtB6C,UAAAA,GAAG,CAACqE,KAAJ,CAAUuC,SAAV,GAAsB,EAAtB;AACAxG,UAAAA,OAAO,CAACiE,KAAR,CAAcuC,SAAd,GAA0B,EAA1B;AACA5F,UAAAA,eAAe,CAACqD,KAAhB,CAAsBuC,SAAtB,GAAkC,EAAlC;AAEA9E,UAAAA,YAAY,CAAC0C,SAAb,CAAuB1H,MAAvB,CAA8B,cAA9B;AACAgF,UAAAA,YAAY,CAACuC,KAAb,CAAmBkC,OAAnB,GAA6BW,SAA7B;AACA/E,UAAAA,QAAQ,CAACkC,KAAT,CAAeuC,SAAf,GAA2B,EAA3B;AACAxE,UAAAA,QAAQ,CAACiC,KAAT,CAAeuC,SAAf,GAA2B,EAA3B;AACAzE,UAAAA,QAAQ,CAACkC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACAnE,UAAAA,QAAQ,CAACiC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACAmI,UAAAA,cAAc,CAACvR,OAAD,CAAd;AAEAiD,UAAAA,OAAO,CAACiE,KAAR,CAAckC,OAAd,GAAwB,CAAxB;AACAvF,UAAAA,eAAe,CAACqD,KAAhB,CAAsBkC,OAAtB,GAAgC,CAAhC;AAEAc,UAAAA,UAAU,CAAC,CACPtF,cADO,EAEPC,aAFO,EAGPC,iBAHO,EAIPC,eAJO,CAAD,CAAV;AAMH,SAtBD,MAsBO,IAAIsM,QAAQ,KAAKpR,SAAjB,EAA4B;AAC/B4C,UAAAA,GAAG,CAACqE,KAAJ,CAAUuC,SAAV,GAAsBnH,kBAAtB;AACAW,UAAAA,OAAO,CAACiE,KAAR,CAAcuC,SAAd,GAA0BlH,qBAA1B;AACAsB,UAAAA,eAAe,CAACqD,KAAhB,CAAsBuC,SAAtB,GAAkCjH,6BAAlC;AAEAoC,UAAAA,cAAc,CAACyC,SAAf,CAAyB1H,MAAzB,CAAgC,cAAhC;AACAiF,UAAAA,cAAc,CAACsC,KAAf,CAAqBkC,OAArB,GAA+BW,SAA/B;AAEA/E,UAAAA,QAAQ,CAACkC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACAnE,UAAAA,QAAQ,CAACiC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AAEAmI,UAAAA,cAAc,CAACtR,SAAD,CAAd;AAEAgD,UAAAA,OAAO,CAACiE,KAAR,CAAckC,OAAd,GAAwB,CAAxB;AACAvF,UAAAA,eAAe,CAACqD,KAAhB,CAAsBkC,OAAtB,GAAgC,CAAhC;AAEAc,UAAAA,UAAU,CAAC,CACPrF,aADO,EAEPC,iBAFO,EAGPC,eAHO,CAAD,CAAV;AAKH,SArBM,MAqBA,IAAIsM,QAAQ,KAAKnR,QAAjB,EAA2B;AAC9BqP,UAAAA,kBAAkB;AAClB1M,UAAAA,GAAG,CAACqE,KAAJ,CAAUuC,SAAV,GAAsBnH,kBAAtB;AAEAuC,UAAAA,aAAa,CAACwC,SAAd,CAAwB1H,MAAxB,CAA+B,cAA/B;AACAkF,UAAAA,aAAa,CAACqC,KAAd,CAAoBkC,OAApB,GAA8BW,SAA9B;AACA/E,UAAAA,QAAQ,CAACkC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACAnE,UAAAA,QAAQ,CAACiC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACAmI,UAAAA,cAAc,CAACrR,QAAD,CAAd;AAEAgK,UAAAA,UAAU,CAAC,CACPvF,YADO,EAEPC,cAFO,EAGPE,iBAHO,EAIPC,eAJO,CAAD,CAAV;AAMH,SAhBM,MAgBA,IAAIsM,QAAQ,KAAKlR,YAAjB,EAA+B;AAClC0C,UAAAA,GAAG,CAACqE,KAAJ,CAAUuC,SAAV,GAAsBnH,kBAAtB;AAEAwC,UAAAA,iBAAiB,CAACuC,SAAlB,CAA4B1H,MAA5B,CAAmC,cAAnC;AACAmF,UAAAA,iBAAiB,CAACoC,KAAlB,CAAwBkC,OAAxB,GAAkCW,SAAlC;AACA/E,UAAAA,QAAQ,CAACkC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACAnE,UAAAA,QAAQ,CAACiC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACAmI,UAAAA,cAAc,CAACpR,YAAD,CAAd;AACA8C,UAAAA,OAAO,CAACiE,KAAR,CAAckC,OAAd,GAAwB,CAAxB;AACAvF,UAAAA,eAAe,CAACqD,KAAhB,CAAsBkC,OAAtB,GAAgC,CAAhC;AAEAc,UAAAA,UAAU,CAAC,CACPvF,YADO,EAEPC,cAFO,EAGPC,aAHO,EAIPE,eAJO,CAAD,CAAV;AAOH,SAlBM,MAkBA,IAAIsM,QAAQ,KAAKjR,UAAjB,EAA6B;AAChCyC,UAAAA,GAAG,CAACqE,KAAJ,CAAUuC,SAAV,GAAsBnH,kBAAtB;AAEAyC,UAAAA,eAAe,CAACsC,SAAhB,CAA0B1H,MAA1B,CAAiC,cAAjC;AACAoF,UAAAA,eAAe,CAACmC,KAAhB,CAAsBkC,OAAtB,GAAgCW,SAAhC;AACA/E,UAAAA,QAAQ,CAACkC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACAnE,UAAAA,QAAQ,CAACiC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACAmI,UAAAA,cAAc,CAACnR,UAAD,CAAd;AAEA6C,UAAAA,OAAO,CAACiE,KAAR,CAAckC,OAAd,GAAwB,CAAxB;AACAvF,UAAAA,eAAe,CAACqD,KAAhB,CAAsBkC,OAAtB,GAAgC,CAAhC;AAEAc,UAAAA,UAAU,CAAC,CACPvF,YADO,EAEPC,cAFO,EAGPC,aAHO,EAIPC,iBAJO,CAAD,CAAV;AAOH;;AAED,YAAIuM,QAAQ,KAAKnR,QAAjB,EAA2B;AACvB2D,UAAAA,eAAe,CAACqD,KAAhB,CAAsBkC,OAAtB,GAAgC,CAAhC;AACAtF,UAAAA,aAAa,CAACoD,KAAd,CAAoBkC,OAApB,GAA8B,CAA9B;AACAvF,UAAAA,eAAe,CAACqD,KAAhB,CAAsBoC,cAAtB,GAAuC,OAAvC;AACAxF,UAAAA,aAAa,CAACoD,KAAd,CAAoBoC,cAApB,GAAqC,WAArC;AACH,SALD,MAKQ;AACJxF,UAAAA,aAAa,CAACoD,KAAd,CAAoBkC,OAApB,GAA8B,CAA9B;AACAtF,UAAAA,aAAa,CAACoD,KAAd,CAAoBoC,cAApB,GAAqC,OAArC;AACAzF,UAAAA,eAAe,CAACqD,KAAhB,CAAsBoC,cAAtB,GAAuC,WAAvC;AACH;;AAED,YAAI+H,QAAQ,KAAKrR,OAAjB,EAA0B;AACtB6D,UAAAA,eAAe,CAACwD,SAAhB,CAA0BC,GAA1B,CAA8B,2BAA9B;AACH,SAFD,MAEO;AACHzD,UAAAA,eAAe,CAACwD,SAAhB,CAA0B1H,MAA1B,CAAiC,2BAAjC;AACH;;AAED2R,QAAAA,aAAa,GAAG,CACZnO,UADY,EAEZC,UAFY,EAGZC,UAHY,EAIZC,UAJY,EAKZC,UALY,EAMZC,UANY,EAOZC,UAPY,EAQZC,UARY,EASZC,UATY,EAUZC,WAVY,CAAhB;;AAaA,YAAG,CAACjC,gBAAJ,EAAsB;AAClB,cAAI0P,QAAQ,KAAKpR,SAAb,IACAoR,QAAQ,KAAKlR,YADb,IAEAkR,QAAQ,KAAKnR,QAFb,IAGAmR,QAAQ,KAAKjR,UAHjB,EAG6B;AAEzB,gBAAI+C,UAAU,CAAC+D,KAAX,CAAiBsK,aAAjB,KAAmC,EAAvC,EAA2C;AACvC,mBAAK5a,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG0a,aAAa,CAACpb,MAA9B,EAAsCU,CAAC,EAAvC,EAA2C;AACvC,oBAAIA,CAAC,KAAK,CAAV,EAAa;AACT0a,kBAAAA,aAAa,CAAC1a,CAAD,CAAb,CAAiBsQ,KAAjB,CAAuBkC,OAAvB,GAAiC,CAAjC;AACH,iBAFD,MAEO;AACHkI,kBAAAA,aAAa,CAAC1a,CAAD,CAAb,CAAiBsQ,KAAjB,CAAuBkC,OAAvB,GAAiC,CAAjC;AACH;;AACDkI,gBAAAA,aAAa,CAAC1a,CAAD,CAAb,CAAiBsQ,KAAjB,CAAuBsK,aAAvB,GAAuC,iBAAiB5a,CAAC,GAAG,CAArB,IAA0B,YAAjE;AACH;AACJ;;AACDsM,YAAAA,mBAAmB,CAACgE,KAApB,CAA0BkC,OAA1B,GAAoC,CAApC;AACH,WAhBD,MAgBO;AACHlG,YAAAA,mBAAmB,CAACgE,KAApB,CAA0BkC,OAA1B,GAAoC,CAApC;;AACA,iBAAKxS,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG0a,aAAa,CAACpb,MAA9B,EAAsCU,CAAC,EAAvC,EAA2C;AACvC0a,cAAAA,aAAa,CAAC1a,CAAD,CAAb,CAAiBsQ,KAAjB,CAAuBkC,OAAvB,GAAiC,CAAjC;AACAkI,cAAAA,aAAa,CAAC1a,CAAD,CAAb,CAAiBsQ,KAAjB,CAAuBsK,aAAvB,GAAuC,EAAvC;AACH;AACJ;AACJ;;AAED,YAAIH,QAAQ,KAAK9Q,UAAb,IAA2B8Q,QAAQ,KAAK7Q,iBAAxC,IAA6D6Q,QAAQ,KAAK5Q,gBAA1E,IAA8F4Q,QAAQ,KAAK3Q,iBAA/G,EAAkI;AAC9H,cAAI2Q,QAAQ,KAAK9Q,UAAjB,EAA6B;AACzBX,YAAAA,MAAM,CAACyH,SAAP,CAAiBC,GAAjB,CAAqB,qBAArB;AACAnG,YAAAA,aAAa,GAAGF,cAAhB;AACH,WAHD,MAGO,IAAIoQ,QAAQ,KAAK7Q,iBAAjB,EAAoC;AACvCZ,YAAAA,MAAM,CAACyH,SAAP,CAAiBC,GAAjB,CAAqB,4BAArB;AACAnG,YAAAA,aAAa,GAAGR,eAAhB;AACH,WAHM,MAGA,IAAI0Q,QAAQ,KAAK5Q,gBAAb,IAAiC4Q,QAAQ,KAAK3Q,iBAAlD,EAAqE;AACxEd,YAAAA,MAAM,CAACyH,SAAP,CAAiBC,GAAjB,CAAqB,2BAArB;;AACA,gBAAI+J,QAAQ,KAAK5Q,gBAAjB,EAAmC;AAC/BU,cAAAA,aAAa,GAAGP,+BAAhB;AACH,aAFD,MAEO,IAAIyQ,QAAQ,KAAK3Q,iBAAjB,EAAoC;AACvCS,cAAAA,aAAa,GAAGL,qBAAhB;AACH;AACJ;;AAED,cAAIuQ,QAAQ,KAAK5Q,gBAAjB,EAAmC;AAC/BwD,YAAAA,qBAAqB,CAACiD,KAAtB,CAA4BkC,OAA5B,GAAsC,CAAtC;AACApF,YAAAA,gBAAgB,CAACkD,KAAjB,CAAuBkC,OAAvB,GAAiC,CAAjC;AACH,WAHD,MAGO;AACHnF,YAAAA,qBAAqB,CAACiD,KAAtB,CAA4BkC,OAA5B,GAAsC,CAAtC;AACApF,YAAAA,gBAAgB,CAACkD,KAAjB,CAAuBkC,OAAvB,GAAiC,CAAjC;AACH;;AACDnG,UAAAA,OAAO,CAACiE,KAAR,CAAckC,OAAd,GAAwB,CAAxB;AACAvF,UAAAA,eAAe,CAACqD,KAAhB,CAAsBkC,OAAtB,GAAgC,CAAhC;AACArF,UAAAA,yBAAyB,CAACmD,KAA1B,CAAgCkC,OAAhC,GAA0C,CAA1C;AACAlF,UAAAA,WAAW,CAACgD,KAAZ,CAAkBkC,OAAlB,GAA4B,CAA5B;AACApE,UAAAA,QAAQ,CAACkC,KAAT,CAAeuC,SAAf,GAA2B,EAA3B;AACAxE,UAAAA,QAAQ,CAACiC,KAAT,CAAeuC,SAAf,GAA2B,EAA3B;AACAzE,UAAAA,QAAQ,CAACkC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACAnE,UAAAA,QAAQ,CAACiC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACH,SA/BD,MA+BO,IAAIiI,QAAQ,KAAKhR,YAAb,IAA6BgR,QAAQ,KAAK/Q,OAA9C,EAAwD;AAC3D,cAAI+Q,QAAQ,KAAKhR,YAAjB,EAA+B;AAC3BT,YAAAA,MAAM,CAACyH,SAAP,CAAiBC,GAAjB,CAAqB,uBAArB;AACH;;AACD,cAAI+J,QAAQ,KAAK/Q,OAAjB,EAA0B;AACtBV,YAAAA,MAAM,CAACyH,SAAP,CAAiBC,GAAjB,CAAqB,kBAArB;AACAnG,YAAAA,aAAa,GAAGD,WAAhB;AACH;;AACD2C,UAAAA,eAAe,CAACqD,KAAhB,CAAsBkC,OAAtB,GAAgC,CAAhC;AACApF,UAAAA,gBAAgB,CAACkD,KAAjB,CAAuBkC,OAAvB,GAAiC,CAAjC;AACApE,UAAAA,QAAQ,CAACkC,KAAT,CAAeuC,SAAf,GAA2B,EAA3B;AACAxE,UAAAA,QAAQ,CAACiC,KAAT,CAAeuC,SAAf,GAA2B,EAA3B;AACAzE,UAAAA,QAAQ,CAACkC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;AACAnE,UAAAA,QAAQ,CAACiC,KAAT,CAAekC,OAAf,GAAyB,CAAzB;;AAEA,cAAIiI,QAAQ,KAAKhR,YAAjB,EAA+B;AAC3B4C,YAAAA,OAAO,CAACiE,KAAR,CAAckC,OAAd,GAAwB,CAAxB;AACArF,YAAAA,yBAAyB,CAACmD,KAA1B,CAAgCkC,OAAhC,GAA0C,CAA1C;AACH,WAHD,MAGO;AACHnG,YAAAA,OAAO,CAACiE,KAAR,CAAckC,OAAd,GAAwB,CAAxB;AACArF,YAAAA,yBAAyB,CAACmD,KAA1B,CAAgCkC,OAAhC,GAA0C,CAA1C;AACAlF,YAAAA,WAAW,CAACgD,KAAZ,CAAkBkC,OAAlB,GAA4B,CAA5B;AACH;AACJ,SAvBM,MAuBA;AACHpF,UAAAA,gBAAgB,CAACkD,KAAjB,CAAuBkC,OAAvB,GAAiC,CAAjC;AACAlF,UAAAA,WAAW,CAACgD,KAAZ,CAAkBkC,OAAlB,GAA4B,CAA5B;AACArF,UAAAA,yBAAyB,CAACmD,KAA1B,CAAgCkC,OAAhC,GAA0C,CAA1C;AACAxJ,UAAAA,MAAM,CAACyH,SAAP,CAAiB1H,MAAjB,CAAwB,qBAAxB;AACAC,UAAAA,MAAM,CAACyH,SAAP,CAAiB1H,MAAjB,CAAwB,4BAAxB;AACAC,UAAAA,MAAM,CAACyH,SAAP,CAAiB1H,MAAjB,CAAwB,uBAAxB;AACAC,UAAAA,MAAM,CAACyH,SAAP,CAAiB1H,MAAjB,CAAwB,kBAAxB;AACAC,UAAAA,MAAM,CAACyH,SAAP,CAAiB1H,MAAjB,CAAwB,2BAAxB;AACH;;AAED3I,QAAAA,KAAK,GAAGqa,QAAR;AACH,OApxDqB,CAsxDtB;AAEA;;;AACA,eAASvH,aAAT,CAAuBxB,EAAvB,EAA2BmJ,eAA3B,EAA4C;AACxCnJ,QAAAA,EAAE,CAACpB,KAAH,CAASwB,UAAT,GAAsB,iBAAtB;AACAJ,QAAAA,EAAE,CAACpB,KAAH,CAASnH,QAAT,GAAoB,UAApB;AACAuI,QAAAA,EAAE,CAACpB,KAAH,CAASP,GAAT,GAAe,KAAf;AACA2B,QAAAA,EAAE,CAACpB,KAAH,CAAST,IAAT,GAAgB,KAAhB;AACA6B,QAAAA,EAAE,CAACpB,KAAH,CAASgB,KAAT,GAAiB,MAAjB;AACAI,QAAAA,EAAE,CAACpB,KAAH,CAASQ,MAAT,GAAkB,MAAlB;AACAY,QAAAA,EAAE,CAACpB,KAAH,CAASW,YAAT,GAAwB,KAAxB;AACAS,QAAAA,EAAE,CAACpB,KAAH,CAASD,MAAT,GAAkBxB,gBAAlB;AACA6C,QAAAA,EAAE,CAACpB,KAAH,CAASqC,kBAAT,GAA8B,KAA9B;AACAjB,QAAAA,EAAE,CAACpB,KAAH,CAASkC,OAAT,GAAmB,CAAnB;AACAd,QAAAA,EAAE,CAACpB,KAAH,CAASkC,OAAT,GAAmB,CAAnB;AACAd,QAAAA,EAAE,CAACpB,KAAH,CAASwB,UAAT,GAAsB,2BAAtB;AACAJ,QAAAA,EAAE,CAACpB,KAAH,CAASuC,SAAT,GAAqB/G,iBAArB;AACH;;AAED,eAASwH,UAAT,CAAoBwH,MAApB,EAA4B;AACxB,aAAK,IAAI9a,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8a,MAAM,CAACxb,MAA3B,EAAmCU,CAAC,EAApC,EAAwC;AACpC8a,UAAAA,MAAM,CAAC9a,CAAD,CAAN,CAAUsQ,KAAV,CAAgBkC,OAAhB,GAA0BY,UAA1B;AACA0H,UAAAA,MAAM,CAAC9a,CAAD,CAAN,CAAUyQ,SAAV,CAAoBC,GAApB,CAAwB,cAAxB;AACH;AACJ;;AAED,eAASiK,cAAT,CAAwBva,KAAxB,EAA+B;AAC3B,YAAI2a,YAAY,GAAG,CAAC3M,QAAD,EAAWC,QAAX,CAAnB;AACA,YAAI2M,YAAY,GAAG5a,KAAK,IAAIgJ,OAA5B;AACA,YAAI6R,kBAAkB,GAAG,CACrB,qBAAqB7R,OADA,EAErB,qBAAqBC,SAFA,EAGrB,qBAAqBE,YAHA,EAIrB,qBAAqBC,UAJA,EAKrB,qBAAqBF,QALA,CAAzB;;AAQA,aAAK,IAAItJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+a,YAAY,CAACzb,MAAjC,EAAyCU,CAAC,EAA1C,EAA8C;AAC1C,eAAK,IAAIoV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6F,kBAAkB,CAAC3b,MAAvC,EAA+C8V,CAAC,EAAhD,EAAoD;AAChD2F,YAAAA,YAAY,CAAC/a,CAAD,CAAZ,CAAgByQ,SAAhB,CAA0B1H,MAA1B,CAAiCkS,kBAAkB,CAAC7F,CAAD,CAAnD;AACH;;AACD2F,UAAAA,YAAY,CAAC/a,CAAD,CAAZ,CAAgByQ,SAAhB,CAA0BC,GAA1B,CAA8B,qBAAqBsK,YAAnD;AACH;AACJ;;AAED,eAASrB,aAAT,GAAyB;AACrB,YAAInR,GAAG,GAAG,EAAV;;AACA,YAAIrB,OAAO,IAAIA,OAAO,CAACqB,GAAvB,EAA4B;AACxBA,UAAAA,GAAG,GAAGrB,OAAO,CAACqB,GAAd;AACH;;AACD,eAAO,sBAAsBA,GAA7B;AACH;;AAED,eAAS+K,QAAT,GAAoB;AAChB,YAAI,4DAA4DnD,IAA5D,CAAiErS,SAAS,CAACmd,SAA3E,CAAJ,EAA2F;AACvF,iBAAO,IAAP;AACH;;AACD,eAAO,KAAP;AACH;;AAED,eAAS9L,cAAT,GAA0B;AACtB,YAAI+L,QAAQ,GAAG,KAAf;AACA,YAAIhR,QAAQ,GAAGhL,MAAM,CAAC8D,QAAP,CAAgBkH,QAA/B;AACA,YAAIC,QAAQ,GAAGjL,MAAM,CAAC8D,QAAP,CAAgBmH,QAA/B;;AAEA,YAAID,QAAQ,KAAK,QAAjB,EAA2B;AACvBgR,UAAAA,QAAQ,GAAG,IAAX;AACH;;AAED,YAAIhR,QAAQ,KAAK,OAAjB,EAA0B;AACtBgR,UAAAA,QAAQ,GAAG,IAAX;AACH;;AAED,YAAIhR,QAAQ,KAAK,OAAb,KAAyBC,QAAQ,CAACpI,OAAT,CAAiB,WAAjB,IAAgC,CAAC,CAAjC,IAAsCoI,QAAQ,CAACpI,OAAT,CAAiB,WAAjB,IAAgC,CAAC,CAAhG,CAAJ,EAAwG;AACpGmZ,UAAAA,QAAQ,GAAG,IAAX;AACH;;AAED,eAAOA,QAAP;AACH;;AAED,eAAS9L,gBAAT,GAA4B;AACxB,YAAI+L,SAAS,GAAG,KAAhB;AAAA,YACIC,gBADJ;AAAA,YAEIC,WAFJ;AAIAD,QAAAA,gBAAgB,GAAItd,SAAS,CAACC,YAAV,IAChBD,SAAS,CAACE,kBADM,IAEhBF,SAAS,CAACG,eAFM,IAGhBH,SAAS,CAACI,cAHd;AAKAmd,QAAAA,WAAW,GAAGnc,MAAM,CAACC,YAAP,IACVD,MAAM,CAACE,kBADG,IAEVF,MAAM,CAACoc,eAFX;;AAIA,YAAIF,gBAAgB,IAAIC,WAAxB,EAAqC;AACjCF,UAAAA,SAAS,GAAG,IAAZ;AACH;;AAED,eAAOA,SAAP;AACH;;AAED,eAASnR,YAAT,GAAwB;AACpB,YAAIsP,IAAI,GAAG,iBAAX;AAEAA,QAAAA,IAAI,IAAI,iBAAR;AACAA,QAAAA,IAAI,IAAIxb,SAAS,CAACC,YAAV,GAAyB,MAAzB,GAAkC,OAA1C;AACAub,QAAAA,IAAI,IAAI,IAAR;AAEAA,QAAAA,IAAI,IAAI,8BAAR;AACAA,QAAAA,IAAI,IAAKxb,SAAS,CAACK,YAAV,IAA0BL,SAAS,CAACK,YAAV,CAAuBJ,YAAlD,GAAkE,MAAlE,GAA2E,OAAnF;AACAub,QAAAA,IAAI,IAAI,IAAR;AAEAA,QAAAA,IAAI,IAAI,uBAAR;AACAA,QAAAA,IAAI,IAAIxb,SAAS,CAACE,kBAAV,GAA+B,MAA/B,GAAwC,OAAhD;AACAsb,QAAAA,IAAI,IAAI,IAAR;AAEAA,QAAAA,IAAI,IAAI,oBAAR;AACAA,QAAAA,IAAI,IAAIxb,SAAS,CAACG,eAAV,GAA4B,MAA5B,GAAqC,OAA7C;AACAqb,QAAAA,IAAI,IAAI,IAAR;AAEAA,QAAAA,IAAI,IAAI,mBAAR;AACAA,QAAAA,IAAI,IAAIxb,SAAS,CAACI,cAAV,GAA2B,MAA3B,GAAoC,OAA5C;AACAob,QAAAA,IAAI,IAAI,IAAR;AAEAA,QAAAA,IAAI,IAAI,iBAAR;AACAA,QAAAA,IAAI,IAAIpa,MAAM,CAACC,YAAP,GAAsB,MAAtB,GAA+B,OAAvC;AACAma,QAAAA,IAAI,IAAI,IAAR;AAEAA,QAAAA,IAAI,IAAI,uBAAR;AACAA,QAAAA,IAAI,IAAIpa,MAAM,CAACE,kBAAP,GAA4B,MAA5B,GAAqC,OAA7C;AACAka,QAAAA,IAAI,IAAI,IAAR;AAEAA,QAAAA,IAAI,IAAI,oBAAR;AACAA,QAAAA,IAAI,IAAIpa,MAAM,CAACoc,eAAP,GAAyB,MAAzB,GAAkC,OAA1C;AACAhC,QAAAA,IAAI,IAAI,IAAR;AAEAA,QAAAA,IAAI,IAAI,WAAR;AACAA,QAAAA,IAAI,IAAI,4DAA4DnJ,IAA5D,CAAiErS,SAAS,CAACmd,SAA3E,CAAR;AACA3B,QAAAA,IAAI,IAAI,IAAR;AAEAA,QAAAA,IAAI,IAAI,cAAR;AACAA,QAAAA,IAAI,IAAIxb,SAAS,CAACmd,SAAlB;AAEA,eAAO3B,IAAP;AACH,OAt6DqB,CAw6DtB;AAEA;;;AACA,eAASH,WAAT,GAAuB;AACnBpQ,QAAAA,MAAM,CAACuM,SAAP,GAAmB,EAAnB;AAEAhI,QAAAA,UAAU,CAACzP,WAAX,CAAuB0P,qBAAvB;AAEAxE,QAAAA,MAAM,CAAClL,WAAP,CAAmByP,UAAnB;AACAvE,QAAAA,MAAM,CAAClL,WAAP,CAAmBmO,GAAnB;AACA7E,QAAAA,WAAW,GAAG,KAAd;AACH;;AAED,eAAS+R,WAAT,GAAuB;AACnB,YAAI,CAACvJ,WAAW,EAAhB,EAAoB;AAChB/M,UAAAA,SAAS,CAACR,IAAV;AACA2G,UAAAA,MAAM,CAACuM,SAAP,GAAmB,EAAnB;;AACA,cAAInP,IAAI,KAAK,MAAb,EAAqB;AACjB4C,YAAAA,MAAM,CAAClL,WAAP,CAAmB2P,sBAAnB;AACH;;AACDrG,UAAAA,WAAW,GAAG,IAAd;AACH;AACJ;;AAED,eAASkS,oBAAT,GAAgC;AAC5BjS,QAAAA,YAAY,GAAG,KAAf;AACH;;AAED,eAASgS,oBAAT,GAAgC;AAC5BhS,QAAAA,YAAY,GAAG,IAAf;AACAsR,QAAAA,kBAAkB;AACrB;;AAED,eAASa,eAAT,CAAyB5F,UAAzB,EAAqC;AACjC,YAAIA,UAAJ,EAAgB;AACZJ,UAAAA,oBAAoB,CAACI,UAAD,CAApB;AACH;AACJ;;AAED,eAAS8F,gBAAT,CAA0BD,OAA1B,EAAmC;AAC/B,YAAIA,OAAJ,EAAa;AACT1O,UAAAA,gBAAgB,GAAG0O,OAAnB;AACAnN,UAAAA,mBAAmB,CAAC1J,GAApB,GAA0B6W,OAA1B;AACApN,UAAAA,OAAO,CAACzJ,GAAR,GAAc6W,OAAd;AACAxM,UAAAA,eAAe,CAACrK,GAAhB,GAAsB6W,OAAtB;AACAxM,UAAAA,eAAe,CAACwD,SAAhB,CAA0B1H,MAA1B,CAAiC,mBAAjC,EALS,CAMT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;AACJ;;AAEDC,MAAAA,MAAM,CAACyH,SAAP,CAAiBC,GAAjB,CAAqB,cAArB;AACA1H,MAAAA,MAAM,CAACyH,SAAP,CAAiBC,GAAjB,CAAqB,UAAUiD,YAAY,EAA3C;AAEA,UAAI6H,mBAAmB,GAAG,IAA1B;;AAEA,UAAI5L,WAAW,EAAf,EAAmB;AACfwJ,QAAAA,WAAW;AACd,OAFD,MAEO;AACH,YAAItK,uBAAJ,EAA6B;AACzB,cAAI;AACA8G,YAAAA,+BAA+B;AAClC,WAFD,CAEE,OAAOlV,CAAP,EAAU;AACR0Y,YAAAA,WAAW;AACd;AACJ,SAND,MAMO;AACHA,UAAAA,WAAW;AACd;AACJ;;AAED,eAASxD,+BAAT,GAA2C;AACvC,YAAI9G,uBAAJ,EAA6B;AACzB,cAAI;AACA0M,YAAAA,mBAAmB,GAAG5B,IAAI,CAAC6B,KAAL,CAAW1M,YAAY,CAACC,OAAb,CAAqB2K,aAAa,EAAlC,CAAX,CAAtB;;AAEA,gBAAI6B,mBAAmB,IAAIA,mBAAmB,CAACvC,GAA/C,EAAoD;AAEhD,kBAAIuC,mBAAmB,CAACvC,GAApB,CAAwBrF,UAA5B,EAAwC;AACpC4F,gBAAAA,eAAe,CAACgC,mBAAmB,CAACvC,GAApB,CAAwBrF,UAAzB,CAAf;AACH;;AAED,kBAAI4H,mBAAmB,CAACvC,GAApB,CAAwBC,MAAxB,KAAmC,IAAvC,EAA6C;AACzCE,gBAAAA,WAAW;AACd,eAFD,MAEO;AACHD,gBAAAA,WAAW;AACd;AAEJ;AACJ,WAhBD,CAgBE,OAAOzY,CAAP,EAAU,CAEX;AACJ;AACJ;;AAED,UAAI,CAACyG,OAAO,CAAC6B,MAAb,EAAqB;AACjBnL,QAAAA,IAAI,CAACC,WAAL,CAAiBkL,MAAjB;AACH,OAhhEqB,CAihEtB;AAEA;AAEA;;;AACA,UAAI0S,wBAAwB,GAAG,CAAC,CAAD,EAAI,CAAJ,CAA/B;AACA,UAAIC,SAAS,GAAG,KAAhB;AACA,UAAIzD,cAAc,GAAG,KAArB;AACA,UAAI0D,aAAa,GAAG,IAApB;AACA,UAAIC,SAAJ;AACA,UAAIC,YAAJ;AACA,UAAIC,eAAJ;AACA,UAAIC,gBAAJ;AACA,UAAIC,YAAY,GAAG,GAAnB;AACA,UAAIC,iBAAiB,GAAGD,YAAY,GAAG,IAAvC;AACA,UAAI9D,mBAAmB,GAAG,IAA1B;;AAEA,UAAI,CAAC7Q,MAAL,EAAa;AACT0B,QAAAA,MAAM,CAACvL,gBAAP,CAAwB,WAAxB,EAAqC0e,WAArC,EAAkD,IAAlD;AACAnT,QAAAA,MAAM,CAACvL,gBAAP,CAAwB,YAAxB,EAAsC0e,WAAtC,EAAmD;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAAnD;AAEA9e,QAAAA,QAAQ,CAACG,gBAAT,CAA0B,SAA1B,EAAqC4e,SAArC,EAAgD,IAAhD;AACA/e,QAAAA,QAAQ,CAACG,gBAAT,CAA0B,UAA1B,EAAsC4e,SAAtC,EAAiD;AAAED,UAAAA,OAAO,EAAE;AAAX,SAAjD;AAEA9e,QAAAA,QAAQ,CAACG,gBAAT,CAA0B,WAA1B,EAAuC6e,WAAvC,EAAoD,IAApD;AACAhf,QAAAA,QAAQ,CAACG,gBAAT,CAA0B,WAA1B,EAAuC6e,WAAvC,EAAoD;AAAEF,UAAAA,OAAO,EAAE;AAAX,SAApD;AACH;;AAED,eAASD,WAAT,CAAqBzb,CAArB,EAAwB;AACpBrC,QAAAA,OAAO,CAACkb,IAAR,CAAa,aAAb,EAA4B7Y,CAA5B;AACA,YAAI6b,OAAO,GAAG7b,CAAC,CAAC8b,OAAF,GAAY9b,CAAC,CAAC8b,OAAF,CAAU,CAAV,CAAZ,GAA2B9b,CAAzC;AACA,YAAI,CAACyX,mBAAD,IAAwBzX,CAAC,CAAC+b,OAAF,KAAc,CAA1C,EAA6C;AAC7Cd,QAAAA,SAAS,GAAG,IAAZ;AACA3S,QAAAA,MAAM,CAACsH,KAAP,CAAawB,UAAb,GAA0B,KAA1B;;AACA,YAAI,CAAC8J,aAAL,EAAoB;AAChBA,UAAAA,aAAa,GAAG5Q,aAAa,GAAGhC,MAAM,CAAC0T,UAAV,GAAuBvd,MAAM,CAACwd,UAAP,GAAoB3T,MAAM,CAAC0T,UAA/E;AACH;;AAEDhB,QAAAA,wBAAwB,GAAG,CACvBa,OAAO,CAACK,OADe,EAEvBL,OAAO,CAACM,OAFe,CAA3B;;AAIA,YAAI3R,YAAJ,EAAkB;AACd2Q,UAAAA,SAAS,GAAG,CAAC7S,MAAM,CAACsH,KAAP,CAAaP,GAAb,CAAiB+M,OAAjB,CAAyB,IAAzB,EAA+B,EAA/B,CAAb;AACH,SAFD,MAEO;AACHhB,UAAAA,YAAY,GAAG,CAAC9S,MAAM,CAACsH,KAAP,CAAaJ,MAAb,CAAoB4M,OAApB,CAA4B,IAA5B,EAAkC,EAAlC,CAAhB;AACH;AACJ;;AAED,eAAST,SAAT,CAAmB3b,CAAnB,EAAsB;AAClB,YAAIqc,MAAJ;;AACA,YAAIpB,SAAJ,EAAe;AACXA,UAAAA,SAAS,GAAG,KAAZ;AACA3S,UAAAA,MAAM,CAACsH,KAAP,CAAawB,UAAb,GAA0BoK,iBAA1B;;AACA,cAAIlR,aAAJ,EAAmB;AACf+R,YAAAA,MAAM,GAAG,CAAC/T,MAAM,CAACsH,KAAP,CAAaT,IAAb,CAAkBiN,OAAlB,CAA0B,IAA1B,EAAgC,EAAhC,CAAV;AACH,WAFD,MAEO;AACHC,YAAAA,MAAM,GAAG,CAAC/T,MAAM,CAACsH,KAAP,CAAaL,KAAb,CAAmB6M,OAAnB,CAA2B,IAA3B,EAAiC,EAAjC,CAAV;AACH;;AACD,cAAIC,MAAM,IAAI5d,MAAM,CAACwd,UAAP,GAAoB,CAAlC,EAAqC;AACjCK,YAAAA,oBAAoB;AACvB,WAFD,MAEO;AACHC,YAAAA,wBAAwB;AAC3B;;AAEDjG,UAAAA,UAAU,CAAC,YAAY;AACnBkB,YAAAA,cAAc,GAAG,KAAjB;AACH,WAFS,EAEP,GAFO,CAAV;AAGH;AACJ;;AAED,eAASoE,WAAT,CAAqB5b,CAArB,EAAwB;AACpB,YAAI6b,OAAO,GAAG7b,CAAC,CAAC8b,OAAF,GAAY9b,CAAC,CAAC8b,OAAF,CAAU,CAAV,CAAZ,GAA2B9b,CAAzC;;AAEA,YAAIib,SAAJ,EAAe;AACXjb,UAAAA,CAAC,CAACwc,cAAF;AACAhF,UAAAA,cAAc,GAAG,IAAjB;;AAEA,cAAIlN,aAAJ,EAAmB;AACf+Q,YAAAA,eAAe,GAAIH,aAAa,GAAGW,OAAO,CAACK,OAAxB,GAAkClB,wBAAwB,CAAC,CAAD,CAA7E;AACAM,YAAAA,gBAAgB,GAAG7c,MAAM,CAACwd,UAAP,GAAoBZ,eAAvC;AACA/S,YAAAA,MAAM,CAACsH,KAAP,CAAaT,IAAb,GAAqB+L,aAAa,GAAGW,OAAO,CAACK,OAAxB,GAAkClB,wBAAwB,CAAC,CAAD,CAA3D,GAAkE,IAAtF;AACH,WAJD,MAIO;AACHM,YAAAA,gBAAgB,GAAIJ,aAAa,GAAGW,OAAO,CAACK,OAAxB,GAAkClB,wBAAwB,CAAC,CAAD,CAA9E;AACAK,YAAAA,eAAe,GAAG5c,MAAM,CAACwd,UAAP,GAAoBX,gBAAtC;AACAhT,YAAAA,MAAM,CAACsH,KAAP,CAAaL,KAAb,GAAsB2L,aAAa,GAAGW,OAAO,CAACK,OAAxB,GAAkClB,wBAAwB,CAAC,CAAD,CAA3D,GAAkE,IAAvF;AACH;;AAED,cAAIxQ,YAAJ,EAAkB;AACdlC,YAAAA,MAAM,CAACsH,KAAP,CAAaP,GAAb,GAAmBoN,WAAW,CAACtB,SAAS,GAAGU,OAAO,CAACM,OAApB,GAA8BnB,wBAAwB,CAAC,CAAD,CAAvD,CAAX,GAAyE,IAA5F;AACH,WAFD,MAEO;AACH1S,YAAAA,MAAM,CAACsH,KAAP,CAAaJ,MAAb,GAAsBiN,WAAW,CAACrB,YAAY,GAAGS,OAAO,CAACM,OAAvB,GAAiCnB,wBAAwB,CAAC,CAAD,CAA1D,CAAX,GAA4E,IAAlG;AACH;AACJ;AACJ;;AAED,eAASyB,WAAT,CAAqBC,IAArB,EAA2B;AACvB,YAAIC,QAAQ,GAAG,EAAf;;AACA,YAAID,IAAI,GAAG,CAAX,EAAc;AACV,iBAAOC,QAAP;AACH,SAFD,MAEO,IAAID,IAAI,GAAGje,MAAM,CAACme,WAAP,GAAqBhP,OAArB,GAA+B+O,QAA1C,EAAoD;AACvD,iBAAOle,MAAM,CAACme,WAAP,GAAqBhP,OAArB,GAA+B+O,QAAtC;AACH;;AACD,eAAOD,IAAP;AACH;;AAED,eAASG,aAAT,CAAuBC,IAAvB,EAA6B;AACzB,YAAIA,IAAI,KAAK,SAAb,EAAwB;AACpBxU,UAAAA,MAAM,CAACsH,KAAP,CAAaL,KAAb,GAAqB,EAArB;AACAjF,UAAAA,aAAa,GAAG,IAAhB;AACAC,UAAAA,cAAc,GAAG,KAAjB;AACH,SAJD,MAIO;AACHjC,UAAAA,MAAM,CAACsH,KAAP,CAAaT,IAAb,GAAoB,EAApB;AACA7E,UAAAA,aAAa,GAAG,KAAhB;AACAC,UAAAA,cAAc,GAAG,IAAjB;AACH;;AACD0G,QAAAA,oBAAoB;AACvB;;AAED,eAASqL,oBAAT,GAAgC;AAC5BhU,QAAAA,MAAM,CAACsH,KAAP,CAAawB,UAAb,GAA0BoK,iBAA1B;AACAlT,QAAAA,MAAM,CAACsH,KAAP,CAAatF,aAAa,GAAG,MAAH,GAAY,OAAtC,IAAiD4Q,aAAa,GAAG,IAAjE;AACH;;AAED,eAASqB,wBAAT,GAAoC;AAChC,YAAIQ,WAAW,GAAIte,MAAM,CAACwd,UAAP,GAAoBf,aAApB,GAAoCtN,OAArC,GAAgD,IAAlE;AACA6J,QAAAA,mBAAmB,GAAG,KAAtB;;AACA,YAAInN,aAAJ,EAAmB;AACfhC,UAAAA,MAAM,CAACsH,KAAP,CAAaT,IAAb,GAAoB4N,WAApB;AACAzG,UAAAA,UAAU,CAAC,YAAY;AACnBhO,YAAAA,MAAM,CAACsH,KAAP,CAAaL,KAAb,GAAqB2L,aAAa,GAAG,IAArC;AACA2B,YAAAA,aAAa,CAAC,UAAD,CAAb;AACApF,YAAAA,mBAAmB,GAAG,IAAtB;AACH,WAJS,EAIP8D,YAJO,CAAV;AAKH,SAPD,MAOO;AACHjT,UAAAA,MAAM,CAACsH,KAAP,CAAaL,KAAb,GAAqBwN,WAArB;AACAzG,UAAAA,UAAU,CAAC,YAAY;AACnBhO,YAAAA,MAAM,CAACsH,KAAP,CAAaT,IAAb,GAAoB+L,aAAa,GAAG,IAApC;AACA2B,YAAAA,aAAa,CAAC,SAAD,CAAb;AACApF,YAAAA,mBAAmB,GAAG,IAAtB;AACH,WAJS,EAIP8D,YAJO,CAAV;AAKH;AACJ,OA/pEqB,CAiqEtB;;;AAEA,aAAO1U,WAAP;AACH;;AACDnK,IAAAA,EAAE,CAACD,OAAH,GAAaA,OAAb;AAEC,GAzqED,EAyqEGgC,MAzqEH;;AA0qEA,SAAOhC,OAAP;AACC,CA1lFC,CAAD","sourcesContent":[";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.alanBtn = factory();\n  }\n}(this, function() {\n(function(ns) {\n    \"use strict\";\n\n    var audioElement = document.createElement(\"audio\");\n    audioElement.setAttribute(\"autoplay\", \"true\");\n    audioElement.addEventListener(\"ended\", function() {\n        playState = PLAY_IDLE;\n        _handleQueue();\n    });\n\n    document.addEventListener(\"DOMContentLoaded\", function() {\n        document.body.appendChild(audioElement);\n    });\n\n    navigator.getUserMedia = (navigator.getUserMedia ||\n                              navigator.webkitGetUserMedia ||\n                              navigator.mozGetUserMedia ||\n                              navigator.msGetUserMedia ||\n                              (navigator.mediaDevices && navigator.mediaDevices.getUserMedia));\n\n    if (!navigator.getUserMedia) {\n        console.error(\"getUserMedia is not supported\");\n    }\n\n    var PLAY_IDLE      = 'idle';\n    var PLAY_ACTIVE    = 'active';\n\n    var handlers       = {};\n    var micStream      = null;\n    var audioRecorder  = null;\n    var audioSource    = null;\n    var frameSize      = 4096;\n    var audioCtx       = null;\n    var totalSamples   = 0;\n    var sampleRate     = 0;\n    var firstSampleTs  = 0;\n    var frameCount     = 0;\n    var playState      = PLAY_IDLE;\n    var audioQueue     = [];\n\n    if (window.AudioContext) {\n        audioCtx = new window.AudioContext();\n    }\n\n    if (window.webkitAudioContext) {\n        audioCtx = new window.webkitAudioContext();\n    }\n\n    function _handleQueue() {\n        if (!audioQueue.length || playState !== PLAY_IDLE) {\n            return;\n        }\n        while (playState === PLAY_IDLE && audioQueue.length) {\n            var o = audioQueue.shift();\n            if (o.event) {\n                fireEvent('command', o.event);\n            } else if (o.text) {\n                fireEvent('text', o.text);\n            } else if (o.audio) {\n                playState = PLAY_ACTIVE;\n                fireEvent('playStart');\n                audioElement.setAttribute(\"src\", o.audio)\n            } else {\n                console.error('invalid queue item');\n            }\n        }\n    }\n\n    function fireEvent(event, o1, o2) {\n        var h = handlers[event];\n        if (h) {\n            for (var i = 0; i < h.length; i++ ) {\n                h[i](o1, o2);\n            }\n        }\n    }\n\n    function onGetUserMedia(mic) {\n        console.log('got microphone');\n        fireEvent('micStart', mic);\n        micStream = mic;\n\n        if (audioCtx.state === 'suspended') {\n            audioCtx.resume();\n        }\n\n        audioSource   = audioCtx.createMediaStreamSource(micStream);\n        audioRecorder = audioCtx.createScriptProcessor(frameSize, 1, 1);\n        audioSource.connect(audioRecorder);\n        audioRecorder.onaudioprocess = function(e) {\n            if (micStream === mic) {\n                recordFrame(audioCtx.sampleRate, e.inputBuffer.getChannelData(0));\n            }\n        };\n        audioRecorder.connect(audioCtx.destination);\n    }\n\n    function onGetUserMediaError(err) {\n        console.error('failed to get microphone', err);\n        fireEvent('micFail', err);\n    }\n\n    function recordFrame(sr, float32array) {\n        if (playState === PLAY_ACTIVE) {\n            return;\n        }\n        if (sampleRate !== sr) {\n            sampleRate = sr;\n            firstSampleTs = Date.now();\n            totalSamples = 0;\n            frameCount = 0;\n        }\n        totalSamples += float32array.length;\n        if (++frameCount >= 300) {\n            frameCount = 0;\n            var audioTime = (1000 * totalSamples) / sampleRate;\n            var clockTime = Date.now() - firstSampleTs;\n            console.log(\"audioTime: \"   + audioTime + \", clockTime: \" + clockTime + \", ratio a/c: \" + audioTime / clockTime);\n        }\n        fireEvent('frame', sampleRate, float32array);\n    }\n\n    ns.isPlaying = function() {\n        return playState === PLAY_ACTIVE;\n    };\n\n    ns.playText = function(text) {\n        audioQueue.push({text: text});\n        _handleQueue();\n    };\n\n    ns.playEvent = function(event) {\n        audioQueue.push({event: event});\n        _handleQueue();\n    };\n\n    ns.playAudio = function(audio) {\n        audioQueue.push({audio: audio});\n        _handleQueue();\n    };\n\n    ns.on = function(event, handler) {\n        var h = handlers[event];\n        if (h == null) {\n            handlers[event] = [handler];\n        } else {\n            h.push(handler);\n        }\n    };\n\n    ns.off = function(event, handler) {\n        var h = handlers[event];\n        if (h) {\n            var index = h.indexOf(handler);\n            if (index >= 0) {\n                h.splice(index, 1);\n            }\n        }\n    };\n\n    ns.sampleRate = function() {\n        return sampleRate;\n    };\n\n    ns.start = function(onStarted) {\n        if (!micStream) {\n            if (navigator.mediaDevices) {\n                navigator.mediaDevices.getUserMedia({audio: true}).then(onGetUserMedia, onGetUserMediaError);\n            } else {\n                navigator.getUserMedia({audio: true}, onGetUserMedia, onGetUserMediaError);\n            }\n        }\n        if (onStarted) {\n            onStarted();\n            onStarted = null;\n        }\n    };\n\n    ns.stop = function() {\n        sampleRate = -1;\n        if (micStream) {\n            for (var i = 0; i < micStream.getTracks().length; i++) {\n                var track = micStream.getAudioTracks()[0];\n                if (track) {\n                    track.stop();\n                }\n            }\n            micStream = null;\n            fireEvent('micStop');\n        }\n        if (audioSource) {\n            audioSource.disconnect();\n            audioSource = null;\n        }\n        if (audioRecorder) {\n            audioRecorder.disconnect();\n            audioRecorder = null;\n        }\n        if (audioElement) {\n            audioElement.pause();\n            audioElement.currentTime = 0;\n            audioElement.src = \"\";\n        }\n        audioQueue = [];\n        playState = PLAY_IDLE;\n    };\n\n})(typeof(window) !== 'undefined' ? (function() {window.alanAudio = {}; return window.alanAudio})() : exports);\n\n(function(ns) {\n    \"use strict\";\n\n    var host = 'studio.alan.app';\n\n    var config = {\n        // baseURL: (window.location.protocol === \"https:\" ? \"wss://\" : \"ws://\") +\n        baseURL: \"wss://\" +\n            ((host.indexOf('$') === 0 || host === '') ? window.location.host : host ),\n        codec: 'opus',\n        version: '1.2.0',\n        platform: 'web',\n    };\n\n    function ConnectionWrapper() {\n        var _this = this;\n        this._worker = new Worker(window.URL.createObjectURL(new Blob([\"'use strict';importScripts(    'https://studio.alan.app/js/alan_frame.js',    'https://studio.alan.app/js/alan_codec.js',    'https://studio.alan.app/js/libopus.js');var ALAN_OFF       = 'off';var ALAN_SPEAKING  = 'speaking';var ALAN_LISTENING = 'listening';function ConnectionImpl(config, auth, mode) {    var _this = this;    this._config = config;    this._auth = auth;    this._mode = mode;    this._projectId = config.projectId;    this._url = config.url;    this._connected = false;    this._authorized = false;    this._dialogId = null;    this._callId = 1;    this._callSent = {};    this._callWait = [];    this._failed = false;    this._closed = false;    this._reconnectTimeout = 100;    this._cleanups = [];    this._sampleRate = -1;    this._format = null;    this._formatSent = false;    this._frameQueue = [];    this._remoteSentTs = 0;    this._remoteRecvTs = 0;    this._rtt = 25;    this._rttAlpha = 1./16;    this._alanState = ALAN_OFF;    this._sendTimer = setInterval(_this._flushQueue.bind(_this), 100);    this._visualState = {};    this._addCleanup(function() {clearInterval(_this._sendTimer);});    this._connect();    console.log('Alan: connection created: ' + this._url);}ConnectionImpl.prototype._addCleanup = function(f) {    this._cleanups.push(f);};ConnectionImpl.prototype._onConnectStatus = function(s) {    console.log('Alan: connection status: ' + s);    this._fire('connectStatus', s);};ConnectionImpl.prototype._fire = function(event, object) {    if (event === 'options') {        if (object.versions) {            object.versions['alanbase:web'] = this._config.version;        }    }    postMessage(['fireEvent', event, object]);};ConnectionImpl.prototype._connect = function() {    var _this = this;    if (this._socket) {        console.error('socket is already connected');        return;    }    console.log('Alan: connecting to ' + this._url);    this._socket = new WebSocket(this._url);    this._socket.binaryType = 'arraybuffer';    this._decoder = alanCodec.decoder('pcm', 16000);    this._socket.onopen = function(e) {        console.info('Alan: connected', e.target === _this._socket);        _this._connected = true;        _this._reconnectTimeout = 100;        _this._fire('connection', {status: 'connected'});        if (_this._auth) {            _this._fire('connection', {status: 'authorizing'});            _this._callAuth();        } else {            _this._callWait.forEach(function(c) {  _this._sendCall(c); });            _this._callWait = [];        }    };    this._socket.onmessage = function(msg) {        if (msg.data instanceof ArrayBuffer) {            var f = alanFrame.parse(msg.data);            if (f.sentTs > 0) {                _this._remoteSentTs = f.sentTs;                _this._remoteRecvTs = Date.now();            } else {                _this._remoteSentTs = null;                _this._remoteRecvTs = null;            }            var rtt = 0;            if (f.remoteTs) {                rtt = Date.now() - f.remoteTs;            }            _this._rtt = _this._rttAlpha * rtt  + (1 - _this._rttAlpha) * _this._rtt;            var uint8 = new Uint8Array(f.audioData);            var frame = '';            var batch = 62000;            for (var offset = 0; offset < uint8.byteLength; offset += batch) {                var b  = uint8.subarray(offset, Math.min(uint8.byteLength, offset + batch));                frame += String.fromCharCode.apply(null, b);            }            postMessage(['alanAudio', 'playFrame', frame]);        } else if (typeof(msg.data) === 'string') {            msg = JSON.parse(msg.data);            if (msg.i) {                var c = _this._callSent[msg.i];                delete _this._callSent[msg.i];                if (c && c.callback) {                    c.callback(msg.e, msg.r);                }            } else if (msg.e) {                if (msg.e === 'text') {                    postMessage(['alanAudio', 'playText', msg.p])                } else if (msg.e === 'command') {                    postMessage(['alanAudio', 'playCommand', msg.p]);                } else if (msg.e === 'inactivity') {                    postMessage(['alanAudio', 'stop']);                } else {                    _this._fire(msg.e, msg.p);                }            }        } else {            console.error('invalid message type');        }    };    this._socket.onerror = function(evt) {        console.error('Alan: connection closed due to error: ', evt);    };    this._socket.onclose = function(evt) {        console.info('Alan: connection closed');        _this._connected = false;        _this._authorized = false;        _this._socket = null;        _this._onConnectStatus('disconnected');        if (!_this._failed && _this._reconnectTimeout && !_this._closed) {            console.log('Alan: reconnecting in %s ms.', _this._reconnectTimeout);            _this._reConnect = setTimeout(_this._connect.bind(_this), _this._reconnectTimeout);            if (_this._reconnectTimeout < 3000) {                _this._reconnectTimeout *= 2;            } else {                _this._reconnectTimeout += 500;            }            _this._reconnectTimeout = Math.min(7000, _this._reconnectTimeout);        }    };    this._addCleanup(function() {        if (this._socket) {            this._socket.close();            this._socket = null;        }    });};ConnectionImpl.prototype._callAuth = function() {    var _this = this;    var callback = function(err, r) {        if (!err && r.status === 'authorized') {            _this._authorized = true;            _this._formatSent = false;            if (r.dialogId) {                postMessage(['setDialogId', r.dialogId]);                _this._dialogId = r.dialogId;            }            _this._onAuthorized();            _this._onConnectStatus('authorized');        } else if (err === 'auth-failed') {            _this._onConnectStatus('auth-failed');            if (_this._socket) {                _this._socket.close();                _this._socket = null;                _this._failed = true;            }        } else {            _this._onConnectStatus('invalid-auth-response');            console.log('Alan: invalid auth response', err, r);        }    };    var authParam = this._auth;    authParam.timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;    if (this._dialogId) {        authParam.dialogId = this._dialogId;    }    authParam.mode = this._mode;    this._sendCall({cid: this._callId++, method: '_auth_', callback: callback, param: authParam});    return this;};ConnectionImpl.prototype._sendCall = function(call) {    this._socket.send(JSON.stringify({i: call.cid, m: call.method, p: call.param}));    if (call.callback) {        this._callSent[call.cid] = call;    }};ConnectionImpl.prototype._onAuthorized = function() {    console.log('Alan: authorized');    var _this = this;    this._callWait.forEach(function(c) {        _this._sendCall(c);    });    this._callWait = [];};ConnectionImpl.prototype.close = function() {    for (var i = 0; i < this._cleanups.length; i++ ) {        this._cleanups[i]();    }    this._cleanups = [];    this._closed = true;        if (this._socket && (this._socket.readyState === WebSocket.OPEN || this._socket.readyState === WebSocket.CONNECTING)) {        this._socket.close();        this._socket = null;    }    console.log('Alan: closed connection to: ' + this._url);    close();};ConnectionImpl.prototype.call = function(cid, method, param) {    var call = {cid: cid, method: method, param: param, callback: function(err, obj) {        if (cid) {            postMessage(['callback', cid, err, obj]);        }    }};    if (this._authorized || this._connected && !this._auth) {        this._sendCall(call);    } else {        this._callWait.push(call);    }};ConnectionImpl.prototype.setVisual = function(state) {    this._visualState = state;    this.call(null, '_visual_', state);};ConnectionImpl.prototype._sendFrame = function(frame) {    if (!this._socket) {        console.error('sendFrame to closed socket');        return;    }    frame.sentTs = Date.now();    if (this._remoteSentTs > 0 && this._remoteRecvTs > 0) {        frame.remoteTs = this._remoteSentTs + Date.now() - this._remoteRecvTs;    }    this._socket.send(frame.write());};ConnectionImpl.prototype._listen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'listen'});    this._frameQueue.push(f);    this._alanState = ALAN_LISTENING;};ConnectionImpl.prototype._stopListen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'stopListen'});    this._frameQueue.push(f);    this._alanState = ALAN_OFF;};ConnectionImpl.prototype._onMicFrame = function(sampleRate, frame) {    if (this._alanState === ALAN_SPEAKING) {        return;    }    if (this._alanState === ALAN_OFF) {        this._listen();    }    if (this._alanState !== ALAN_LISTENING) {        console.error('invalid alan state: ' + this._alanState);        return;    }    if (this._sampleRate !== sampleRate) {        this._sampleRate = sampleRate;        this._encoder = alanCodec.encoder(this._config.codec, 48000);        this._formatSent = false;        this._format = {            send: {codec: this._config.codec, sampleRate: sampleRate},            recv: {codec: 'mp3;base64', sampleRate: 16000},            timeout: this._timeout,        };    }    var p = this._encoder(frame);    for (var i = 0; i < p.length; i++ ) {        var f = alanFrame.create();        f.audioData = p[i];        this._frameQueue.push(f);    }};ConnectionImpl.prototype._flushQueue = function() {    if (!this._socket || !this._connected) {        var d = 0;        while (this._frameQueue.length > 100 && !this._frameQueue[0].jsonData) {            this._frameQueue.shift();            d++;        }        if (d > 0) {            console.error('dropped: %s, frames', d);        }        return;    }    while (this._frameQueue.length > 0 && this._socket && this._socket.bufferedAmount < 64 * 1024) {        if (!this._formatSent && this._format) {            var frame = alanFrame.create();            frame.jsonData = JSON.stringify({format: this._format});            this._sendFrame(frame);            this._formatSent = true;        }        this._sendFrame(this._frameQueue.shift());    }};function connectProject(config, auth, mode) {    var c = new ConnectionImpl(config, auth, mode);    c.onAudioEvent = function(event, arg1, arg2) {        if (event === 'frame') {            c._onMicFrame(arg1, arg2);        } else if (event === 'micStop' || event === 'playStart') {            c._stopListen();        } else {            console.error('unknown audio event: ' + event, arg1, arg2);        }    };    return c;}var factories = {    connectProject: connectProject,};var currentConnect = null;onmessage = function(e) {    var name = e.data[0];    try {        if (!currentConnect) {            currentConnect = factories[name].apply(null, e.data.slice(1, e.data.length));        } else {            currentConnect[name].apply(currentConnect, e.data.slice(1, e.data.length));        }    } catch(e) {        console.error('error calling: ' + name, e);    }};\"]),{type: 'text/javascript'}));\n        this._worker.onmessage = function(e) {\n            if (e.data[0] === 'fireEvent') {\n                _this._fire(e.data[1], e.data[2]);\n                return;\n            }\n            if (e.data[0] === 'alanAudio') {\n                if (e.data[1] === 'playText') {\n                    alanAudio.playText(e.data[2]);\n                    return;\n                }\n                if (e.data[1] === 'playAudio' || e.data[1] === 'playFrame') {\n                    alanAudio.playAudio(e.data[2]);\n                    return;\n                }\n                if (e.data[1] === 'playEvent' || e.data[1] === 'playCommand') {\n                    alanAudio.playEvent(e.data[2]);\n                    return;\n                }\n                if (e.data[1] === 'stop') {\n                    alanAudio.stop();\n                    return;\n                }\n            }\n            if (e.data[0] === \"callback\") {\n                _this._callback[e.data[1]](e.data[2], e.data[3]);\n                delete _this._callback[e.data[1]];\n                return;\n            }\n            if (e.data[0] === \"setDialogId\") {\n                _this._dialogId = e.data[1];\n                return;\n            }\n            console.error(\"invalid event\", e.data);\n        };\n        this._worker.onerror = function(e) {\n            console.error(\"error in worker: \" + e.filename + \":\" + e.lineno + \" - \" +  e.message);\n        };\n        this._handlers = {};\n        this._cleanups = [];\n        this._callback = {};\n        this._callIds  = 1;\n        this._config   = {};\n    }\n\n    ConnectionWrapper.prototype.on = function(event, handler) {\n        var h = this._handlers[event];\n        if (!h) {\n            h = [];\n            this._handlers[event] = h;\n        }\n        h.push(handler);\n    };\n\n    ConnectionWrapper.prototype.off = function(event, handler) {\n        var h = this._handlers[event];\n        if (h) {\n            var index = h.indexOf(handler);\n            if (index >= 0) {\n                h.splice(index, 1);\n            }\n        }\n    };\n\n    ConnectionWrapper.prototype.getSettings = function() {\n        return {\n            server: config.baseURL,\n            projectId: this._config.projectId,\n            dialogId: this._dialogId,\n        };\n    };\n\n    ConnectionWrapper.prototype.setVisual = function(state) {\n        this._worker.postMessage(['setVisual', state]);\n    };\n\n    ConnectionWrapper.prototype.call = function(method, param, callback) {\n        var cid = null;\n        if (callback) {\n            cid = this._callIds++;\n            this._callback[cid] = callback;\n        }\n        this._worker.postMessage(['call', cid, method, param]);\n    };\n\n    ConnectionWrapper.prototype.close = function() {\n        console.log('closing connection to: ' + this._url);\n        this._cleanups.forEach(h=> { h();});\n        this._worker.postMessage(['close']);\n    };\n\n    ConnectionWrapper.prototype._fire = function(event, object) {\n        var h = this._handlers[event];\n        if (h) {\n            for (var i = 0; i < h.length; i++ ) {\n                h[i](object);\n            }\n        }\n    };\n\n    ConnectionWrapper.prototype._addCleanup = function(f) {\n        this._cleanups.push(f);\n    };\n\n    function fillAuth(values, ext) {\n        var auth = {};\n        for (var k in values) {\n            auth[k] = values[k];\n        }\n\n        if (!ext || (ext && ext.platform == null)) {\n            auth.platform = config.platform;\n        } else {\n            auth.platform = config.platform + \":\" + ext.platform;\n        }\n        if (!ext || (ext && ext.platformVersion == null)) {\n            auth.platformVersion = config.version;\n        } else {\n            auth.platformVersion = config.version + \":\" + ext.platformVersion;\n        }\n        if (ext && ext.appName) {\n            auth.appName = ext.appName;\n        }\n        return auth;\n    }\n                            \n    function connectProject(projectId, auth,  host, mode, ext) {\n        var connect = new ConnectionWrapper();\n        if (host)  {\n            connect._config.baseURL = \"wss://\" + host;\n        }\n        connect._config.projectId = projectId;\n        connect._config.codec     = config.codec;\n        connect._config.version   = config.version;\n        connect._config.url       = config.baseURL + \"/ws_project/\" + projectId;\n        connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n        function signupEvent(name, handler) {\n            alanAudio.on(name, handler);\n            connect._addCleanup(function() {\n                alanAudio.off(name,  handler);\n            });\n        }\n        function passEventToWorker(name) {\n            function handler(a1, a2) {\n                if (name === 'frame' && alanAudio.isPlaying()) {\n                    return;\n                }\n                connect._worker.postMessage(['onAudioEvent', name, a1, a2]);\n            }\n            signupEvent(name, handler);\n        }\n        function passEventToClient(name) {\n            function handler(e1) {\n                connect._fire(name, e1);\n            }\n            signupEvent(name, handler);\n        }\n        passEventToWorker('frame');\n        passEventToWorker('micStop');\n        passEventToWorker('playStart');\n        passEventToClient('text');\n        passEventToClient('command');\n        return connect;\n    }\n\n    function connectProjectTest(projectId, auth,  host, mode, ext) {\n        var connect = new ConnectionWrapper();\n        if (host)  {\n            connect._config.baseURL = \"wss://\" + host;\n        }\n        connect._config.projectId = projectId;\n        connect._config.codec     = config.codec;\n        connect._config.version   = config.version;\n        connect._config.url       = config.baseURL + \"/ws_project/\" + projectId;\n        connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n        return connect;\n    }\n\n    function connectTutor(auth, host) {\n        var connect = new ConnectionWrapper();\n        if (host)  {\n            connect._config.baseURL = \"wss://\" + host;\n        }\n        connect._config.version = config.version;\n        connect._config.url = config.baseURL + \"/ws_tutor\";\n        connect._worker.postMessage([\"connectProject\", connect._config, auth]);\n        return connect;\n    }\n\n    ns.alan = {\n        projectTest: connectProjectTest,\n        project: connectProject,\n        tutor: connectTutor,\n    };\n\n})(window);\n\n(function(ns) {\n    \"use strict\";\nfunction alanBtn(options) {\n\n    options = options || {};\n\n    var btnDisabled = false;\n    var hideS2TPanel = false;\n    var pinned = false;\n\n    var btnInstance = {\n        // Common public API\n        setVisualState: function (visualState) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.setVisual(visualState);\n            }\n        },\n        callProjectApi: function (funcName, data, callback) {\n            var funcNamePrefix = 'script::';\n            if (btnDisabled) {\n                return;\n            }\n            if (!funcName) {\n                throw new Error('Function name for callProjectApi must be provided');\n            }\n\n            if (window.tutorProject) {\n                if (funcName.indexOf(funcNamePrefix) === 0) {\n                    window.tutorProject.call(funcName, data, callback);\n                } else {\n                    window.tutorProject.call(funcNamePrefix + funcName, data, callback);\n                }\n            }\n        },\n        playText: function (text) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.call('play', {\n                    text: text\n                });\n            }\n        },\n        playCommand: function (command) {\n            if (btnDisabled) {\n                return;\n            }\n\n            alanAudio.playCommand({\n                data: command\n            });\n        },\n        activate: function () {\n            return activateAlanButton();\n        },\n        deactivate: function () {\n            if (btnDisabled) {\n                return;\n            }\n\n            alanAudio.stop();\n        },\n        isActive: function () {\n            return isAlanActive;\n        },\n        //deprecated\n        callClientApi: function (method, data, callback) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.call(method, data, callback);\n            }\n        },\n        // deprecated\n        setAuthData: function (data) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.close();\n                window.tutorProject = alan.project(options.key, getAuthData(data), options.host);\n                window.tutorProject.on('connectStatus', onConnectStatusChange);\n                window.tutorProject.on('options', onOptionsReceived);\n            }\n        },\n        // Other methods\n        setOptions: function (options) {\n            onOptionsReceived(options);\n        },\n        setPreviewState: function (state) {\n            switchState(state);\n        },\n        remove: function () {\n            alanAudio.stop();\n            window.tutorProject.close();\n            rootEl.remove();\n        },\n        stop: function () {\n            alanAudio.stop();\n        },\n        updateButtonState: function (state) {\n            onConnectStatusChange(state);\n        }\n    };\n\n\n    //Host\n    var host = 'studio.alan.app';\n    var baseUrl = 'https://' + ((host.indexOf('$') === 0 || host === '') ? window.location.host : host);\n\n    if (options.host) {\n        baseUrl = 'https://' + options.host;\n    }\n\n    // Btn modes\n    var mode;\n\n    if (options.mode === 'tutor') {\n        mode = 'tutor';\n        pinned = true;\n    } else if (options.mode === 'tutor-preview') {\n        mode = 'tutor-preview';\n        pinned = true;\n    } else if (options.mode === 'demo') {\n        mode = 'demo';\n    } else {\n        mode = 'component';\n    }\n\n    if (options.position === 'absolute' || options.pinned) {\n        pinned = true;\n    }\n\n    // Btn states\n    var DEFAULT = 'default';\n    var LISTENING = 'listening';\n    var SPEAKING = 'speaking';\n    var INTERMEDIATE = 'intermediate';\n    var UNDERSTOOD = 'understood';\n    var DISCONNECTED = 'disconnected';\n    var OFFLINE = 'offline';\n    var LOW_VOLUME = 'lowVolume';\n    var PERMISSION_DENIED = 'permissionDenied';\n    var NO_VOICE_SUPPORT = 'noVoiceSupport';\n    var NOT_SECURE_ORIGIN = 'notSecureOrigin';\n\n    // Error messages\n    var MIC_BLOCKED_MSG = 'Access to the microphone was blocked. Please allow it to use Alan';\n    var NO_VOICE_SUPPORT_IN_BROWSER_MSG = 'Your browser doesnâ€™t support voice input. To use voice, try it in the Chrome, Safari, or Firefox desktop browser window. If you think your browser supports voice input, please send the Debug info below to support@alan.app. ' + getDebugInfo();\n    var NOT_SECURE_ORIGIN_MSG = 'Audio is allowed only on the secure connection: make sure that your connection protocol is under https, file or http with localhost. Now you are running with \"' + window.location.protocol + '\" protocol and \"' + window.location.hostname + '\" hostname';\n    var LOW_VOLUME_MSG = 'Low volume level';\n    var OFFLINE_MSG = 'You\\'re offline';\n    var currentErrMsg = null;\n\n\n    var NO_VOICE_SUPPORT_IN_BROWSER_CODE = 'browser-does-not-support-voice-input';\n    var MIC_BLOCKED_CODE = 'microphone-access-blocked';\n    var PREVIEW_MODE_CODE = 'preview-mode';\n    var BTN_IS_DISABLED_CODE = 'btn-is-disabled';\n    var NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE = 'no-alan-audio-instance-was-provided';\n\n    // Set default state for btn\n    var state = DISCONNECTED;\n    var previousState = null;\n    var isAlanSpeaking = false;\n    var isAlanActive = false;\n    var customBtnLogoUrl;\n\n    // Set btn position flags\n    var isLeftAligned = false;\n    var isRightAligned = true;\n    var isTopAligned = false;\n    var isBottomAligned = false;\n\n    var recognisedTextVisible = false;\n\n    var turnOffTimeout = 30000;\n    var turnOffVoiceFn;\n\n    function setTurnOffVoiceTimeout() {\n        turnOffVoiceFn = debounce(function () {\n            if (isAlanSpeaking) {\n                // console.info('BTN: CONTINUE alanAudio', new Date());\n                turnOffVoiceFn();\n            } else {\n                // console.info('BTN: STOP alanAudio', new Date());\n                alanAudio.stop();\n            }\n        }, turnOffTimeout);\n    }\n\n    setTurnOffVoiceTimeout();\n\n    var switchToLowVolumeStateTimer = null;\n\n    // Css animations\n    var pulsatingAnimation = '';\n    var pulsatingMicAnimation = '';\n    var pulsatingTriangleMicAnimation = '';\n    if (!isPreviewMode()) {\n        pulsatingAnimation = 'alan-pulsating 2s ease-in-out infinite';\n        pulsatingMicAnimation = 'alan-mic-pulsating 1.4s ease-in-out infinite';\n        pulsatingTriangleMicAnimation = 'alan-triangle-mic-pulsating 1.2s ease-in-out infinite';\n    }\n\n    var gradientAnimation = 'alan-gradient 3s ease-in-out infinite';\n    var disconnectedLoaderAnimation = 'disconnected-loader-animation 2s linear infinite';\n\n    // Set alanAudio\n    var alanAudio = window.alanAudio;\n\n    // Define base blocks and layers\n    var rootEl = options.rootEl || document.createElement('div');\n    var body = document.getElementsByTagName('body')[0];\n    var btn = document.createElement('div');\n    var defaultStateBtnIconImg = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH9SURBVHgB7dvvUcIwGMfxByfADdjAEdQN3EA2YATcAJ2AEXADdALcgG4AGzwm13DQkNKWQBvK93OXF4W0Z36mf5IUEQAAAAAAAAAAgPOo6ocpS91bmfIuOM2ENHJhlVnbOoIwF1CVleCYCWas9U0kEQ+SjibXuDdJxEASYbtVg+rbwWDwKAm41QDFBJjE357SKXyTCDASAUYiwEgEGIkAIxFgJAKMRICRWgvQTRZs3IzLxef2rn38zmlxqmoT+L6Rpse/ltbGk36j/bFsKJRTqvZva6zc2TXQtHfofbSV+rYVx2pNmwFm3vbI2/6R+r4rjvUnLWkzQL9Rz972l9T3WXGsTPrGTsN794FloM5Uq00D+/kLUb28Cw8DYbwE6k1LgrOPKJNA/dBaykj6SItrvdZaAzcAzZc3bTBzVyYl9YZ6vJK3kL6yPS7QW+ZyJhvW3fS+HdPAWaDRiyYNdz1vecl/xs0oOe12p3Plxd+d2mX7t/482MnKlutt9i48CnydSf5M+Cv7xxFb78mUsSnDkn1ezeAjk3uh+Y0i1JOaWuu9vi/jTueZns/u29kwLhma98Z5g+CWpjwLirT4/Oezn01S63HJvNrhs4kdbqfyKoePKf1IBBiJACMRYCQCjESAkVIO8HDhKBM0o/tZFzsTzY9sAAAAAAAAAABAjH+9EqX09fBHaQAAAABJRU5ErkJggg==';\n    var micTriangleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjMuNzQ5Mzk5NDZlLTMxJSIgeDI9IjIuODYwODIwMDklIiB5Mj0iOTcuMTM5MTc5OSUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjEyIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4wNCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJBbGFuLUJ1dHRvbi0vLUFuaW1hdGlvbi0vLWJ1dHRvbi1pbm5lci1zaGFwZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTQwLjEwMDU0MjIsOSBMNDAuMTAwNTQyMiw5IEM1MC4wNzA0NzUxLDkgNTkuMTUxNjIzNSwxNC43MzM3OTM4IDYzLjQzODA5OCwyMy43MzUyMjE0IEw3MC40MjIwMjY3LDM4LjQwMTE5NyBDNzUuMTcxMDE0NSw0OC4zNzM4ODQ0IDcwLjkzNjM2OTMsNjAuMzA4MTYwMSA2MC45NjM2ODE5LDY1LjA1NzE0NzggQzU4LjI3NzU5NDksNjYuMzM2MjYwOCA1NS4zMzk5NzQ0LDY3IDUyLjM2NDg3ODksNjcgTDI3LjgzNjIwNTQsNjcgQzE2Ljc5MDUxMDQsNjcgNy44MzYyMDU0Myw1OC4wNDU2OTUgNy44MzYyMDU0Myw0NyBDNy44MzYyMDU0Myw0NC4wMjQ5MDQ1IDguNDk5OTQ0NTksNDEuMDg3Mjg0IDkuNzc5MDU3NiwzOC40MDExOTcgTDE2Ljc2Mjk4NjQsMjMuNzM1MjIxNCBDMjEuMDQ5NDYwOCwxNC43MzM3OTM4IDMwLjEzMDYwOTIsOSA0MC4xMDA1NDIyLDkgWiIgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==\\n';\n    var micCircleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZS1zcGVha2luZyBiYWNrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSIxMDAlIiB5MT0iMy43NDkzOTk0NmUtMzElIiB4Mj0iMi44NjA4MjAwOSUiIHkyPSI5Ny4xMzkxNzk5JSIgaWQ9ImxpbmVhckdyYWRpZW50LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAuMTIiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjA0IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWlubmVyLXNoYXBlLXNwZWFraW5nLWJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIiBjeD0iNDAiIGN5PSI0MCIgcj0iMzIiPjwvY2lyY2xlPgogICAgPC9nPgo8L3N2Zz4=\\n';\n    \n    var micIcon = document.createElement('div');\n    var defaultStateBtnIcon = document.createElement('img');\n    var logoState1 = document.createElement('img');\n    var logoState2 = document.createElement('img');\n    var logoState3 = document.createElement('img');\n    var logoState4 = document.createElement('img');\n    var logoState5 = document.createElement('img');\n    var logoState6 = document.createElement('img');\n    var logoState7 = document.createElement('img');\n    var logoState8 = document.createElement('img');\n    var logoState9 = document.createElement('img');\n    var logoState10 = document.createElement('img');\n    var micTriangleIcon = document.createElement('div');\n    var micCircleIcon = document.createElement('div');\n    var disconnectedMicLoaderIcon = document.createElement('img');\n    var lowVolumeMicIcon = document.createElement('img');\n    var noVoiceSupportMicIcon = document.createElement('img');\n    var offlineIcon = document.createElement('img');\n    var textHolder = document.createElement('div');\n    var textHolderTextWrapper = document.createElement('div');\n    var alanBtnDisabledMessage = document.createElement('div');\n    var soundOnAudioDoesNotExist = false;\n    var soundOffAudioDoesNotExist = false;\n    var soundOnAudio = new Audio(baseUrl + '/resources/sounds/soundOn.m4a');\n    soundOnAudio.onerror = function() {\n        soundOnAudioDoesNotExist = true;\n    };\n    var soundOffAudio = new Audio(baseUrl + '/resources/sounds/soundOff.m4a');\n    soundOffAudio.onerror = function() {\n        soundOffAudioDoesNotExist = true;\n    };\n\n    // Specify layers for different statets to make smooth animation\n    var btnBgDefault = document.createElement('div');\n    var btnBgListening = document.createElement('div');\n    var btnBgSpeaking = document.createElement('div');\n    var btnBgIntermediate = document.createElement('div');\n    var btnBgUnderstood = document.createElement('div');\n\n    // Specify layers with ovals\n    var btnOval1 = document.createElement('div');\n    var btnOval2 = document.createElement('div');\n\n    // Some variables for setting up right properties for Alan Btn\n    var btnSize;\n    var sideBtnPos;\n    var bottomBtnPos;\n    var topBtnPos;\n    var btnZIndex;\n    var btnIconsZIndex;\n    var btnTextPanelsZIndex;\n    var btnBgLayerZIndex;\n\n    // Define base properties for disable/enable button functionality\n    var isLocalStorageAvailable = false;\n\n    try {\n        localStorage.getItem('test');\n        isLocalStorageAvailable = true;\n    } catch (e) {\n        isLocalStorageAvailable = false;\n    }\n\n    //#region Listen online/offline events to manage connected/disconnected states\n    window.addEventListener('online', updateOnlineStatus);\n    window.addEventListener('offline', updateOnlineStatus);\n\n    function updateOnlineStatus() {\n        if (navigator.onLine) {\n            switchState(getDefaultBtnState());\n        } else {\n            switchState(OFFLINE);\n        }\n    }\n\n    function getDefaultBtnState(state) {\n        if (!isOriginSecure()){\n            return NOT_SECURE_ORIGIN;\n        }\n        if (isAudioSupported()) {\n            return state || DEFAULT;\n        }\n        return NO_VOICE_SUPPORT;\n    }\n\n    //#endregion\n\n    //#region Define settings based on the btn mode\n    // For now we have two modes: small - for tutor, and big for demo\n    var btnModes = {\n        \"tutor\": {\n            btnSize: 44,\n            rightPos: 0,\n            leftPos: 0,\n            bottomPos: 0,\n            topPos: 0,\n        },\n        \"tutor-preview\": {\n            btnSize: 64,\n            rightPos: 0,\n            leftPos: 0,\n            bottomPos: 0,\n            topPos: 0,\n        },\n        \"demo\": {\n            btnSize: 80,\n            rightPos: 36,\n            leftPos: 36,\n            bottomPos: 36,\n            topPos: 0,\n        },\n        \"component\": {\n            btnSize: options.size || 64,\n            rightPos: 40,\n            leftPos: 40,\n            bottomPos: 40,\n            topPos: 0,\n        }\n    };\n\n    function isTutorMode() {\n        return mode.indexOf('tutor') > -1;\n    }\n\n    function isPreviewMode() {\n        return mode.indexOf('preview') > -1;\n    }\n\n    //#endregion\n\n    //#region Set styles for base layers\n\n    btnSize = btnModes[mode].btnSize;\n    \n    if (options.left !== undefined) {\n        isLeftAligned = true;\n        isRightAligned = false;\n    }\n    if (options.top !== undefined) {\n        isTopAligned = true;\n        isBottomAligned = false;\n    }\n\n    if (isLeftAligned) {\n        sideBtnPos = setDefautlPositionProps(options.left !== undefined ? options.left : btnModes[mode].leftPos);\n    } else {\n        sideBtnPos = setDefautlPositionProps(options.right !== undefined ? options.right : btnModes[mode].rightPos);\n    }\n\n    if (isTopAligned) {\n        topBtnPos = setDefautlPositionProps(options.top !== undefined ? options.top : btnModes[mode].topPos);\n    } else {\n        bottomBtnPos = setDefautlPositionProps(options.bottom !== undefined ? options.bottom : btnModes[mode].bottomPos);\n    }\n\n    function setDefautlPositionProps(value) {\n        if (/^\\d+$/.test(value)) {\n            return value + 'px';\n        }\n        return value;\n    }\n\n    btnZIndex = options.zIndex || 4;\n    btnIconsZIndex = btnZIndex - 2;\n    btnTextPanelsZIndex = btnZIndex - 1;\n    btnBgLayerZIndex = btnZIndex - 3;\n\n    // Define styles for root element\n    rootEl.style[isLeftAligned ? 'left' : 'right'] = sideBtnPos;\n\n    if (isTopAligned) {\n        rootEl.style.top = topBtnPos;\n    } else {\n        rootEl.style.bottom = bottomBtnPos;\n    }\n\n    if (options.zIndex !== undefined) {\n        rootEl.style.zIndex =  options.zIndex;\n    }\n    \n    rootEl.style.position = options.position ? options.position : 'fixed';\n\n    // Define styles for block with recognised text\n    var textHolderDefaultBorderColor = '#d5eded';\n    var textHolderDefaultBoxShadow = '0px 12px 50px -14px rgba(0,0,0,0.2), 0px 12px 50px -14px rgba(0,169,255,0.3)';\n    textHolderTextWrapper.classList.add('alanBtn-text-holder-text-wrapper');\n    textHolder.classList.add('alanBtn-text-holder');\n    setInnerPositionBasedOnOptions(textHolder, options);\n    if (isLeftAligned) {\n        textHolderTextWrapper.style.textAlign = 'left';\n        textHolder.style.left = '0px';\n    } else {\n        textHolder.style.right = '0px';\n        textHolder.style.float = 'right';\n    }\n    \n    textHolder.style.height = btnSize + 'px';\n    textHolder.style.minHeight = btnSize + 'px';\n    textHolder.style.maxHeight = btnSize + 'px';\n    textHolder.style.borderRadius = btnSize + 'px';\n    textHolder.style.borderRadius = btnSize + 'px';\n    textHolder.style.zIndex = btnTextPanelsZIndex;\n    textHolder.style.borderColor = textHolderDefaultBorderColor;\n    textHolder.style.boxShadow = textHolderDefaultBoxShadow;\n\n    // Define styles for message that informs that Alan Btn was disabled\n    setInnerPositionBasedOnOptions(alanBtnDisabledMessage, options);\n    alanBtnDisabledMessage.style.zIndex = btnTextPanelsZIndex;\n    alanBtnDisabledMessage.style.borderRadius = '7px';\n    alanBtnDisabledMessage.style.backgroundColor = '#ffffff';\n    alanBtnDisabledMessage.style.boxShadow = '0 2px 50px 0 rgba(86, 98, 112, 0.1)';\n    alanBtnDisabledMessage.style.position = 'absolute';\n    alanBtnDisabledMessage.style.color = 'red';\n    alanBtnDisabledMessage.style.width = '200px';\n    alanBtnDisabledMessage.style.fontSize = '14px';\n    alanBtnDisabledMessage.style.padding = '16px';\n    alanBtnDisabledMessage.innerText = \"This project's voice button has been disabled.\";\n    alanBtnDisabledMessage.classList.add(\"alan-btn-disabled-msg\");\n\n    function setInnerPositionBasedOnOptions(el, options) {\n        if (isTopAligned) {\n            el.style.top = 0;\n        } else {\n            el.style.bottom = 0;\n        }\n        if (isLeftAligned) {\n            el.style.left = 0;\n        } else {\n            el.style.right = 0;\n        }\n    }\n\n    function setStylesBasedOnSide() {\n        if (isLeftAligned) {\n            btn.style.left = 0;\n            btn.style.right = '';\n            textHolder.classList.remove('left-side');\n            textHolder.classList.add('right-side');\n        } else {\n            btn.style.right = 0;\n            btn.style.left = '';\n            textHolder.classList.remove('right-side');\n            textHolder.classList.add('left-side');\n        }\n    }\n\n    // Define base styles for btn\n    btn.style.width = btnSize + 'px';\n    btn.style.minWidth = btnSize + 'px';\n    btn.style.maxWidth = btnSize + 'px';\n    btn.style.minHeight = btnSize + 'px';\n    btn.style.height = btnSize + 'px';\n    btn.style.maxHeight = btnSize + 'px';\n    btn.style.color = '#fff';\n    btn.style.position = 'absolute';\n    if (isTopAligned) {\n        btn.style.top = 0;\n    } else {\n        btn.style.bottom = 0;\n    }\n    setStylesBasedOnSide();\n    btn.style.borderRadius = '50%';\n    btn.style.boxShadow = '0 8px 10px 0 rgba(0, 75, 144, 0.35)';\n    btn.style.textAlign = 'center';\n    btn.style.transition = 'all 0.4s ease-in-out';\n    btn.style.zIndex = btnZIndex;\n\n    // Specify tabIndex if it exists in options\n    if (options && options.tabIndex) {\n        btn.tabIndex = options.tabIndex;\n    }\n\n    // Specify cursor for btn\n    if (isPreviewMode()) {\n        btn.style.cursor = 'default';\n    } else {\n        btn.style.cursor = 'pointer';\n    }\n\n    // Define base styles for microphone btn\n    micIcon.style.minHeight = '100%';\n    micIcon.style.height = '100%';\n    micIcon.style.maxHeight = '100%';\n    micIcon.style.top = '0%';\n    micIcon.style.left = '0%';\n    micIcon.style.zIndex = btnIconsZIndex;\n    micIcon.style.position = 'relative';\n    micIcon.style.transition = 'all 0.4s ease-in-out';\n\n    function setUpStylesForLogoParts(logos) {\n        for (var i = 0; i < logos.length; i++) {\n            var obj = logos[i];\n            logos[i].style.minHeight = '100%';\n            logos[i].style.height = '100%';\n            logos[i].style.maxHeight = '100%';\n            logos[i].style.minWidth = '100%';\n            logos[i].style.width = '100%';\n            logos[i].style.maxWidth = '100%';\n            logos[i].style.top = '0%';\n            logos[i].style.left = '0%';\n            logos[i].style.position = 'absolute';\n            logos[i].style.pointerEvents = 'none';\n            logos[i].style.animationIterationCount = 'infinite';\n            logos[i].style.animationDuration = '9s';\n            logos[i].style.animationTimingFunction = 'ease-in-out';\n            logos[i].style.opacity = 0;\n            micIcon.appendChild(logos[i]);\n        }\n    }\n\n    logoState1.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAxPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFogTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlLTIiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState2.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LDEuODU4NDEzMzFlLTE1IDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgTDMwLjk0NDQ0NDQsMCBMMzAuODIyNzM0NywxLjgzNTczNjRlLTE1IEMzMC43OTI0NzYzLDEuODk0OTg1MzllLTE1IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgQzMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LDIuMDMyMDE2NDNlLTE1IDE3LjE3NzI2NTMsMCBMMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState3.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n    logoState4.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA0PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n    logoState5.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA1PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBMMzAuOTQ0NDQ0NCwtMS40MjEwODU0N2UtMTQgTDMwLjgyMjczNDcsLTEuMjM3NTExODNlLTE0IEMzMC43OTI0NzYzLC0xLjIzMTU4NjkzZS0xNCAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LjI3MTE5MjQsMjEgTDIzLjk1NjQ1ODIsMjEgQzI0LjczMDk1NjIsMjAuOTk5ODkzOSAyNS40NDE1ODY3LDIxLjI5NTM4NDggMjUuODAxNDg0NiwyMS45ODIzNzY3IEwyOS45ODE5MDE1LDI5Ljk2MjE3NjkgQzMwLjMzODM0NCwzMC42NDI1NzMyIDMwLjA3NjY4NTIsMzEuNDgzNTk5NyAyOS4zOTc0NzAxLDMxLjg0MDY2MjEgQzI5LjE5ODM4MzgsMzEuOTQ1MzIxNSAyOC45NzY5MDkzLDMyIDI4Ljc1MjA3MzgsMzIgTDExLjIwOTMzNzgsMzIgTDEuNzA3ODY0OTUsMzIgQzAuOTQwODAyNzk2LDMyIDAuMzE4OTc2MDU5LDMxLjM3NzA5MTggMC4zMTg5NzYwNTksMzAuNjA4Njk1NyBDMC4zMTg5NzYwNTksMzAuMzg0NTk0OCAwLjM3MzAxNTYxOCwzMC4xNjM4MSAwLjQ3NjQ5NzEwNiwyOS45NjUxMjU2IEw0LjYzMDYyNzg1LDIxLjk4OTE5NDUgQzQuOTg5NjE3NzYsMjEuMjk5OTMzOSA1LjcwMTMxMTAxLDIxLjAwMDEwNjMgNi40NzczOTQ2NiwyMSBMMTguMjcxMTkyNCwyMSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState6.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA2PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBMMzAuOTQ0NDQ0NCwwIEwzMC44MjI3MzQ3LDEuODM1NzM2NGUtMTUgQzMwLjc5MjQ3NjMsMS44OTQ5ODUzOWUtMTUgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState7.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA3PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEwzMC45NDQ0NDQ0LDAgTDMwLjgyMjczNDcsMS44MzU3MzY0ZS0xNSBDMzAuNzkyNDc2MywxLjg5NDk4NTM5ZS0xNSAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEMzMC42Nzk5OTUsMS44NTg0MTMzMWUtMTUgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState8.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n    logoState9.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA5PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDkiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n    logoState10.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTEwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMTAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBMMS43MDc4NjQ5NSwzMiBDMC45NDA4MDI3OTYsMzIgMC4zMTg5NzYwNTksMzEuMzc3MDkxOCAwLjMxODk3NjA1OSwzMC42MDg2OTU3IEMwLjMxODk3NjA1OSwzMC4zODQ1OTQ4IDAuMzczMDE1NjE4LDMwLjE2MzgxIDAuNDc2NDk3MTA2LDI5Ljk2NTEyNTYgTDQuNjMwNjI3ODUsMjEuOTg5MTk0NSBDNC45ODk2MTc3NiwyMS4yOTk5MzM5IDUuNzAxMzExMDEsMjEuMDAwMTA2MyA2LjQ3NzM5NDY2LDIxIEwxOC4yMDEzODg5LDIxIEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUtMiIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBDMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LC0xLjIxNzg4MzgzZS0xNCAxNy4xNzcyNjUzLC0xLjQyMTA4NTQ3ZS0xNCBMMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n\n    setUpStylesForLogoParts([\n        logoState1,\n        logoState2,\n        logoState3,\n        logoState4,\n        logoState5,\n        logoState6,\n        logoState7,\n        logoState8,\n        logoState9,\n        logoState10,\n    ]);\n\n    // Define base styles for triangle bellow the microphone btn\n    defaultStateBtnIcon.src = defaultStateBtnIconImg;\n    defaultStateBtnIcon.style.minHeight = '100%';\n    defaultStateBtnIcon.style.height = '100%';\n    defaultStateBtnIcon.style.maxHeight = '100%';\n    defaultStateBtnIcon.style.minWidth = '100%';\n    defaultStateBtnIcon.style.width = '100%';\n    defaultStateBtnIcon.style.maxWidth = '100%';\n    defaultStateBtnIcon.style.top = '0%';\n    defaultStateBtnIcon.style.left = '0%';\n    defaultStateBtnIcon.style.position = 'absolute';\n    defaultStateBtnIcon.style.pointerEvents = 'none';\n    defaultStateBtnIcon.style.borderRadius = '50%';\n    micIcon.appendChild(defaultStateBtnIcon);\n\n    micTriangleIcon.style.minHeight = '100%';\n    micTriangleIcon.style.height = '100%';\n    micTriangleIcon.style.maxHeight = '100%';\n    micTriangleIcon.style.minWidth = '100%';\n    micTriangleIcon.style.width = '100%';\n    micTriangleIcon.style.maxWidth = '100%';\n    micTriangleIcon.style.top = '0%';\n    micTriangleIcon.style.left = '0%';\n    micTriangleIcon.style.zIndex = btnIconsZIndex;\n    micTriangleIcon.style.position = 'absolute';\n    micTriangleIcon.style.opacity = 0;\n    micTriangleIcon.style.transition = 'all 0.4s ease-in-out';\n    micTriangleIcon.style.overflow = 'hidden';\n    micTriangleIcon.style.borderRadius = '50%';\n    micTriangleIcon.style.backgroundSize = '100% 100%';\n    micTriangleIcon.style.backgroundPosition = 'center center';\n    micTriangleIcon.style.backgroundRepeat = 'no-repeat';\n    micTriangleIcon.classList.add('triangleMicIconBg');\n    micTriangleIcon.classList.add('triangleMicIconBg-default');\n\n    micCircleIcon.style.minHeight = '100%';\n    micCircleIcon.style.height = '100%';\n    micCircleIcon.style.maxHeight = '100%';\n    micCircleIcon.style.minWidth = '100%';\n    micCircleIcon.style.width = '100%';\n    micCircleIcon.style.maxWidth = '100%';\n    micCircleIcon.style.top = '0%';\n    micCircleIcon.style.left = '0%';\n    micCircleIcon.style.zIndex = btnIconsZIndex;\n    micCircleIcon.style.position = 'absolute';\n    micCircleIcon.style.opacity = 0;\n    micCircleIcon.style.transition = 'all 0.4s ease-in-out';\n    micCircleIcon.style.overflow = 'hidden';\n    micCircleIcon.style.borderRadius = '50%';\n    micCircleIcon.style.backgroundSize = '0% 0%';\n    micCircleIcon.style.backgroundPosition = 'center center';\n    micCircleIcon.style.backgroundRepeat = 'no-repeat';\n    micCircleIcon.classList.add('circleMicIconBg');\n\n    // Define base styles for loader mic icon in disconnected state\n    disconnectedMicLoaderIcon.style.minHeight = '70%';\n    disconnectedMicLoaderIcon.style.height = '70%';\n    disconnectedMicLoaderIcon.style.maxHeight = '70%';\n    disconnectedMicLoaderIcon.style.top = '15%';\n    disconnectedMicLoaderIcon.style.left = '15%';\n    disconnectedMicLoaderIcon.style.zIndex = btnIconsZIndex;\n    disconnectedMicLoaderIcon.style.position = 'absolute';\n    disconnectedMicLoaderIcon.style.transition = 'all 0.4s ease-in-out';\n    disconnectedMicLoaderIcon.style.opacity = '0';\n    disconnectedMicLoaderIcon.src = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiB2aWV3Qm94PSIwIDAgMTkyIDE5MiI+CiAgICA8ZyBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTk2IDBjNTMuMDIgMCA5NiA0Mi45OCA5NiA5NnMtNDIuOTggOTYtOTYgOTZTMCAxNDkuMDIgMCA5NiA0Mi45OCAwIDk2IDB6IiBvcGFjaXR5PSIuMDIiLz4KICAgICAgICA8cGF0aCBkPSJNMTMxLjk2NiAxOS4wOTJjLTMwLTE0LTY1LjI4NC05Ljg0OS05MS4xNDIgMTIuNTc1QzE0Ljk2NiA1NC4wOTIgNi44NSA4My44MSAxMi45MDggMTEzLjk1YzYuMDU4IDMwLjE0MiAzMC4zMDIgNTYuMTkgNjAuMDU4IDY0LjE0MiAzNS4xODMgOS40MDYgNzMtNCA5My0zNC0xNy45MjQgMjMuOTE2LTUyLjM2NiAzOC4yOTMtODMgMzMtMzAuMTY4LTUuMjEtNTcuMTA0LTMxLjExLTY0LTYxLTcuMzQ3LTMxLjgzNS43NzktNTYgMjctODBzODAtMjYgMTA5IDljNS41MzYgNi42ODEgMTMgMTkgMTUgMzQgMSA2IDEgNyAyIDEyIDAgMiAyIDQgNCA0IDMgMCA1LjM3NC0yLjI1NiA1LTYtMy0zMC0yMS41NTYtNTcuMTkzLTQ5LTcweiIgb3BhY2l0eT0iLjQiLz4KICAgIDwvZz4KPC9zdmc+Cg==\";\n    disconnectedMicLoaderIcon.style.animation = disconnectedLoaderAnimation;\n\n    // Define base styles for mic icon in low valume state\n    lowVolumeMicIcon.style.minHeight = '100%';\n    lowVolumeMicIcon.style.height = '100%';\n    lowVolumeMicIcon.style.maxHeight = '100%';\n    lowVolumeMicIcon.style.top = '0%';\n    lowVolumeMicIcon.style.left = '0%';\n    lowVolumeMicIcon.style.zIndex = btnIconsZIndex;\n    lowVolumeMicIcon.style.position = 'absolute';\n    lowVolumeMicIcon.style.transition = 'all 0.4s ease-in-out';\n    lowVolumeMicIcon.style.opacity = '0';\n    lowVolumeMicIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1taWM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iQWxhbi1CdXR0b24tLy1BbmltYXRpb24tLy1idXR0b24tbm8tbWljIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8cGF0aCBkPSJNMzIsMTguNDczNjg0MiBDMzIsMjUuNzE5NDczNyAyNi43OCwzMS42OTI2MzE2IDIwLDMyLjY5ODQyMTEgTDIwLDQwIEMyMCw0MS4xMDQ1Njk1IDE5LjEwNDU2OTUsNDIgMTgsNDIgQzE2Ljg5NTQzMDUsNDIgMTYsNDEuMTA0NTY5NSAxNiw0MCBMMTYsMzIuNjk4NDIxMSBDOS4yMiwzMS42OTI2MzE2IDQsMjUuNzE5NDczNyA0LDE4LjQ3MzY4NDIgTDQsMTggQzQsMTYuODk1NDMwNSA0Ljg5NTQzMDUsMTYgNiwxNiBDNy4xMDQ1Njk1LDE2IDgsMTYuODk1NDMwNSA4LDE4IEw4LDE4LjQ3MzY4NDIgQzgsMjQuMTQxODY5OCAxMi40NzcxNTI1LDI4LjczNjg0MjEgMTgsMjguNzM2ODQyMSBDMjMuNTIyODQ3NSwyOC43MzY4NDIxIDI4LDI0LjE0MTg2OTggMjgsMTguNDczNjg0MiBMMjgsMTggQzI4LDE2Ljg5NTQzMDUgMjguODk1NDMwNSwxNiAzMCwxNiBDMzEuMTA0NTY5NSwxNiAzMiwxNi44OTU0MzA1IDMyLDE4IEwzMiwxOC40NzM2ODQyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjgiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LC00LjUyNzM3MjYzZS0xNCBDMjEuMzEzNzA4NSwtNC42MTg1Mjc3OGUtMTQgMjQsMi43NTY5ODMzOCAyNCw2LjE1Nzg5NDc0IEwyNCwxOC40NzM2ODQyIEMyNCwyMS44NzQ1OTU2IDIxLjMxMzcwODUsMjQuNjMxNTc4OSAxOCwyNC42MzE1Nzg5IEMxNC42ODYyOTE1LDI0LjYzMTU3ODkgMTIsMjEuODc0NTk1NiAxMiwxOC40NzM2ODQyIEwxMiw2LjE1Nzg5NDc0IEMxMiwyLjc1Njk4MzM4IDE0LjY4NjI5MTUsLTQuNTI3MzcyNjNlLTE0IDE4LC00LjYxODUyNzc4ZS0xNCBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC42Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLjgxLDMuMjcgTDM0LjczLDM0LjE5IEMzNS40MzE0MDE2LDM0Ljg5MTQwMTYgMzUuNDMxNDAxNiwzNi4wMjg1OTg0IDM0LjczLDM2LjczIEMzNC4wMjg1OTg0LDM3LjQzMTQwMTYgMzIuODkxNDAxNiwzNy40MzE0MDE2IDMyLjE5LDM2LjczIEwxLjI3LDUuODEgQzAuNTY4NTk4MzY4LDUuMTA4NTk4MzcgMC41Njg1OTgzNjgsMy45NzE0MDE2MyAxLjI3LDMuMjcgQzEuOTcxNDAxNjMsMi41Njg1OTgzNyAzLjEwODU5ODM3LDIuNTY4NTk4MzcgMy44MSwzLjI3IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\";\n\n    // Define base styles for noVoiceSupport icon in low valume state\n    noVoiceSupportMicIcon.style.minHeight = '100%';\n    noVoiceSupportMicIcon.style.height = '100%';\n    noVoiceSupportMicIcon.style.maxHeight = '100%';\n    noVoiceSupportMicIcon.style.top = '0%';\n    noVoiceSupportMicIcon.style.left = '0%';\n    noVoiceSupportMicIcon.style.zIndex = btnIconsZIndex;\n    noVoiceSupportMicIcon.style.position = 'absolute';\n    noVoiceSupportMicIcon.style.transition = 'all 0.4s ease-in-out';\n    noVoiceSupportMicIcon.style.opacity = '0';\n    noVoiceSupportMicIcon.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIuSURBVHgB7dvxUYMwFAbwpxMwAhvoBtVJygZ1A92gI1Qn6AjoBO0GsEG7wfPlgCtNA7xASzX5fnf5oyThLp+BQDiJAAAAAAAAAAAAAAAAxmHmDyk5n+ykLAn6SUhpHVaXwrQhcBsIr5FTLGSwb1IOmpkj9RnrxXE5+1x+fH7Pwyw0+PKSLLpCrGeq1oFiwNWiUGhCZE8UC22I7IliogmRPVFshkJkTxSjvhDZE8WqJ0QEqNURIgL0MTVEgmkhElTGhkix4WqzoNlYWFp1k1fhvvMHgc9n2cFRPzXAou/8t/JAM7EH/SD66ocM9bfrb+WR7kTGm1iHjqR3HDjXbOYMsLR+p9bvPentr3iuSeYM0B7Uwvr9RXqfA+cqKTRyma2sdSB3tMlZJ7X62Ru3Qa7CiSOIF6uN9pmw4NMuTjYUcDAcM8wEkTjaZdasytm9AfHsOL6lUJkZx5c2yr7a2ZlSyGSAa8egt5qBK0JU/TH+Na7uha4QzLHBm7+0ee8Iz/Sf/XlwtjeRtnq2mVU4dVSXUr6l/NDpccS0e5KSSekKybR9lReQkmLAV9hU7ZiFKcWCq8t5zeOtWfndOWhczcYN6+VSFq2+RfQhGnUYWUeY5ph5m0k6+iHENjs9RXuE2OYbYN3HFeKOYjQmwLrfRYgUo7EB1n2bEM03khXd0F0epDXs0Obaovd1ty39UCDAif5ygO0PRyWBH64eqJuFAP9kAwAAAAAAAAAAAAAAU/wC52820szaQtwAAAAASUVORK5CYII=\";\n    \n    // Define base st`yles for ovals\n    var ovalCoefficient = 2;\n    var defaultBtnColorOptions = {\n        \"idle\": {\n            \"background\": {\n                \"color\": [\n                    'rgb(34, 203, 255)',\n                    'rgb(25, 149, 255)'\n                ]\n            },\n            \"hover\": {\n                \"color\": [\n                    'rgba(0, 70, 255, 0.95)',\n                    'rgba(0, 156,  255, 0.95)'\n                ]\n            }\n        },\n        \"listen\": {\n            \"background\": {\n                \"color\": [\n                    'rgba(0, 70, 255, 0.95)',\n                    'rgba(0, 156,  255, 0.95)'\n                ]\n            },\n            \"hover\": {\n                \"color\": ['rgba(0, 70, 255, 0.95)',\n                    'rgb(0, 70, 255)']\n            },\n        },\n        \"process\": {\n            \"background\": {\n                \"color\": [\n                    'rgba(0, 255, 205, 0.95)',\n                    'rgba(0, 115, 255, 0.95)'\n                ]\n\n            },\n            \"hover\": {\n                \"color\": [\n                    'rgb(0, 115, 255)',\n                    'rgba(0, 115, 255, 0.95)'\n                ]\n            }\n        },\n\n        \"reply\": {\n            \"background\": {\n                \"color\": [\n                    'rgba(122, 40, 255, 0.95)',\n                    'rgba(61, 122, 255, 0.95)'\n                ]\n            },\n            \"hover\": {\n                \"color\": [\n                    'rgba(122, 40, 255, 0.95)',\n                    'rgb(122, 40, 255)'\n                ]\n            },\n        }\n    };\n    btnOval1.style.minHeight = btnSize / ovalCoefficient + 'px';\n    btnOval1.style.height = btnSize / ovalCoefficient + 'px';\n    btnOval1.style.maxHeight = btnSize / ovalCoefficient + 'px';\n    btnOval1.style.minWidth = btnSize + 'px';\n    btnOval1.style.width = btnSize + 'px';\n    btnOval1.style.maxWidth = btnSize + 'px';\n    btnOval1.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n    btnOval1.style.left = 0;\n    btnOval1.style.zIndex = btnBgLayerZIndex;\n    btnOval1.style.position = 'absolute';\n    btnOval1.style.transition = 'all 0.4s ease-in-out';\n    btnOval1.style.opacity = '.5';\n    btnOval1.style.borderRadius = '100px';\n    btnOval1.style.transform = 'rotate(-315deg)';\n    btnOval1.style.filter = 'blur(' + btnSize / 10 + 'px)';\n    btnOval1.classList.add('alanBtn-oval-bg-default');\n\n\n    btnOval2.style.minHeight = btnSize / ovalCoefficient + 'px';\n    btnOval2.style.height = btnSize / ovalCoefficient + 'px';\n    btnOval2.style.maxHeight = btnSize / ovalCoefficient + 'px';\n    btnOval2.style.minWidth = btnSize + 'px';\n    btnOval2.style.width = btnSize + 'px';\n    btnOval2.style.maxWidth = btnSize + 'px';\n    btnOval2.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n    btnOval2.style.left = 0;\n    btnOval2.style.zIndex = btnBgLayerZIndex;\n    btnOval2.style.position = 'absolute';\n    btnOval2.style.transition = 'all 0.4s ease-in-out';\n    btnOval2.style.opacity = '.5';\n    btnOval2.style.borderRadius = '100px';\n    btnOval2.style.transform = 'rotate(-45deg)';\n    btnOval2.style.filter = 'blur(' + btnSize / 10 + 'px)';\n    btnOval2.classList.add('alanBtn-oval-bg-default');\n\n    // Define base styles for mic icon in offline state\n    offlineIcon.style.minHeight = '100%';\n    offlineIcon.style.height = '100%';\n    offlineIcon.style.maxHeight = '100%';\n    offlineIcon.style.top = '0%';\n    offlineIcon.style.left = '0%';\n    offlineIcon.style.zIndex = btnIconsZIndex;\n    offlineIcon.style.position = 'absolute';\n    offlineIcon.style.transition = 'all 0.4s ease-in-out';\n    offlineIcon.style.opacity = '0';\n    offlineIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1uZXR3b3JrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLW5vLW5ldHdvcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJpY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMS4wMDAwMDAsIDIyLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMzMsMiBDMzQuNjU2ODU0MiwyIDM2LDMuMzQzMTQ1NzUgMzYsNSBMMzYsMjkgQzM2LDMwLjY1Njg1NDIgMzQuNjU2ODU0MiwzMiAzMywzMiBDMzEuMzQzMTQ1OCwzMiAzMCwzMC42NTY4NTQyIDMwLDI5IEwzMCw1IEMzMCwzLjM0MzE0NTc1IDMxLjM0MzE0NTgsMiAzMywyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjQiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTIzLDggQzI0LjY1Njg1NDIsOCAyNiw5LjM0MzE0NTc1IDI2LDExIEwyNiwyOSBDMjYsMzAuNjU2ODU0MiAyNC42NTY4NTQyLDMyIDIzLDMyIEMyMS4zNDMxNDU4LDMyIDIwLDMwLjY1Njg1NDIgMjAsMjkgTDIwLDExIEMyMCw5LjM0MzE0NTc1IDIxLjM0MzE0NTgsOCAyMyw4IFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjYiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTEzLDE2IEMxNC42NTY4NTQyLDE2IDE2LDE3LjM0MzE0NTggMTYsMTkgTDE2LDI5IEMxNiwzMC42NTY4NTQyIDE0LjY1Njg1NDIsMzIgMTMsMzIgQzExLjM0MzE0NTgsMzIgMTAsMzAuNjU2ODU0MiAxMCwyOSBMMTAsMTkgQzEwLDE3LjM0MzE0NTggMTEuMzQzMTQ1OCwxNiAxMywxNiBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC44Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLDIyIEM0LjY1Njg1NDI1LDIyIDYsMjMuMzQzMTQ1OCA2LDI1IEw2LDI5IEM2LDMwLjY1Njg1NDIgNC42NTY4NTQyNSwzMiAzLDMyIEMxLjM0MzE0NTc1LDMyIDIuMDI5MDYxMjVlLTE2LDMwLjY1Njg1NDIgMCwyOSBMMCwyNSBDLTIuMDI5MDYxMjVlLTE2LDIzLjM0MzE0NTggMS4zNDMxNDU3NSwyMiAzLDIyIFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNS44MSwxLjI3IEwzNi43MywzMi4xOSBDMzcuNDMxNDAxNiwzMi44OTE0MDE2IDM3LjQzMTQwMTYsMzQuMDI4NTk4NCAzNi43MywzNC43MyBDMzYuMDI4NTk4NCwzNS40MzE0MDE2IDM0Ljg5MTQwMTYsMzUuNDMxNDAxNiAzNC4xOSwzNC43MyBMMy4yNywzLjgxIEMyLjU2ODU5ODM3LDMuMTA4NTk4MzcgMi41Njg1OTgzNywxLjk3MTQwMTYzIDMuMjcsMS4yNyBDMy45NzE0MDE2MywwLjU2ODU5ODM2OCA1LjEwODU5ODM3LDAuNTY4NTk4MzY4IDUuODEsMS4yNyBaIiBpZD0iUGF0aCIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\";\n\n    btnBgDefault.classList.add('alanBtn-bg-default');\n    btnBgListening.classList.add('alanBtn-bg-listening');\n    btnBgSpeaking.classList.add('alanBtn-bg-speaking');\n    btnBgIntermediate.classList.add('alanBtn-bg-intermediate');\n    btnBgUnderstood.classList.add('alanBtn-bg-understood');\n\n    applyBgStyles(btnBgDefault);\n    applyBgStyles(btnBgListening);\n    applyBgStyles(btnBgSpeaking);\n    applyBgStyles(btnBgIntermediate);\n    applyBgStyles(btnBgUnderstood);\n\n    var onOpacity = 1;\n    var offOpacity = 0;\n\n\n    btnBgDefault.style.opacity = onOpacity;\n\n    var allIcons = [\n        micCircleIcon,\n        micTriangleIcon,\n        micIcon,\n        offlineIcon,\n        lowVolumeMicIcon,\n        noVoiceSupportMicIcon,\n        logoState1,\n        logoState2,\n        logoState3,\n        logoState4,\n        logoState5,\n        logoState6,\n        logoState7,\n        logoState8,\n        logoState9,\n        logoState10,\n    ];\n\n    for (var i = 0; i < allIcons.length; i++) {\n        allIcons[i].setAttribute('draggable', 'false');\n    }\n\n    hideLayers([\n        btnBgListening,\n        btnBgSpeaking,\n        btnBgIntermediate,\n        btnBgUnderstood,\n    ]);\n\n    btn.appendChild(btnOval1);\n    btn.appendChild(btnOval2);\n    btn.appendChild(btnBgDefault);\n    btn.appendChild(btnBgListening);\n    btn.appendChild(btnBgSpeaking);\n    btn.appendChild(btnBgIntermediate);\n    btn.appendChild(btnBgUnderstood);\n    btn.appendChild(micIcon);\n    btn.appendChild(micTriangleIcon);\n    btn.appendChild(micCircleIcon);\n    btn.appendChild(disconnectedMicLoaderIcon);\n    btn.appendChild(lowVolumeMicIcon);\n    btn.appendChild(noVoiceSupportMicIcon);\n    btn.appendChild(offlineIcon);\n    btn.classList.add(\"alanBtn\");\n\n    if(isMobile()){\n        rootEl.classList.add(\"mobile\");\n    }\n\n    //#endregion\n\n    //#region Add needed styles to the page\n    createAlanStyleSheet();\n\n    function getStyleSheetMarker(andFlag) {\n        return '.alan-' + getProjectId() + (andFlag ? '' : ' ');\n    }\n\n    function createAlanStyleSheet(btnOptions) {\n        var style;\n        var keyFrames = '';\n        var projectId = getProjectId();\n\n        var existingStyleSheet;\n\n        if (options.shadowDOM) {\n            existingStyleSheet = options.shadowDOM.getElementById('alan-stylesheet-' + projectId);\n        } else {\n            existingStyleSheet = document.getElementById('alan-stylesheet-' + projectId);\n        }\n\n        if (existingStyleSheet) {\n            existingStyleSheet.disabled = true;\n            existingStyleSheet.parentNode.removeChild(existingStyleSheet);\n        }\n\n        style = document.createElement('style');\n        style.setAttribute('id', 'alan-stylesheet-' + projectId);\n        style.type = 'text/css';\n\n        keyFrames += '.alanBtn-root * {  box-sizing: border-box; font-family: \\'Lato\\', sans-serif; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;}';\n\n        if (!isMobile()) {\n            keyFrames += getStyleSheetMarker() + '.alanBtn{transform: scale(1);transition:all 0.4s ease-in-out;} .alanBtn:hover{transform: scale(1.11111);transition:all 0.4s ease-in-out;}.alanBtn:focus {transform: scale(1);transition:all 0.4s ease-in-out;  border: solid 3px #50e3c2;  outline: none;  }';\n        }\n        \n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder { position:relative; max-width:440px; font-family: \\'Lato\\', sans-serif; font-size: 20px;line-height: 1.2;     min-height: 40px;  color: #000; font-weight: normal; background-color: rgba(245, 252, 252, 0.8);border-radius:32px 0 0 32px; display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack: activate;-ms-flex-pack: start;justify-content: start;}';\n        \n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-text-holder {max-width: calc(100% - ' + sideBtnPos + ');}';\n\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.left-side { padding-right: ' + btnSize + 'px;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.right-side { padding-left: ' + btnSize + 'px;}';\n        \n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.left-side .alanBtn-text-holder-text-wrapper {padding: 0 12px;}';\n        keyFrames += getStyleSheetMarker() + ' .alanBtn-text-holder.with-text.right-side .alanBtn-text-holder-text-wrapper {padding: 0 12px;}';\n        \n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-long  { font-size: 19px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-super-long  { font-size: 14px!important;line-height: 1.4!important;}  ';\n\n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-text-holder-long  { font-size: 12px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker(true) + '.mobile .alanBtn-text-holder-super-long  { font-size: 11px!important;line-height: 1.4!important;}  ';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-appearing {  animation: text-holder-appear 800ms ease-in-out forwards;  }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-disappearing {  animation: text-holder-disappear 800ms ease-in-out forwards;    }';\n\n        keyFrames += getStyleSheetMarker() + '.alan-btn-disabled {  pointer-events: none;  opacity: .5;  transition: all .2s ease-in-out;  }';\n        keyFrames += getStyleSheetMarker() + '.shadow-appear {  opacity: 1 !important;  }\\n';\n        keyFrames += getStyleSheetMarker() + '.shadow-disappear {  opacity: 0 !important;  transition: all .1s linear !important;  }';\n\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-no-voice-support .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-no-voice-support .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn:hover .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145))!important;}';\n\n        keyFrames += getStyleSheetMarker() + \".alan-btn-disabled-msg:after {content: '';  position: absolute;  bottom: 2px;  right: 0px;  height: 30px;  width: 90px;  background-size: 100% auto;  background-repeat: no-repeat;  background-position: center center;}\";\n\n        keyFrames += getStyleSheetMarker() + '.triangleMicIconBg {background-image:url(' + micTriangleIconImg + '); pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + '.circleMicIconBg {background-image:url(' + micCircleIconImg + '); pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + ' img {pointer-events: none;}';\n        keyFrames += getStyleSheetMarker() + ':hover .triangleMicIconBg-default {opacity:0!important;}';\n\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-gradient', '0%{backgroundPosition: 0 0;}50%{backgroundPosition: -100% 0;}100%{backgroundPosition: 0 0;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-pulsating', '0%{transform: scale(1.11111);}50%{transform: scale(1.0);}100%{transform: scale(1.11111);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-mic-pulsating', '0%{transform: scale(0.91);}50%{transform: scale(1.0);}100%{transform: scale(0.91);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-triangle-mic-pulsating', '0%{transform: scale(0.94);}50%{transform: scale(1.0);}100%{transform: scale(0.94);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-in', '0%{opacity: 0;}100%{opacity:1;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-out', '0%{opacity: 1;}100%{opacity:0;}');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-appear',\n            '0%{' +\n            'opacity:0; ' +\n            'color:transparent; ' +\n            'background-color:rgba(245, 252, 252, 0.0);' +\n            'border: solid 1px transparent; ' +\n            '}' +\n            '100%{' +\n            'opacity:1; ' +\n            'color:#000;' +\n            'background-color:rgba(245, 252, 252, 0.8);' +\n            '}');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-disappear',\n            '0%{' +\n            'opacity:1; ' +\n            'color:#000;' +\n            'background-color:rgba(245, 252, 252, 0.8);  ' +\n            '}' +\n            '100%{' +\n            'opacity:0; ' +\n            'color:transparent;' +\n            'background-color:rgba(245, 252, 252, 0.0);' +\n            'border: solid 1px transparent;' +\n            '}');\n\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-1-animation',\n            '0% {  opacity: 1;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 1;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-2-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 1;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-3-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 1;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-4-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 1;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-5-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 1;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-6-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 1;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-7-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 1;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-8-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 1;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-9-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 1;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-10-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 1;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('disconnected-loader-animation', '0%{  transform: rotate(0deg);  } 100%{  transform: rotate(360deg);  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval1-animation', '0%{  transform: rotate(-315deg);  } 50%{  transform: rotate(-495deg);  } 100%{  transform: rotate(-315deg);  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval2-animation', '0%{  transform: rotate(-45deg);  } 50%{  transform: rotate(-215deg);  } 100%{  transform: rotate(-45deg);  }');\n\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-text-fade-in', '0%{  opacity: 0;  } 100%{   opacity: 1;  }');\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-bg-default.super-hidden{opacity:0!important;display:none;}';\n\n        var predefinedBtnColorOptions = defaultBtnColorOptions;\n\n        if (btnOptions) {\n            if (btnOptions.btnLayerOptions) { //old settings\n                predefinedBtnColorOptions = defaultBtnColorOptions;\n            } else {\n                predefinedBtnColorOptions = btnOptions || defaultBtnColorOptions;\n            }\n        }\n\n        var btnBackgroundOptionKeys = Object.keys(predefinedBtnColorOptions);\n        var tempLayer;\n        var stateName;\n        var stateMapping = {\n            idle: ['default'],\n            listen: ['listening'],\n            process: ['intermediate', 'understood'],\n            reply: ['speaking'],\n        };\n        var stateNameClasses,stateNameClass;\n        var states = Object.keys(stateMapping);\n        for (i = 0; i < states.length; i++) {\n            stateName = states[i];\n            stateNameClasses = stateMapping[stateName];\n            tempLayer = predefinedBtnColorOptions[stateName];\n            for(var j = 0; j < stateNameClasses.length; j++){\n                stateNameClass = stateNameClasses[j];\n            if(tempLayer.background){\n                keyFrames += getStyleSheetMarker() + '.alanBtn-bg-' + stateNameClass + ' {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.background.color[0]+','+tempLayer.background.color[1]+');';\n                keyFrames += '}';\n                keyFrames += getStyleSheetMarker() + '.alanBtn-oval-bg-' + stateNameClass + ' {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.background.color[0]+','+tempLayer.background.color[1]+');';\n                keyFrames += '}';\n            }\n\n            if(tempLayer.hover && !isMobile()){\n                keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n                keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n\n                keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n                keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n            }\n        }\n\n            \n        }\n\n        style.innerHTML = keyFrames;\n\n        if (options.shadowDOM) {\n            options.shadowDOM.prepend(style);\n        } else {\n            document.getElementsByTagName('head')[0].appendChild(style);\n        }\n    }\n\n    function generateKeyFrame(name, rule) {\n        var prefixes = ['@-webkit-keyframes', '@keyframes'];\n        var r = '';\n        for (var i = 0; i < prefixes.length; i++) {\n            r += prefixes[i] + ' ' + name + '{' + rule + '} ';\n        }\n        return r;\n    }\n\n    //#endregion\n\n    //#region Connect to the project and add listeners\n    if (options) {\n        if (options.alanAudio) {\n            alanAudio = options.alanAudio;\n        }\n        if (options.key) {\n            tryReadSettingsFromLocalStorage();\n            switchState(getDefaultBtnState(DISCONNECTED));\n\n            window.tutorProject = alan.project(options.key, getAuthData(options.authData), options.host, null, { platform: (mode === 'demo' ? 'alanplayground' : null), appName: window.location.hostname });\n            window.tutorProject.on('connectStatus', onConnectStatusChange);\n            window.tutorProject.on('options', onOptionsReceived);\n\n            // console.info('BTN: tutorProject', options.key);\n        } else {\n            switchState(getDefaultBtnState());\n        }\n    }\n\n    function guid() {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                       .toString(16)\n                       .substring(1);\n        }\n    \n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n            s4() + '-' + s4() + s4() + s4();\n    }\n\n    function getAuthData(data) {\n        var authData = data || {};\n        var curUuid, uuidKey;\n\n        if (isLocalStorageAvailable && authData) {\n            uuidKey = 'alan-btn-uuid-' + getProjectId();\n            curUuid = localStorage.getItem(uuidKey);\n            if (curUuid) {\n                authData.uuid = curUuid;\n            } else {\n                authData.uuid = guid();\n                localStorage.setItem(uuidKey, authData.uuid);\n            }\n        } else {\n            authData.uuid = guid();\n        }\n\n        return authData;\n    }\n\n    function getProjectId() {\n        var key;\n        if (options.key) {\n            key = options.key;\n            return key.substr(0, key.indexOf('/'));\n        }\n\n        return mode;\n    }\n\n    function debounce(func, wait) {\n        var timeout;\n        var delay = wait || 100;\n        return function (args) {\n            clearTimeout(timeout);\n            timeout = setTimeout(function () {\n                func.apply(this, args);\n            }, delay);\n        };\n    }\n\n    function _activateAlanButton(resolve) {\n        playSoundOn();\n        if (options.onBeforeMicStart) {\n            options.onBeforeMicStart();\n        }\n        alanAudio.on('micStart', onMicStart);\n        alanAudio.on('micStop', onMicStop);\n        alanAudio.on('micFail', onMicFail);\n        alanAudio.on('playStart', onPlayStart);\n        alanAudio.on('playStop', onPlayStop);\n        alanAudio.on('command', onCommandCbInMicBtn);\n        alanAudio.start(resolve);\n        if (options.onMicStarted) {\n            options.onMicStarted();\n        }\n    }\n\n    function activateAlanButton() {\n        var activatePromise = new Promise(function (resolve, reject) {\n            \n            if (btnDisabled) {\n                reject({err: BTN_IS_DISABLED_CODE});\n                return;\n            }\n\n            if (isPreviewMode()) {\n                reject({err: PREVIEW_MODE_CODE});\n                return;\n            }\n\n            function waitForConnectionForActivateCall(res) {\n                if (res === 'authorized') {\n                    window.tutorProject.off('connectStatus', waitForConnectionForActivateCall);\n                    _activateAlanButton(resolve);\n                }\n            }\n\n            if (alanAudio) {\n                switch (state) {\n                    case DEFAULT:\n                        try {\n                            _activateAlanButton(resolve);\n                        } catch (e) {\n                            currentErrMsg = NO_VOICE_SUPPORT_IN_BROWSER_MSG;\n                            reject({ err: NO_VOICE_SUPPORT_IN_BROWSER_CODE });\n                        }\n                        break;\n                    case DISCONNECTED:\n                    case OFFLINE:\n                        window.tutorProject.on('connectStatus', waitForConnectionForActivateCall);\n                        break;\n                    case PERMISSION_DENIED:\n                        reject({ err: MIC_BLOCKED_CODE });\n                        break;\n\n                    case LISTENING:\n                    case SPEAKING:\n                    case INTERMEDIATE:\n                    case UNDERSTOOD:\n                        resolve();\n                        break;\n                    default:\n                }\n            } else {\n                reject({ err: NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE });\n            }\n        });\n\n        return activatePromise;\n    }\n\n    btn.addEventListener('click', function (e) {\n        if (afterMouseMove) return;\n        if (!dndBackAnimFinished) return;\n        if (currentErrMsg) {\n            alert(currentErrMsg);\n            return;\n        }\n        if (alanAudio) {\n            if (state === 'default') {\n                activateAlanButton();\n            } else {\n                alanAudio.stop();\n            }\n        } else {\n            throw new Error('No alan audio instance was provided');\n        }\n        //remove focus state from the btn after click\n        this.blur();\n    });\n\n    function showRecognisedText(e, text, forceOnMobile) {\n        // console.info('showRecognisedText');\n        var recognisedText = '';\n\n        if (isMobile() && forceOnMobile !== true) {\n            return;\n        }\n\n        if (hideS2TPanel) {\n            return;\n        }\n\n        recognisedTextVisible = true;\n        if (!options.hideRecognizedText) {\n            if (textHolder.classList.value.indexOf('alanBtn-text-appearing') === -1) {\n                textHolder.classList.add('with-text');\n                textHolder.classList.add('alanBtn-text-appearing');\n                textHolder.classList.remove('alanBtn-text-disappearing');\n            }\n\n            if (text) {\n                recognisedText = text;\n                textHolderTextWrapper.innerHTML = text;\n            } else {\n                recognisedText = e.text;\n                if (recognisedText.length > 200) {\n                    recognisedText = recognisedText.substr(0, 200);\n                }\n                textHolderTextWrapper.innerHTML = recognisedText;\n            }\n\n            if (recognisedText.length > 60 && recognisedText.length <= 80) {\n                textHolder.classList.add('alanBtn-text-holder-long');\n            } else if (recognisedText.length > 80) {\n                textHolder.classList.add('alanBtn-text-holder-super-long');\n            } else {\n                textHolder.classList.remove('alanBtn-text-holder-long');\n                textHolder.classList.remove('alanBtn-text-holder-super-long');\n            }\n            if (text) {\n                textHolder.appendChild(textHolderTextWrapper);\n            } else {\n                replaceRecognisedText(recognisedText);\n            }\n        }\n    }\n\n    function replaceRecognisedText(recognisedText) {\n        if (isMobile()) {\n            return;\n        }\n        if (!options.hideRecognizedText) {\n            textHolderTextWrapper.innerText = recognisedText;\n        }\n    }\n\n    function hideRecognisedText(delay, forceOnMobile) {\n        // console.info('hideRecognisedText');\n        if (isMobile() && forceOnMobile !==true ) {\n            return;\n        }\n\n        if (!options.hideRecognizedText && recognisedTextVisible) {\n            textHolder.classList.add('alanBtn-text-disappearing');\n            textHolder.classList.remove('alanBtn-text-appearing');\n\n            recognisedTextVisible = false;\n\n            setTimeout(function () {\n                textHolderTextWrapper.innerHTML = '';\n                textHolder.classList.remove('alanBtn-text-holder-long');\n                textHolder.classList.remove('alanBtn-text-holder-super-long');\n                textHolder.classList.remove('with-text');\n            }, delay || 810);\n        }\n    }\n\n    function shuffle(array) {\n        var currentIndex = array.length,\n            temporaryValue, randomIndex;\n\n        while (0 !== currentIndex) {\n\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n\n            temporaryValue = array[currentIndex];\n            array[currentIndex] = array[randomIndex];\n            array[randomIndex] = temporaryValue;\n        }\n\n        return array;\n    }\n\n    function onOptionsReceived(data) {\n        if (data && data.web && data.web.hidden === true) {\n            hideAlanBtn();\n        } else {\n            showAlanBtn();\n        }\n\n        if (data && data.web && data.web.hideS2TPanel === true) {\n            hideSpeach2TextPanel();\n        } else {\n            showSpeach2TextPanel();\n        }\n\n        if (data && data.web && data.web.timeout ) {\n            turnOffTimeout = data.web.timeout;\n            setTurnOffVoiceTimeout();\n        }\n\n        if (data && data.web && data.web.btnOptions) {\n            console.info('OPTIONS',data.web.btnOptions);\n            applyBtnOptions(data.web.btnOptions);\n        }\n\n        if (data && data.web && data.web.logoUrl) {\n            applyLogoOptions(data.web.logoUrl);\n        }\n\n        if (isLocalStorageAvailable && data) {\n            localStorage.setItem(getStorageKey(), JSON.stringify(data));\n        }\n    }\n\n    function onConnectStatusChange(res) {\n        console.info('BTN: connectStatus', res);\n\n        if (options.onConnectionStatus) {\n            options.onConnectionStatus(res);\n        }\n\n        if (res === 'disconnected') {\n            switchState(getDefaultBtnState(DISCONNECTED));\n        } else if (res === 'authorized') {\n            if (previousState) {\n                switchState(previousState);\n            } else {\n                switchState(getDefaultBtnState());\n            }\n        }\n    }\n\n    function onMicStart() {\n        // console.log('BTN: mic. started', new Date());\n        switchState(LISTENING);\n        isAlanActive = true;\n\n        if (window.tutorProject) {\n            window.tutorProject.on('text', onTextCbInMicBtn);\n            window.tutorProject.on('parsed', onParsedCbInMicBtn);\n            window.tutorProject.on('recognized', onRecognizedCbInMicBtn);\n            window.tutorProject.on('connectStatus', onConnectStatusChange);\n            window.tutorProject.on('options', onOptionsReceived);\n        }\n    }\n\n    function onMicStop() {\n        // console.log('BTN: mic. stopped');\n        playSoundOff();\n        isAlanSpeaking = false;\n\n        alanAudio.off('micStart', onMicStart);\n        alanAudio.off('micStop', onMicStop);\n        alanAudio.off('micFail', onMicFail);\n        alanAudio.off('playStart', onPlayStart);\n        alanAudio.off('playStop', onPlayStop);\n        alanAudio.off('command', onCommandCbInMicBtn);\n        hideRecognisedText();\n\n        switchState(DEFAULT);\n\n        isAlanActive = false;\n\n        if (window.tutorProject) {\n            window.tutorProject.off('text', onTextCbInMicBtn);\n            window.tutorProject.off('parsed', onParsedCbInMicBtn);\n            window.tutorProject.off('recognized', onRecognizedCbInMicBtn);\n            window.tutorProject.off('connectStatus', onConnectStatusChange);\n            window.tutorProject.off('options', onOptionsReceived);\n        }\n\n        if (options.onMicStopped) {\n            options.onMicStopped();\n        }\n    }\n\n    function onMicFail() {\n        // console.log('BTN: mic. failed');\n        onMicStop();\n        alert(MIC_BLOCKED_MSG);\n        switchState(PERMISSION_DENIED);\n    }\n\n    function onPlayStart(e) {\n        // console.log('BTN: play start');\n        isAlanSpeaking = true;\n        switchState(SPEAKING);\n        turnOffVoiceFn();\n    }\n\n    function onPlayStop(e) {\n        // console.log('BTN: play stop');\n        isAlanSpeaking = false;\n        switchState(LISTENING);\n        turnOffVoiceFn();\n    }\n\n    function onTextCbInMicBtn(e) {\n        // console.info('BTN: onTextCb', e, new Date());\n        turnOffVoiceFn();\n    }\n\n    function onParsedCbInMicBtn(e) {\n        // console.info('BTN: onParsedCb', e, new Date());\n        turnOffVoiceFn();\n        showRecognisedText(e);\n    }\n\n    function onRecognizedCbInMicBtn(e) {\n        // console.info('BTN: onRecognizedTextCb', e, new Date());\n        if (options.onReceiveRecognisedText) {\n            options.onReceiveRecognisedText(e);\n        }\n\n        if (e.final === true) {\n            switchState(UNDERSTOOD);\n        } else {\n            switchState(INTERMEDIATE);\n        }\n\n        showRecognisedText(e);\n        turnOffVoiceFn();\n    }\n\n    function onCommandCbInMicBtn(e) {\n        // console.info('BTN: onCommandCbInMicBtn', e, new Date());\n        if (options.onCommand) {\n            options.onCommand(e.data);\n        }\n        switchState(LISTENING);\n        turnOffVoiceFn();\n    }\n\n    function playSoundOn() {\n        if (!soundOnAudioDoesNotExist) {\n            soundOnAudio.play().catch(function () {\n                console.log(\"No activation sound, because the user didn't interact with the button\");\n            });\n        }\n    }\n\n    function playSoundOff() {\n        if (!soundOffAudioDoesNotExist) {\n            soundOffAudio.play().catch(function () {\n                console.log(\"No deactivation sound, because the user didn't interact with the button\");\n            });\n        }\n    }\n\n    window.switchState = switchState;\n\n    function switchState(newState) {\n\n        // console.info('BTN: state', newState);\n\n        var tempLogoParts = [],\n            i = 0;\n\n        if (newState !== DISCONNECTED) {\n            previousState = newState;\n        }\n\n        currentErrMsg = null;\n\n        if (newState === DEFAULT) {\n            btn.style.animation = '';\n            micIcon.style.animation = '';\n            micTriangleIcon.style.animation = '';\n\n            btnBgDefault.classList.remove('super-hidden');\n            btnBgDefault.style.opacity = onOpacity;\n            btnOval1.style.animation = '';\n            btnOval2.style.animation = '';\n            btnOval1.style.opacity = 0;\n            btnOval2.style.opacity = 0;\n            changeBgColors(DEFAULT);\n\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 0;\n\n            hideLayers([\n                btnBgListening,\n                btnBgSpeaking,\n                btnBgIntermediate,\n                btnBgUnderstood,\n            ]);\n        } else if (newState === LISTENING) {\n            btn.style.animation = pulsatingAnimation;\n            micIcon.style.animation = pulsatingMicAnimation;\n            micTriangleIcon.style.animation = pulsatingTriangleMicAnimation;\n\n            btnBgListening.classList.remove('super-hidden');\n            btnBgListening.style.opacity = onOpacity;\n\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n\n            changeBgColors(LISTENING);\n\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 1;\n\n            hideLayers([\n                btnBgSpeaking,\n                btnBgIntermediate,\n                btnBgUnderstood,\n            ]);\n        } else if (newState === SPEAKING) {\n            hideRecognisedText();\n            btn.style.animation = pulsatingAnimation;\n\n            btnBgSpeaking.classList.remove('super-hidden');\n            btnBgSpeaking.style.opacity = onOpacity;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n            changeBgColors(SPEAKING);\n\n            hideLayers([\n                btnBgDefault,\n                btnBgListening,\n                btnBgIntermediate,\n                btnBgUnderstood,\n            ]);\n        } else if (newState === INTERMEDIATE) {\n            btn.style.animation = pulsatingAnimation;\n\n            btnBgIntermediate.classList.remove('super-hidden');\n            btnBgIntermediate.style.opacity = onOpacity;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n            changeBgColors(INTERMEDIATE);\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 1;\n\n            hideLayers([\n                btnBgDefault,\n                btnBgListening,\n                btnBgSpeaking,\n                btnBgUnderstood,\n\n            ]);\n        } else if (newState === UNDERSTOOD) {\n            btn.style.animation = pulsatingAnimation;\n\n            btnBgUnderstood.classList.remove('super-hidden');\n            btnBgUnderstood.style.opacity = onOpacity;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n            changeBgColors(UNDERSTOOD);\n\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 1;\n\n            hideLayers([\n                btnBgDefault,\n                btnBgListening,\n                btnBgSpeaking,\n                btnBgIntermediate,\n\n            ]);\n        }\n\n        if (newState === SPEAKING) {\n            micTriangleIcon.style.opacity = 0;\n            micCircleIcon.style.opacity = 1;\n            micTriangleIcon.style.backgroundSize = '0% 0%';\n            micCircleIcon.style.backgroundSize = '100% 100%';\n        } else  {\n            micCircleIcon.style.opacity = 0;\n            micCircleIcon.style.backgroundSize = '0% 0%';\n            micTriangleIcon.style.backgroundSize = '100% 100%';\n        }\n\n        if (newState === DEFAULT) {\n            micTriangleIcon.classList.add('triangleMicIconBg-default');\n        } else {\n            micTriangleIcon.classList.remove('triangleMicIconBg-default');\n        }\n\n        tempLogoParts = [\n            logoState1,\n            logoState2,\n            logoState3,\n            logoState4,\n            logoState5,\n            logoState6,\n            logoState7,\n            logoState8,\n            logoState9,\n            logoState10\n        ];\n\n        if(!customBtnLogoUrl) {\n            if (newState === LISTENING ||\n                newState === INTERMEDIATE ||\n                newState === SPEAKING ||\n                newState === UNDERSTOOD) {\n    \n                if (logoState1.style.animationName === '') {\n                    for (i = 0; i < tempLogoParts.length; i++) {\n                        if (i === 0) {\n                            tempLogoParts[i].style.opacity = 1;\n                        } else {\n                            tempLogoParts[i].style.opacity = 0;\n                        }\n                        tempLogoParts[i].style.animationName = 'logo-state-' + (i + 1) + '-animation';\n                    }\n                }\n                defaultStateBtnIcon.style.opacity = 0;\n            } else {\n                defaultStateBtnIcon.style.opacity = 1;\n                for (i = 0; i < tempLogoParts.length; i++) {\n                    tempLogoParts[i].style.opacity = 0;\n                    tempLogoParts[i].style.animationName = '';\n                }\n            }\n        }\n\n        if (newState === LOW_VOLUME || newState === PERMISSION_DENIED || newState === NO_VOICE_SUPPORT || newState === NOT_SECURE_ORIGIN) {\n            if (newState === LOW_VOLUME) {\n                rootEl.classList.add(\"alan-btn-low-volume\");\n                currentErrMsg = LOW_VOLUME_MSG;\n            } else if (newState === PERMISSION_DENIED) {\n                rootEl.classList.add(\"alan-btn-permission-denied\");\n                currentErrMsg = MIC_BLOCKED_MSG;\n            } else if (newState === NO_VOICE_SUPPORT || newState === NOT_SECURE_ORIGIN) {\n                rootEl.classList.add(\"alan-btn-no-voice-support\");\n                if (newState === NO_VOICE_SUPPORT) {\n                    currentErrMsg = NO_VOICE_SUPPORT_IN_BROWSER_MSG;\n                } else if (newState === NOT_SECURE_ORIGIN) {\n                    currentErrMsg = NOT_SECURE_ORIGIN_MSG;\n                }\n            }\n\n            if (newState === NO_VOICE_SUPPORT) {\n                noVoiceSupportMicIcon.style.opacity = 1;\n                lowVolumeMicIcon.style.opacity = 0;\n            } else {\n                noVoiceSupportMicIcon.style.opacity = 0;\n                lowVolumeMicIcon.style.opacity = 1;\n            }\n            micIcon.style.opacity = 0;\n            micTriangleIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 0;\n            offlineIcon.style.opacity = 0;\n            btnOval1.style.animation = '';\n            btnOval2.style.animation = '';\n            btnOval1.style.opacity = 0;\n            btnOval2.style.opacity = 0;\n        } else if (newState === DISCONNECTED || newState === OFFLINE ) {\n            if (newState === DISCONNECTED) {\n                rootEl.classList.add(\"alan-btn-disconnected\");\n            }\n            if (newState === OFFLINE) {\n                rootEl.classList.add(\"alan-btn-offline\");\n                currentErrMsg = OFFLINE_MSG;\n            }\n            micTriangleIcon.style.opacity = 0;\n            lowVolumeMicIcon.style.opacity = 0;\n            btnOval1.style.animation = '';\n            btnOval2.style.animation = '';\n            btnOval1.style.opacity = 0;\n            btnOval2.style.opacity = 0;\n\n            if (newState === DISCONNECTED) {\n                micIcon.style.opacity = 0;\n                disconnectedMicLoaderIcon.style.opacity = 1;\n            } else {\n                micIcon.style.opacity = 0;\n                disconnectedMicLoaderIcon.style.opacity = 0;\n                offlineIcon.style.opacity = 1;\n            }\n        } else {\n            lowVolumeMicIcon.style.opacity = 0;\n            offlineIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 0;\n            rootEl.classList.remove(\"alan-btn-low-volume\");\n            rootEl.classList.remove(\"alan-btn-permission-denied\");\n            rootEl.classList.remove(\"alan-btn-disconnected\");\n            rootEl.classList.remove(\"alan-btn-offline\");\n            rootEl.classList.remove(\"alan-btn-no-voice-support\");\n        }\n\n        state = newState;\n    }\n\n    //#endregion\n\n    //#region Helpers\n    function applyBgStyles(el, backgroundImage) {\n        el.style.transition = 'all 0.4s linear';\n        el.style.position = 'absolute';\n        el.style.top = '0px';\n        el.style.left = '0px';\n        el.style.width = '100%';\n        el.style.height = '100%';\n        el.style.borderRadius = '50%';\n        el.style.zIndex = btnBgLayerZIndex;\n        el.style.backgroundPosition = '0 0';\n        el.style.opacity = 0;\n        el.style.opacity = 0;\n        el.style.transition = 'opacity 300ms ease-in-out';\n        el.style.animation = gradientAnimation;\n    }\n\n    function hideLayers(layers) {\n        for (var i = 0; i < layers.length; i++) {\n            layers[i].style.opacity = offOpacity;\n            layers[i].classList.add('super-hidden');\n        }\n    }\n\n    function changeBgColors(state) {\n        var tempBgLayers = [btnOval1, btnOval2];\n        var newStateName = state || DEFAULT;\n        var tempBgLayerClasses = [\n            'alanBtn-oval-bg-' + DEFAULT,\n            'alanBtn-oval-bg-' + LISTENING,\n            'alanBtn-oval-bg-' + INTERMEDIATE,\n            'alanBtn-oval-bg-' + UNDERSTOOD,\n            'alanBtn-oval-bg-' + SPEAKING,\n        ];\n\n        for (var i = 0; i < tempBgLayers.length; i++) {\n            for (var j = 0; j < tempBgLayerClasses.length; j++) {\n                tempBgLayers[i].classList.remove(tempBgLayerClasses[j]);\n            }\n            tempBgLayers[i].classList.add('alanBtn-oval-bg-' + newStateName);\n        }\n    }\n\n    function getStorageKey() {\n        var key = '';\n        if (options && options.key) {\n            key = options.key;\n        }\n        return 'alan-btn-options-' + key;\n    }\n\n    function isMobile() {\n        if (/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n            return true;\n        }\n        return false;\n    }\n\n    function isOriginSecure() {\n        var isSecure = false;\n        var protocol = window.location.protocol;\n        var hostname = window.location.hostname;\n\n        if (protocol === 'https:') {\n            isSecure = true;\n        }\n\n        if (protocol === 'file:') {\n            isSecure = true;\n        }\n\n        if (protocol === 'http:' && (hostname.indexOf('localhost') > -1 || hostname.indexOf('127.0.0.1') > -1)) {\n            isSecure = true;\n        }\n\n        return isSecure;\n    }\n\n    function isAudioSupported() {\n        var available = false,\n            fakeGetUserMedia,\n            fakeContext;\n\n        fakeGetUserMedia = (navigator.getUserMedia ||\n            navigator.webkitGetUserMedia ||\n            navigator.mozGetUserMedia ||\n            navigator.msGetUserMedia);\n\n        fakeContext = window.AudioContext ||\n            window.webkitAudioContext ||\n            window.mozAudioContext;\n\n        if (fakeGetUserMedia && fakeContext) {\n            available = true;\n        }\n\n        return available;\n    }\n\n    function getDebugInfo() {\n        var info = '\\nDebug Info:\\n';\n\n        info += 'getUserMedia - ';\n        info += navigator.getUserMedia ? 'true' : 'false';\n        info += '\\n';\n\n        info += 'mediaDevices.getUserMedia - ';\n        info += (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) ? 'true' : 'false';\n        info += '\\n';\n\n        info += 'webkitGetUserMedia - ';\n        info += navigator.webkitGetUserMedia ? 'true' : 'false';\n        info += '\\n';\n\n        info += 'mozGetUserMedia - ';\n        info += navigator.mozGetUserMedia ? 'true' : 'false';\n        info += '\\n';\n\n        info += 'msGetUserMedia - ';\n        info += navigator.msGetUserMedia ? 'true' : 'false';\n        info += '\\n';\n\n        info += 'AudioContext - ';\n        info += window.AudioContext ? 'true' : 'false';\n        info += '\\n';\n\n        info += 'webkitAudioContext - ';\n        info += window.webkitAudioContext ? 'true' : 'false';\n        info += '\\n';\n\n        info += 'mozAudioContext - ';\n        info += window.mozAudioContext ? 'true' : 'false';\n        info += '\\n';\n\n        info += 'mobile - ';\n        info += /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        info += '\\n';\n\n        info += 'userAgent - ';\n        info += navigator.userAgent;\n\n        return info;\n    }\n\n    //#endregion\n\n    //#region Append layers to the rootEl\n    function showAlanBtn() {\n        rootEl.innerHTML = '';\n\n        textHolder.appendChild(textHolderTextWrapper);\n\n        rootEl.appendChild(textHolder);\n        rootEl.appendChild(btn);\n        btnDisabled = false;\n    }\n\n    function hideAlanBtn() {\n        if (!isTutorMode()) {\n            alanAudio.stop();\n            rootEl.innerHTML = '';\n            if (mode === 'demo') {\n                rootEl.appendChild(alanBtnDisabledMessage);\n            }\n            btnDisabled = true;\n        }\n    }\n\n    function showSpeach2TextPanel() {\n        hideS2TPanel = false;\n    }\n\n    function hideSpeach2TextPanel() {\n        hideS2TPanel = true;\n        hideRecognisedText();\n    }\n\n    function applyBtnOptions(btnOptions) {\n        if (btnOptions) {\n            createAlanStyleSheet(btnOptions);\n        }\n    }\n\n    function applyLogoOptions(logoUrl) {\n        if (logoUrl) {\n            customBtnLogoUrl = logoUrl;\n            defaultStateBtnIcon.src = logoUrl;\n            micIcon.src = logoUrl;\n            micTriangleIcon.src = logoUrl;\n            micTriangleIcon.classList.remove('triangleMicIconBg');\n            // logoState1.src=logoUrl;\n            // logoState2.src=logoUrl;\n            // logoState3.src=logoUrl;\n            // logoState4.src=logoUrl;\n            // logoState5.src=logoUrl;\n            // logoState6.src=logoUrl;\n            // logoState7.src=logoUrl;\n            // logoState8.src=logoUrl;\n            // logoState9.src=logoUrl;\n            // logoState10.src=logoUrl;\n        }\n    }\n\n    rootEl.classList.add(\"alanBtn-root\");\n    rootEl.classList.add(\"alan-\" + getProjectId());\n\n    var alanBtnSavedOptions = null;\n\n    if (isTutorMode()) {\n        showAlanBtn();\n    } else {\n        if (isLocalStorageAvailable) {\n            try {\n                tryReadSettingsFromLocalStorage();\n            } catch (e) {\n                showAlanBtn();\n            }\n        } else {\n            showAlanBtn();\n        }\n    }\n\n    function tryReadSettingsFromLocalStorage() {\n        if (isLocalStorageAvailable) {\n            try {\n                alanBtnSavedOptions = JSON.parse(localStorage.getItem(getStorageKey()));\n\n                if (alanBtnSavedOptions && alanBtnSavedOptions.web) {\n\n                    if (alanBtnSavedOptions.web.btnOptions) {\n                        applyBtnOptions(alanBtnSavedOptions.web.btnOptions);\n                    }\n\n                    if (alanBtnSavedOptions.web.hidden !== true) {\n                        showAlanBtn();\n                    } else {\n                        hideAlanBtn();\n                    }\n\n                }\n            } catch (e) {\n\n            }\n        }\n    }\n\n    if (!options.rootEl) {\n        body.appendChild(rootEl);\n    }\n    // showRecognisedText({})\n\n    //#endregion\n\n    //#region Drag-n-drop btn logic\n    var dndInitialMousePositions = [0, 0];\n    var dndIsDown = false;\n    var afterMouseMove = false;\n    var dndSideBtnPos = null;\n    var dndTopPos;\n    var dndBottomPos;\n    var dndFinalLeftPos;\n    var dndFinalRightPos;\n    var dndAnimDelay = 300;\n    var dndAnimTransition = dndAnimDelay + 'ms';\n    var dndBackAnimFinished = true;\n\n    if (!pinned) {\n        rootEl.addEventListener('mousedown', onMouseDown, true);\n        rootEl.addEventListener('touchstart', onMouseDown, { passive: false });\n\n        document.addEventListener('mouseup', onMouseUp, true);\n        document.addEventListener('touchend', onMouseUp, { passive: false });\n\n        document.addEventListener('mousemove', onMouseMove, true);\n        document.addEventListener('touchmove', onMouseMove, { passive: false });\n    }\n\n    function onMouseDown(e) {\n        console.info('onMouseDown', e);\n        var posInfo = e.touches ? e.touches[0] : e;\n        if (!dndBackAnimFinished || e.buttons !== 1) return;\n        dndIsDown = true;\n        rootEl.style.transition = '0ms';\n        if (!dndSideBtnPos) {\n            dndSideBtnPos = isLeftAligned ? rootEl.offsetLeft : window.innerWidth - rootEl.offsetLeft;\n        }\n\n        dndInitialMousePositions = [\n            posInfo.clientX,\n            posInfo.clientY\n        ];\n        if (isTopAligned) {\n            dndTopPos = +rootEl.style.top.replace('px', '');\n        } else {\n            dndBottomPos = +rootEl.style.bottom.replace('px', '');\n        }\n    }\n\n    function onMouseUp(e) {\n        var curPos;\n        if (dndIsDown) {\n            dndIsDown = false;\n            rootEl.style.transition = dndAnimTransition;\n            if (isLeftAligned) {\n                curPos = +rootEl.style.left.replace('px', '');\n            } else {\n                curPos = +rootEl.style.right.replace('px', '');\n            }\n            if (curPos <= window.innerWidth / 2) {\n                moveBtnToTheSameSide();\n            } else {\n                moveBtnToTheOppositeSide();\n            }\n\n            setTimeout(function () {\n                afterMouseMove = false;\n            }, 300);\n        }\n    }\n\n    function onMouseMove(e) {\n        var posInfo = e.touches ? e.touches[0] : e;\n\n        if (dndIsDown) {\n            e.preventDefault();\n            afterMouseMove = true;\n\n            if (isLeftAligned) {\n                dndFinalLeftPos = (dndSideBtnPos + posInfo.clientX - dndInitialMousePositions[0]);\n                dndFinalRightPos = window.innerWidth - dndFinalLeftPos;\n                rootEl.style.left = (dndSideBtnPos + posInfo.clientX - dndInitialMousePositions[0]) + 'px';\n            } else {\n                dndFinalRightPos = (dndSideBtnPos - posInfo.clientX + dndInitialMousePositions[0]);\n                dndFinalLeftPos = window.innerWidth - dndFinalRightPos;\n                rootEl.style.right = (dndSideBtnPos - posInfo.clientX + dndInitialMousePositions[0]) + 'px';\n            }\n\n            if (isTopAligned) {\n                rootEl.style.top = correctYPos(dndTopPos + posInfo.clientY - dndInitialMousePositions[1]) + 'px';\n            } else {\n                rootEl.style.bottom = correctYPos(dndBottomPos - posInfo.clientY + dndInitialMousePositions[1]) + 'px';\n            }\n        }\n    }\n\n    function correctYPos(yPos) {\n        var defDelta = 10;\n        if (yPos < 0) {\n            return defDelta;\n        } else if (yPos > window.innerHeight - btnSize - defDelta) {\n            return window.innerHeight - btnSize - defDelta;\n        }\n        return yPos;\n    }\n\n    function changeBtnSide(side) {\n        if (side === 'to-left') {\n            rootEl.style.right = '';\n            isLeftAligned = true;\n            isRightAligned = false;\n        } else {\n            rootEl.style.left = '';\n            isLeftAligned = false;\n            isRightAligned = true;\n        }\n        setStylesBasedOnSide();\n    }\n\n    function moveBtnToTheSameSide() {\n        rootEl.style.transition = dndAnimTransition;\n        rootEl.style[isLeftAligned ? 'left' : 'right'] = dndSideBtnPos + 'px';\n    }\n\n    function moveBtnToTheOppositeSide() {\n        var finalBtnPos = (window.innerWidth - dndSideBtnPos - btnSize) + 'px';\n        dndBackAnimFinished = false;\n        if (isLeftAligned) {\n            rootEl.style.left = finalBtnPos;\n            setTimeout(function () {\n                rootEl.style.right = dndSideBtnPos + 'px';\n                changeBtnSide('to-right');\n                dndBackAnimFinished = true;\n            }, dndAnimDelay);\n        } else {\n            rootEl.style.right = finalBtnPos;\n            setTimeout(function () {\n                rootEl.style.left = dndSideBtnPos + 'px';\n                changeBtnSide('to-left');\n                dndBackAnimFinished = true;\n            }, dndAnimDelay);\n        }\n    }\n\n    //#endregion\n\n    return btnInstance;\n}\nns.alanBtn = alanBtn;\n\n})(window);\nreturn alanBtn;\n}));\n"]},"metadata":{},"sourceType":"script"}