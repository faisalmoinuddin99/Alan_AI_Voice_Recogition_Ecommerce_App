{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport alanBtn from \"@alan-ai/alan-sdk-web\";\nimport { useCart } from \"../context/CartContext\";\nconst COMMANDS = {\n  OPEN_CART: \"open-cart\"\n};\nexport default function useAlan() {\n  _s();\n\n  const [alanInstance, setAlanInstance] = useState();\n  const {\n    setShowCartItems,\n    isCartEmpty\n  } = useCart();\n  const openCart = useCallback(() => {\n    if (isCartEmpty) {\n      alanInstance.playText(\"faisal sir! aapka cart empty hai.\");\n    } else {\n      alanInstance.playText(\"jee malik faisal sir!  maine, right hand side, mai khool diya hai\");\n      setShowCartItems(true);\n    }\n  }, [alanInstance, setShowCartItems, isCartEmpty]);\n  useEffect(() => {\n    window.addEventListener(COMMANDS.OPEN_CART, openCart);\n    return () => {\n      window.removeEventListener(COMMANDS.OPEN_CART, openCart);\n    };\n  }, [openCart]);\n  useEffect(() => {\n    if (alanInstance != null) return;\n    setAlanInstance(alanBtn({\n      top: \"15px\",\n      left: \"15px\",\n      key: process.env.REACT_APP_ALAN_KEY,\n      onCommand: ({\n        command\n      }) => {\n        window.dispatchEvent(new CustomEvent(command));\n      }\n    }));\n  }, []);\n  return null;\n}\n\n_s(useAlan, \"HfXl6pb9M7piVayHnvbx3pWsuiU=\", false, function () {\n  return [useCart];\n});","map":{"version":3,"sources":["/Users/zareennaushad/Documents/FAISAL/ios/Voice Recognition Ecommerce App/Alan_AI_Voice_Recogition_Ecommerce_App/src/hooks/useAlan.js"],"names":["useCallback","useEffect","useState","alanBtn","useCart","COMMANDS","OPEN_CART","useAlan","alanInstance","setAlanInstance","setShowCartItems","isCartEmpty","openCart","playText","window","addEventListener","removeEventListener","top","left","key","process","env","REACT_APP_ALAN_KEY","onCommand","command","dispatchEvent","CustomEvent"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,OAAT,QAAwB,wBAAxB;AAEA,MAAMC,QAAQ,GAAG;AACfC,EAAAA,SAAS,EAAE;AADI,CAAjB;AAIA,eAAe,SAASC,OAAT,GAAmB;AAAA;;AAChC,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCP,QAAQ,EAAhD;AACA,QAAM;AAAEQ,IAAAA,gBAAF;AAAoBC,IAAAA;AAApB,MAAoCP,OAAO,EAAjD;AAEA,QAAMQ,QAAQ,GAAGZ,WAAW,CAAC,MAAM;AACjC,QAAIW,WAAJ,EAAiB;AACfH,MAAAA,YAAY,CAACK,QAAb,CAAsB,mCAAtB;AACD,KAFD,MAEO;AACLL,MAAAA,YAAY,CAACK,QAAb,CACE,mEADF;AAGAH,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD;AACF,GAT2B,EASzB,CAACF,YAAD,EAAeE,gBAAf,EAAiCC,WAAjC,CATyB,CAA5B;AAWAV,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,MAAM,CAACC,gBAAP,CAAwBV,QAAQ,CAACC,SAAjC,EAA4CM,QAA5C;AAEA,WAAO,MAAM;AACXE,MAAAA,MAAM,CAACE,mBAAP,CAA2BX,QAAQ,CAACC,SAApC,EAA+CM,QAA/C;AACD,KAFD;AAGD,GANQ,EAMN,CAACA,QAAD,CANM,CAAT;AAQAX,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIO,YAAY,IAAI,IAApB,EAA0B;AAC1BC,IAAAA,eAAe,CACbN,OAAO,CAAC;AACNc,MAAAA,GAAG,EAAE,MADC;AAENC,MAAAA,IAAI,EAAE,MAFA;AAGNC,MAAAA,GAAG,EAAEC,OAAO,CAACC,GAAR,CAAYC,kBAHX;AAINC,MAAAA,SAAS,EAAE,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAiB;AAC1BV,QAAAA,MAAM,CAACW,aAAP,CAAqB,IAAIC,WAAJ,CAAgBF,OAAhB,CAArB;AACD;AANK,KAAD,CADM,CAAf;AAUD,GAZQ,EAYN,EAZM,CAAT;AAaA,SAAO,IAAP;AACD;;GArCuBjB,O;UAEoBH,O","sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport alanBtn from \"@alan-ai/alan-sdk-web\";\nimport { useCart } from \"../context/CartContext\";\n\nconst COMMANDS = {\n  OPEN_CART: \"open-cart\",\n};\n\nexport default function useAlan() {\n  const [alanInstance, setAlanInstance] = useState();\n  const { setShowCartItems, isCartEmpty } = useCart();\n\n  const openCart = useCallback(() => {\n    if (isCartEmpty) {\n      alanInstance.playText(\"faisal sir! aapka cart empty hai.\");\n    } else {\n      alanInstance.playText(\n        \"jee malik faisal sir!  maine, right hand side, mai khool diya hai\"\n      );\n      setShowCartItems(true);\n    }\n  }, [alanInstance, setShowCartItems, isCartEmpty]);\n\n  useEffect(() => {\n    window.addEventListener(COMMANDS.OPEN_CART, openCart);\n\n    return () => {\n      window.removeEventListener(COMMANDS.OPEN_CART, openCart);\n    };\n  }, [openCart]);\n\n  useEffect(() => {\n    if (alanInstance != null) return;\n    setAlanInstance(\n      alanBtn({\n        top: \"15px\",\n        left: \"15px\",\n        key: process.env.REACT_APP_ALAN_KEY,\n        onCommand: ({ command }) => {\n          window.dispatchEvent(new CustomEvent(command));\n        },\n      })\n    );\n  }, []);\n  return null;\n}\n"]},"metadata":{},"sourceType":"module"}